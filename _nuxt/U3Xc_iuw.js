import{g as e,i as t,e8 as o,r as l,m as r,l as a,I as n,dR as s,ct as i,p as c,en as d,k as u,e1 as h,eD as m,er as f,cb as w,c9 as p,e7 as g,dW as y,c3 as x,f as v,cr as R,ef as b,eU as S,b as T,eT as H,n as C,cc as I,eV as E,an as M,dQ as O,at as K,F as W,eW as D,c2 as A,ai as L,dl as z,bR as k,eX as F,by as j,ed as N,eY as V,eZ as G,ec as $,b1 as P,cf as B,v as q,c8 as U,e_ as _,z as X,P as Y,e$ as Q,K as Z,o as J,w as ee,a1 as te,D as oe,ao as le,ap as re,c as ae,B as ne,aM as se,aN as ie,t as ce,a as de,G as ue,_ as he}from"#entry";import{v as me,d as fe,e as we,I as pe,S as ge,F as ye,f as xe,B as ve,A as Re,g as be,R as Se,h as Te,i as He,j as Ce,k as Ie,l as Ee,m as Me,D as Oe,C as Ke,n as We,o as De,p as Ae,E as Le}from"./DWsaYBFQ.js";import{c as ze,r as ke}from"./EyvYgUJ0.js";import"./1bXUUYzG.js";var Fe=(e=>(e.ASC="asc",e.DESC="desc",e))(Fe||{}),je=(e=>(e.LEFT="left",e.CENTER="center",e.RIGHT="right",e))(je||{}),Ne=(e=>(e.LEFT="left",e.RIGHT="right",e))(Ne||{});const Ve={asc:"desc",desc:"asc"},Ge=Symbol("placeholder");const $e=(o,{mainTableRef:r,leftTableRef:d,rightTableRef:u,tableInstance:h,ns:m,isScrolling:f})=>{const w=a(),{emit:p}=w,g=n(!1),y=l(o.defaultExpandedRowKeys||[]),x=l(-1),v=n(null),R=l({}),b=l({}),S=n({}),T=n({}),H=n({}),C=e(()=>s(o.estimatedRowHeight));function I({hovered:e,rowKey:t}){if(f.value)return;h.vnode.el.querySelectorAll(`[rowkey="${String(t)}"]`).forEach(t=>{e?t.classList.add(m.is("hovered")):t.classList.remove(m.is("hovered"))})}const E=i(()=>{var e,o,l,a;g.value=!0,R.value={...t(R),...t(b)},M(t(v),!1),b.value={},v.value=null,null==(e=r.value)||e.forceUpdate(),null==(o=d.value)||o.forceUpdate(),null==(l=u.value)||l.forceUpdate(),null==(a=w.proxy)||a.$forceUpdate(),g.value=!1},0);function M(e,o=!1){t(C)&&[r,d,u].forEach(l=>{const r=t(l);r&&r.resetAfterRowIndex(e,o)})}return{expandedRowKeys:y,lastRenderedRowIndex:x,isDynamic:C,isResetting:g,rowHeights:R,resetAfterIndex:M,onRowExpanded:function({expanded:e,rowData:l,rowIndex:r,rowKey:a}){var n,s;const i=[...t(y)],d=i.indexOf(a);e?-1===d&&i.push(a):d>-1&&i.splice(d,1),y.value=i,p("update:expandedRowKeys",i),null==(n=o.onRowExpand)||n.call(o,{expanded:e,rowData:l,rowIndex:r,rowKey:a}),null==(s=o.onExpandedRowsChange)||s.call(o,i),h.vnode.el.querySelector(`.${m.is("hovered")}[rowkey="${String(a)}"]`)&&c(()=>I({hovered:!0,rowKey:a}))},onRowHovered:I,onRowsRendered:function(e){var l;null==(l=o.onRowsRendered)||l.call(o,e),e.rowCacheEnd>t(x)&&(x.value=e.rowCacheEnd)},onRowHeightChange:function({rowKey:e,height:o,rowIndex:l},r){r?r===Ne.RIGHT?H.value[e]=o:S.value[e]=o:T.value[e]=o;const a=Math.max(...[S,H,T].map(t=>t.value[e]||0));t(R)[e]!==a&&(!function(e,o,l){const r=t(v);(null===r||r>l)&&(v.value=l),b.value[e]=o}(e,a,l),E())}}},Pe=(e,t)=>e+t,Be=e=>d(e)?e.reduce(Pe,0):e,qe=(e,t,o={})=>f(e)?e(t):null!=e?e:o,Ue=e=>(["width","maxWidth","minWidth","height"].forEach(t=>{e[t]=h(e[t])}),e),_e=e=>m(e)?t=>u(e,t):e;function Xe(i){const c=l(),u=l(),m=l(),{columns:f,columnsStyles:g,columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,hasFixedColumns:R,mainColumns:b,onColumnSorted:S}=function(l,r,a){const n=e(()=>t(r).map((e,t)=>{var o,l;return{...e,key:null!=(l=null!=(o=e.key)?o:e.dataKey)?l:t}})),s=e(()=>t(n).filter(e=>!e.hidden)),i=e(()=>t(s).filter(e=>"left"===e.fixed||!0===e.fixed)),c=e(()=>t(s).filter(e=>"right"===e.fixed)),d=e(()=>t(s).filter(e=>!e.fixed)),u=e(()=>{const e=[];return t(i).forEach(t=>{e.push({...t,placeholderSign:Ge})}),t(d).forEach(t=>{e.push(t)}),t(c).forEach(t=>{e.push({...t,placeholderSign:Ge})}),e}),h=e(()=>t(i).length||t(c).length),m=e(()=>t(n).reduce((e,o)=>(e[o.key]=((e,t,o)=>{var l;const r={flexGrow:0,flexShrink:0,...o?{}:{flexGrow:e.flexGrow||0,flexShrink:e.flexShrink||1}};o||(r.flexShrink=1);const a={...null!=(l=e.style)?l:{},...r,flexBasis:"auto",width:e.width};return t||(e.maxWidth&&(a.maxWidth=e.maxWidth),e.minWidth&&(a.minWidth=e.minWidth)),a})(o,t(a),l.fixed),e),{})),f=e(()=>t(s).reduce((e,t)=>e+t.width,0)),w=e=>t(n).find(t=>t.key===e);return{columns:n,columnsStyles:m,columnsTotalWidth:f,fixedColumnsOnLeft:i,fixedColumnsOnRight:c,hasFixedColumns:h,mainColumns:u,normalColumns:d,visibleColumns:s,getColumn:w,getColumnStyle:e=>t(m)[e],updateColumnWidth:(e,t)=>{e.width=t},onColumnSorted:function(e){var t;const{key:r}=e.currentTarget.dataset;if(!r)return;const{sortState:a,sortBy:n}=l;let s=Fe.ASC;s=o(a)?Ve[a[r]]:Ve[n.order],null==(t=l.onColumnSort)||t.call(l,{column:w(r),key:r,order:s})}}}(i,w(i,"columns"),w(i,"fixed")),{scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M,scrollPos:O}=((e,{mainTableRef:o,leftTableRef:a,rightTableRef:n,onMaybeEndReached:s})=>{const i=l({scrollLeft:0,scrollTop:0});function c(e){var t,l,r;const{scrollTop:s}=e;null==(t=o.value)||t.scrollTo(e),null==(l=a.value)||l.scrollToTop(s),null==(r=n.value)||r.scrollToTop(s)}function d(e){i.value=e,c(e)}function u(e){i.value.scrollTop=e,c(t(i))}return r(()=>t(i).scrollTop,(e,t)=>{e>t&&s()}),{scrollPos:i,scrollTo:d,scrollToLeft:function(e){var l,r;i.value.scrollLeft=e,null==(r=null==(l=o.value)?void 0:l.scrollTo)||r.call(l,t(i))},scrollToTop:u,scrollToRow:function(e,t="auto"){var l;null==(l=o.value)||l.scrollToRow(e,t)},onScroll:function(t){var o;d(t),null==(o=e.onScroll)||o.call(e,t)},onVerticalScroll:function({scrollTop:e}){const{scrollTop:o}=t(i);e!==o&&u(e)}}})(i,{mainTableRef:c,leftTableRef:u,rightTableRef:m,onMaybeEndReached:function(){const{onEndReached:e}=i;if(!e)return;const{scrollTop:o}=t(O),l=t(q),r=t(Z),a=l-(o+r)+i.hScrollbarSize;!ae.value&&t(L)>=0&&l<=o+t(X)-t(oe)?(ae.value=!0,e(a)):ae.value=!1}}),K=p("table-v2"),W=a(),D=n(!1),{expandedRowKeys:A,lastRenderedRowIndex:L,isDynamic:z,isResetting:k,rowHeights:F,resetAfterIndex:j,onRowExpanded:N,onRowHeightChange:V,onRowHovered:G,onRowsRendered:$}=$e(i,{mainTableRef:c,leftTableRef:u,rightTableRef:m,tableInstance:W,ns:K,isScrolling:D}),{data:P,depthMap:B}=((o,{expandedRowKeys:a,lastRenderedRowIndex:n,resetAfterIndex:s})=>{const i=l({}),c=e(()=>{const e={},{data:l,rowKey:r}=o,n=t(a);if(!n||!n.length)return l;const s=[],c=new Set;n.forEach(e=>c.add(e));let u=l.slice();for(u.forEach(t=>e[t[r]]=0);u.length>0;){const t=u.shift();s.push(t),c.has(t[r])&&d(t.children)&&t.children.length>0&&(u=[...t.children,...u],t.children.forEach(o=>e[o[r]]=e[t[r]]+1))}return i.value=e,s}),u=e(()=>{const{data:e,expandColumnKey:l}=o;return l?t(c):e});return r(u,(e,t)=>{e!==t&&(n.value=-1,s(0,!0))}),{data:u,depthMap:i}})(i,{expandedRowKeys:A,lastRenderedRowIndex:L,resetAfterIndex:j}),q=e(()=>{const{estimatedRowHeight:e,rowHeight:o}=i,l=t(P);return s(e)?Object.values(t(F)).reduce((e,t)=>e+t,0):l.length*o}),{bodyWidth:U,fixedTableHeight:_,mainTableHeight:X,leftTableWidth:Y,rightTableWidth:Q,windowHeight:Z,footerHeight:J,emptyStyle:ee,rootStyle:te,headerHeight:oe}=((o,{columnsTotalWidth:l,rowsHeight:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:n})=>{const i=e(()=>{const{fixed:e,width:r,vScrollbarSize:a}=o,n=r-a;return e?Math.max(Math.round(t(l)),n):n}),c=e(()=>{const{height:e=0,maxHeight:l=0,footerHeight:a,hScrollbarSize:n}=o;if(l>0){const e=t(p),o=t(r),s=t(w)+e+o+n;return Math.min(s,l-a)}return e-a}),d=e(()=>{const{maxHeight:e}=o,l=t(c);if(s(e)&&e>0)return l;const a=t(r)+t(w)+t(p);return Math.min(l,a)}),u=e=>e.width,m=e(()=>Be(t(a).map(u))),f=e(()=>Be(t(n).map(u))),w=e(()=>Be(o.headerHeight)),p=e(()=>{var e;return((null==(e=o.fixedData)?void 0:e.length)||0)*o.rowHeight}),g=e(()=>t(c)-t(w)-t(p)),y=e(()=>{const{style:e={},height:t,width:l}=o;return Ue({...e,height:t,width:l})}),x=e(()=>Ue({height:o.footerHeight})),v=e(()=>({top:h(t(w)),bottom:h(o.footerHeight),width:h(o.width)}));return{bodyWidth:i,fixedTableHeight:d,mainTableHeight:c,leftTableWidth:m,rightTableWidth:f,windowHeight:g,footerHeight:x,emptyStyle:v,rootStyle:y,headerHeight:w}})(i,{columnsTotalWidth:y,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,rowsHeight:q}),le=l(),re=e(()=>{const e=0===t(P).length;return d(i.fixedData)?0===i.fixedData.length&&e:e});const ae=l(!1);return r(()=>t(q),()=>ae.value=!1),r(()=>i.expandedRowKeys,e=>A.value=e,{deep:!0}),{columns:f,containerRef:le,mainTableRef:c,leftTableRef:u,rightTableRef:m,isDynamic:z,isResetting:k,isScrolling:D,hasFixedColumns:R,columnsStyles:g,columnsTotalWidth:y,data:P,expandedRowKeys:A,depthMap:B,fixedColumnsOnLeft:x,fixedColumnsOnRight:v,mainColumns:b,bodyWidth:U,emptyStyle:ee,rootStyle:te,footerHeight:J,mainTableHeight:X,fixedTableHeight:_,leftTableWidth:Y,rightTableWidth:Q,showEmpty:re,getRowHeight:function(e){const{estimatedRowHeight:o,rowHeight:l,rowKey:r}=i;return o?t(F)[t(P)[e][r]]||o:l},onColumnSorted:S,onRowHovered:G,onRowExpanded:N,onRowsRendered:$,onRowHeightChange:V,scrollTo:T,scrollToLeft:H,scrollToTop:C,scrollToRow:I,onScroll:E,onVerticalScroll:M}}const Ye=Symbol("tableV2"),Qe="tableV2GridScrollLeft",Ze=String,Je={type:y(Array),required:!0},et={type:y(Array)},tt={...et,required:!0},ot=String,lt={type:y(Array),default:()=>g([])},rt={type:Number,required:!0},at={type:y([String,Number,Symbol]),default:"id"},nt={type:y(Object)},st=x({class:String,columns:Je,columnsStyles:{type:y(Object),required:!0},depth:Number,expandColumnKey:ot,estimatedRowHeight:{...me.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:y(Function)},onRowHover:{type:y(Function)},onRowHeightChange:{type:y(Function)},rowData:{type:y(Object),required:!0},rowEventHandlers:{type:y(Object)},rowIndex:{type:Number,required:!0},rowKey:at,style:{type:y(Object)}}),it={type:Number,required:!0},ct=x({class:String,columns:Je,fixedHeaderData:{type:y(Array)},headerData:{type:y(Array),required:!0},headerHeight:{type:y([Number,Array]),default:50},rowWidth:it,rowHeight:{type:Number,default:50},height:it,width:it}),dt=x({columns:Je,data:tt,fixedData:et,estimatedRowHeight:st.estimatedRowHeight,width:rt,height:rt,headerWidth:rt,headerHeight:ct.headerHeight,bodyWidth:rt,rowHeight:rt,cache:fe.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:me.scrollbarAlwaysOn,scrollbarStartGap:me.scrollbarStartGap,scrollbarEndGap:me.scrollbarEndGap,class:Ze,style:nt,containerStyle:nt,getRowHeight:{type:y(Function),required:!0},rowKey:st.rowKey,onRowsRendered:{type:y(Function)},onScroll:{type:y(Function)}}),ut=x({cache:dt.cache,estimatedRowHeight:st.estimatedRowHeight,rowKey:at,headerClass:{type:y([String,Function])},headerProps:{type:y([Object,Function])},headerCellProps:{type:y([Object,Function])},headerHeight:ct.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:y([String,Function])},rowProps:{type:y([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:y([Object,Function])},columns:Je,data:tt,dataGetter:{type:y(Function)},fixedData:et,expandColumnKey:st.expandColumnKey,expandedRowKeys:lt,defaultExpandedRowKeys:lt,class:Ze,fixed:Boolean,style:{type:y(Object)},width:rt,height:rt,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:me.hScrollbarSize,vScrollbarSize:me.vScrollbarSize,scrollbarAlwaysOn:we.alwaysOn,sortBy:{type:y(Object),default:()=>({})},sortState:{type:y(Object),default:void 0},onColumnSort:{type:y(Function)},onExpandedRowsChange:{type:y(Function)},onEndReached:{type:y(Function)},onRowExpand:st.onRowExpand,onScroll:dt.onScroll,onRowsRendered:dt.onRowsRendered,rowEventHandlers:st.rowEventHandlers});var ht=v({name:"ElTableV2Header",props:ct,setup(o,{slots:r,expose:a}){const n=p("table-v2"),s=R(Qe),i=l(),d=e(()=>Ue({width:o.width,height:o.height})),u=e(()=>Ue({width:o.rowWidth,height:o.height})),h=e(()=>b(t(o.headerHeight))),m=e=>{const o=t(i);c(()=>{(null==o?void 0:o.scroll)&&o.scroll({left:e})})},f=()=>{const e=n.e("fixed-header-row"),{columns:t,fixedHeaderData:l,rowHeight:a}=o;return null==l?void 0:l.map((o,l)=>{var n;const s=Ue({height:a,width:"100%"});return null==(n=r.fixed)?void 0:n.call(r,{class:e,columns:t,rowData:o,rowIndex:-(l+1),style:s})})},w=()=>{const e=n.e("dynamic-header-row"),{columns:l}=o;return t(h).map((t,o)=>{var a;const n=Ue({width:"100%",height:t});return null==(a=r.dynamic)?void 0:a.call(r,{class:e,columns:l,headerIndex:o,style:n})})};return S(()=>{(null==s?void 0:s.value)&&m(s.value)}),a({scrollToLeft:m}),()=>{if(!(o.height<=0))return T("div",{ref:i,class:o.class,style:t(d),role:"rowgroup"},[T("div",{style:t(u),class:n.e("header")},[w(),f()])])}}});const mt=({name:o,clearCache:r,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:d,getEstimatedTotalHeight:h,getEstimatedTotalWidth:m,getColumnOffset:f,getRowOffset:w,getRowPosition:g,getRowStartIndexForOffset:y,getRowStopIndexForStartIndex:x,initCache:R,injectToInstance:b,validateProps:S})=>v({name:null!=o?o:"ElVirtualList",props:me,emits:[pe,ge],setup(o,{emit:v,expose:T,slots:A}){const L=p("vl");S(o);const z=a(),k=l(R(o,z));null==b||b(z,k);const F=l(),j=l(),N=l(),V=l(null),G=l({isScrolling:!1,scrollLeft:s(o.initScrollLeft)?o.initScrollLeft:0,scrollTop:s(o.initScrollTop)?o.initScrollTop:0,updateRequested:!1,xAxisScrollDir:ye,yAxisScrollDir:ye}),$=xe(),P=e(()=>Number.parseInt(`${o.height}`,10)),B=e(()=>Number.parseInt(`${o.width}`,10)),q=e(()=>{const{totalColumn:e,totalRow:l,columnCache:r}=o,{isScrolling:a,xAxisScrollDir:n,scrollLeft:s}=t(G);if(0===e||0===l)return[0,0,0,0];const c=i(o,s,t(k)),u=d(o,c,s,t(k)),h=a&&n!==ve?1:Math.max(1,r),m=a&&n!==ye?1:Math.max(1,r);return[Math.max(0,c-h),Math.max(0,Math.min(e-1,u+m)),c,u]}),U=e(()=>{const{totalColumn:e,totalRow:l,rowCache:r}=o,{isScrolling:a,yAxisScrollDir:n,scrollTop:s}=t(G);if(0===e||0===l)return[0,0,0,0];const i=y(o,s,t(k)),c=x(o,i,s,t(k)),d=a&&n!==ve?1:Math.max(1,r),u=a&&n!==ye?1:Math.max(1,r);return[Math.max(0,i-d),Math.max(0,Math.min(l-1,c+u)),i,c]}),_=e(()=>h(o,t(k))),X=e(()=>m(o,t(k))),Y=e(()=>{var e;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:o.direction,height:s(o.height)?`${o.height}px`:o.height,width:s(o.width)?`${o.width}px`:o.width},null!=(e=o.style)?e:{}]}),Q=e(()=>{const e=`${t(X)}px`;return{height:`${t(_)}px`,pointerEvents:t(G).isScrolling?"none":void 0,width:e}}),Z=()=>{const{totalColumn:e,totalRow:l}=o;if(e>0&&l>0){const[e,o,l,r]=t(q),[a,n,s,i]=t(U);v(pe,{columnCacheStart:e,columnCacheEnd:o,rowCacheStart:a,rowCacheEnd:n,columnVisibleStart:l,columnVisibleEnd:r,rowVisibleStart:s,rowVisibleEnd:i})}const{scrollLeft:r,scrollTop:a,updateRequested:n,xAxisScrollDir:s,yAxisScrollDir:i}=t(G);v(ge,{xAxisScrollDir:s,scrollLeft:r,yAxisScrollDir:i,scrollTop:a,updateRequested:n})},J=e=>{const{clientHeight:l,clientWidth:r,scrollHeight:a,scrollLeft:n,scrollTop:s,scrollWidth:i}=e.currentTarget,d=t(G);if(d.scrollTop===s&&d.scrollLeft===n)return;let u=n;if(Ee(o.direction))switch(Te()){case Ce:u=-n;break;case Me:u=i-r-n}G.value={...d,isScrolling:!0,scrollLeft:u,scrollTop:Math.max(0,Math.min(s,a-l)),updateRequested:!0,xAxisScrollDir:be(d.scrollLeft,u),yAxisScrollDir:be(d.scrollTop,s)},c(()=>ae()),ne(),Z()},ee=(e,o)=>{const l=t(P),r=(_.value-l)/o*e;le({scrollTop:Math.min(_.value-l,r)})},te=(e,o)=>{const l=t(B),r=(X.value-l)/o*e;le({scrollLeft:Math.min(X.value-l,r)})},{onWheel:oe}=(({atXEndEdge:e,atXStartEdge:t,atYEndEdge:o,atYStartEdge:l},r)=>{let a=null,n=0,s=0;const i=(r,a)=>{const n=r<=0&&t.value||r>=0&&e.value,s=a<=0&&l.value||a>=0&&o.value;return n&&s};return{hasReachedEdge:i,onWheel:e=>{ze(a);let t=e.deltaX,o=e.deltaY;Math.abs(t)>Math.abs(o)?o=0:t=0,e.shiftKey&&0!==o&&(t=o,o=0),i(n,s)&&i(n+t,s+o)||(n+=t,s+=o,e.preventDefault(),a=ke(()=>{r(n,s),n=0,s=0}))}}})({atXStartEdge:e(()=>G.value.scrollLeft<=0),atXEndEdge:e(()=>G.value.scrollLeft>=X.value-t(B)),atYStartEdge:e(()=>G.value.scrollTop<=0),atYEndEdge:e(()=>G.value.scrollTop>=_.value-t(P))},(e,o)=>{var l,r,a,n;null==(r=null==(l=j.value)?void 0:l.onMouseUp)||r.call(l),null==(n=null==(a=N.value)?void 0:a.onMouseUp)||n.call(a);const s=t(B),i=t(P);le({scrollLeft:Math.min(G.value.scrollLeft+e,X.value-s),scrollTop:Math.min(G.value.scrollTop+o,_.value-i)})});H(F,"wheel",oe,{passive:!1});const le=({scrollLeft:e=G.value.scrollLeft,scrollTop:o=G.value.scrollTop})=>{e=Math.max(e,0),o=Math.max(o,0);const l=t(G);o===l.scrollTop&&e===l.scrollLeft||(G.value={...l,xAxisScrollDir:be(l.scrollLeft,e),yAxisScrollDir:be(l.scrollTop,o),scrollLeft:e,scrollTop:o,updateRequested:!0},c(()=>ae()),ne(),Z())},re=(e,l)=>{const{columnWidth:a,direction:s,rowHeight:i}=o,c=$.value(r&&a,r&&i,r&&s),d=`${e},${l}`;if(D(c,d))return c[d];{const[,r]=n(o,l,t(k)),a=t(k),i=Ee(s),[u,h]=g(o,e,a),[m]=n(o,l,a);return c[d]={position:"absolute",left:i?void 0:`${r}px`,right:i?`${r}px`:void 0,top:`${h}px`,height:`${u}px`,width:`${m}px`},c[d]}},ae=()=>{G.value.isScrolling=!1,c(()=>{$.value(-1,null,null)})};C(()=>{if(!I)return;const{initScrollLeft:e,initScrollTop:l}=o,r=t(F);r&&(s(e)&&(r.scrollLeft=e),s(l)&&(r.scrollTop=l)),Z()});const ne=()=>{const{direction:e}=o,{scrollLeft:l,scrollTop:r,updateRequested:a}=t(G),n=t(F);if(a&&n){if(e===Se)switch(Te()){case Ce:n.scrollLeft=-l;break;case He:n.scrollLeft=l;break;default:{const{clientWidth:e,scrollWidth:t}=n;n.scrollLeft=t-e-l;break}}else n.scrollLeft=Math.max(0,l);n.scrollTop=Math.max(0,r)}},{resetAfterColumnIndex:se,resetAfterRowIndex:ie,resetAfter:ce}=z.proxy;T({windowRef:F,innerRef:V,getItemStyleCache:$,scrollTo:le,scrollToItem:(e=0,l=0,r=Re)=>{const a=t(G);l=Math.max(0,Math.min(l,o.totalColumn-1)),e=Math.max(0,Math.min(e,o.totalRow-1));const n=E(L.namespace.value),s=t(k),i=h(o,s),c=m(o,s);le({scrollLeft:f(o,l,r,a.scrollLeft,s,c>o.width?n:0),scrollTop:w(o,e,r,a.scrollTop,s,i>o.height?n:0)})},states:G,resetAfterColumnIndex:se,resetAfterRowIndex:ie,resetAfter:ce});const de=()=>{const e=M(o.innerElement),l=(()=>{var e;const[l,r]=t(q),[a,n]=t(U),{data:s,totalColumn:i,totalRow:c,useIsScrolling:d,itemKey:h}=o,m=[];if(c>0&&i>0)for(let o=a;o<=n;o++)for(let a=l;a<=r;a++){const l=h({columnIndex:a,data:s,rowIndex:o});m.push(u(W,{key:l},null==(e=A.default)?void 0:e.call(A,{columnIndex:a,data:s,isScrolling:d?t(G).isScrolling:void 0,style:re(o,a),rowIndex:o})))}return m})();return[u(e,K(o.innerProps,{style:t(Q),ref:V}),O(e)?l:{default:()=>l})]};return()=>{const e=M(o.containerElement),{horizontalScrollbar:l,verticalScrollbar:r}=(()=>{const{scrollbarAlwaysOn:e,scrollbarStartGap:l,scrollbarEndGap:r,totalColumn:a,totalRow:n}=o,s=t(B),i=t(P),c=t(X),d=t(_),{scrollLeft:h,scrollTop:m}=t(G);return{horizontalScrollbar:u(Ie,{ref:j,alwaysOn:e,startGap:l,endGap:r,class:L.e("horizontal"),clientSize:s,layout:"horizontal",onScroll:te,ratio:100*s/c,scrollFrom:h/(c-s),total:n,visible:!0}),verticalScrollbar:u(Ie,{ref:N,alwaysOn:e,startGap:l,endGap:r,class:L.e("vertical"),clientSize:i,layout:"vertical",onScroll:ee,ratio:100*i/d,scrollFrom:m/(d-i),total:a,visible:!0})}})(),a=de();return u("div",{key:0,class:L.e("wrapper"),role:o.role},[u(e,{class:o.className,style:t(Y),onScroll:J,ref:F},O(e)?a:{default:()=>a}),l,r])}}}),{max:ft,min:wt,floor:pt}=Math,gt={column:"columnWidth",row:"rowHeight"},yt={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},xt=(e,t,o,l)=>{const[r,a,n]=[o[l],e[gt[l]],o[yt[l]]];if(t>n){let e=0;if(n>=0){const t=r[n];e=t.offset+t.size}for(let o=n+1;o<=t;o++){const t=a(o);r[o]={offset:e,size:t},e+=t}o[yt[l]]=t}return r[t]},vt=(e,t,o,l,r,a)=>{for(;o<=l;){const n=o+pt((l-o)/2),s=xt(e,n,t,a).offset;if(s===r)return n;s<r?o=n+1:l=n-1}return ft(0,o-1)},Rt=(e,t,o,l)=>{const[r,a]=[t[l],t[yt[l]]];return(a>0?r[a].offset:0)>=o?vt(e,t,0,a,o,l):((e,t,o,l,r)=>{const a="column"===r?e.totalColumn:e.totalRow;let n=1;for(;o<a&&xt(e,o,t,r).offset<l;)o+=n,n*=2;return vt(e,t,pt(o/2),wt(o,a-1),l,r)})(e,t,ft(0,a),o,l)},bt=({totalRow:e},{estimatedRowHeight:t,lastVisitedRowIndex:o,row:l})=>{let r=0;if(o>=e&&(o=e-1),o>=0){const e=l[o];r=e.offset+e.size}return r+(e-o-1)*t},St=({totalColumn:e},{column:t,estimatedColumnWidth:o,lastVisitedColumnIndex:l})=>{let r=0;if(l>e&&(l=e-1),l>=0){const e=t[l];r=e.offset+e.size}return r+(e-l-1)*o},Tt={column:St,row:bt},Ht=(e,t,o,l,r,a,n)=>{const[s,i]=["row"===a?e.height:e.width,Tt[a]],c=xt(e,t,r,a),d=i(e,r),u=ft(0,wt(d-s,c.offset)),h=ft(0,c.offset-s+n+c.size);switch(o===Ae&&(o=l>=h-s&&l<=u+s?Re:Ke),o){case De:return u;case We:return h;case Ke:return Math.round(h+(u-h)/2);default:return l>=h&&l<=u?l:h>u||l<h?h:u}},Ct=mt({name:"ElDynamicSizeGrid",getColumnPosition:(e,t,o)=>{const l=xt(e,t,o,"column");return[l.size,l.offset]},getRowPosition:(e,t,o)=>{const l=xt(e,t,o,"row");return[l.size,l.offset]},getColumnOffset:(e,t,o,l,r,a)=>Ht(e,t,o,l,r,"column",a),getRowOffset:(e,t,o,l,r,a)=>Ht(e,t,o,l,r,"row",a),getColumnStartIndexForOffset:(e,t,o)=>Rt(e,o,t,"column"),getColumnStopIndexForStartIndex:(e,t,o,l)=>{const r=xt(e,t,l,"column"),a=o+e.width;let n=r.offset+r.size,s=t;for(;s<e.totalColumn-1&&n<a;)s++,n+=xt(e,t,l,"column").size;return s},getEstimatedTotalHeight:bt,getEstimatedTotalWidth:St,getRowStartIndexForOffset:(e,t,o)=>Rt(e,o,t,"row"),getRowStopIndexForStartIndex:(e,t,o,l)=>{const{totalRow:r,height:a}=e,n=xt(e,t,l,"row"),s=o+a;let i=n.size+n.offset,c=t;for(;c<r-1&&i<s;)c++,i+=xt(e,c,l,"row").size;return c},injectToInstance:(e,t)=>{const o=({columnIndex:o,rowIndex:l},r)=>{var a,n;r=!!A(r)||r,s(o)&&(t.value.lastVisitedColumnIndex=Math.min(t.value.lastVisitedColumnIndex,o-1)),s(l)&&(t.value.lastVisitedRowIndex=Math.min(t.value.lastVisitedRowIndex,l-1)),null==(a=e.exposed)||a.getItemStyleCache.value(-1,null,null),r&&(null==(n=e.proxy)||n.$forceUpdate())};Object.assign(e.proxy,{resetAfterColumnIndex:(e,t)=>{o({columnIndex:e},t)},resetAfterRowIndex:(e,t)=>{o({rowIndex:e},t)},resetAfter:o})},initCache:({estimatedColumnWidth:e=Oe,estimatedRowHeight:t=Oe})=>({column:{},estimatedColumnWidth:e,estimatedRowHeight:t,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:e,rowHeight:t})=>{}}),It=mt({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:e},t)=>[e,t*e],getRowPosition:({rowHeight:e},t)=>[e,t*e],getEstimatedTotalHeight:({totalRow:e,rowHeight:t})=>t*e,getEstimatedTotalWidth:({totalColumn:e,columnWidth:t})=>t*e,getColumnOffset:({totalColumn:e,columnWidth:t,width:o},l,r,a,n,s)=>{o=Number(o);const i=Math.max(0,e*t-o),c=Math.min(i,l*t),d=Math.max(0,l*t-o+s+t);switch("smart"===r&&(r=a>=d-o&&a<=c+o?Re:Ke),r){case De:return c;case We:return d;case Ke:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(o/2)?0:e>i+Math.floor(o/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getRowOffset:({rowHeight:e,height:t,totalRow:o},l,r,a,n,s)=>{t=Number(t);const i=Math.max(0,o*e-t),c=Math.min(i,l*e),d=Math.max(0,l*e-t+s+e);switch(r===Ae&&(r=a>=d-t&&a<=c+t?Re:Ke),r){case De:return c;case We:return d;case Ke:{const e=Math.round(d+(c-d)/2);return e<Math.ceil(t/2)?0:e>i+Math.floor(t/2)?i:e}default:return a>=d&&a<=c?a:d>c||a<d?d:c}},getColumnStartIndexForOffset:({columnWidth:e,totalColumn:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getColumnStopIndexForStartIndex:({columnWidth:e,totalColumn:t,width:o},l,r)=>{const a=l*e,n=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+n-1))},getRowStartIndexForOffset:({rowHeight:e,totalRow:t},o)=>Math.max(0,Math.min(t-1,Math.floor(o/e))),getRowStopIndexForStartIndex:({rowHeight:e,totalRow:t,height:o},l,r)=>{const a=l*e,n=Math.ceil((o+r-a)/e);return Math.max(0,Math.min(t-1,l+n-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:e,rowHeight:t})=>{}});var Et=v({name:"ElTableV2Grid",props:dt,setup(a,{slots:n,expose:i}){const{ns:d}=R(Ye),{bodyRef:u,fixedRowHeight:h,gridHeight:m,hasHeader:f,headerRef:w,headerHeight:p,totalHeight:g,forceUpdate:y,itemKey:x,onItemRendered:v,resetAfterRowIndex:b,scrollTo:S,scrollToTop:H,scrollToRow:C,scrollLeft:I}=(a=>{const n=l(),i=l(),c=l(0),d=e(()=>{const{data:e,rowHeight:t,estimatedRowHeight:o}=a;if(!o)return e.length*t}),u=e(()=>{const{fixedData:e,rowHeight:t}=a;return((null==e?void 0:e.length)||0)*t}),h=e(()=>Be(a.headerHeight)),m=e(()=>{const{height:e}=a;return Math.max(0,e-t(h)-t(u))}),f=e(()=>t(h)+t(u)>0);return r(()=>a.bodyWidth,()=>{var e;s(a.estimatedRowHeight)&&(null==(e=i.value)||e.resetAfter({columnIndex:0},!1))}),{bodyRef:i,forceUpdate:function(){var e,o;null==(e=t(i))||e.$forceUpdate(),null==(o=t(n))||o.$forceUpdate()},fixedRowHeight:u,gridHeight:m,hasHeader:f,headerHeight:h,headerRef:n,totalHeight:d,itemKey:({data:e,rowIndex:t})=>e[t][a.rowKey],onItemRendered:function({rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:o,rowVisibleEnd:l}){var r;null==(r=a.onRowsRendered)||r.call(a,{rowCacheStart:e,rowCacheEnd:t,rowVisibleStart:o,rowVisibleEnd:l})},resetAfterRowIndex:function(e,t){var o;null==(o=i.value)||o.resetAfterRowIndex(e,t)},scrollTo:function(e,l){const r=t(n),a=t(i);o(e)?(null==r||r.scrollToLeft(e.scrollLeft),c.value=e.scrollLeft,null==a||a.scrollTo(e)):(null==r||r.scrollToLeft(e),c.value=e,null==a||a.scrollTo({scrollLeft:e,scrollTop:l}))},scrollToTop:function(e){var o;null==(o=t(i))||o.scrollTo({scrollTop:e})},scrollToRow:function(e,o){var l;null==(l=t(i))||l.scrollToItem(e,1,o)},scrollLeft:c}})(a);z(Qe,I),L(async()=>{var e;await c();const t=null==(e=u.value)?void 0:e.states.scrollTop;t&&H(Math.round(t)+1)}),i({forceUpdate:y,totalHeight:g,scrollTo:S,scrollToTop:H,scrollToRow:C,resetAfterRowIndex:b});const E=()=>a.bodyWidth;return()=>{const{cache:e,columns:o,data:l,fixedData:r,useIsScrolling:i,scrollbarAlwaysOn:c,scrollbarEndGap:g,scrollbarStartGap:y,style:R,rowHeight:b,bodyWidth:S,estimatedRowHeight:H,headerWidth:C,height:I,width:M,getRowHeight:O,onScroll:K}=a,W=s(H),D=W?Ct:It,A=t(p);return T("div",{role:"table",class:[d.e("table"),a.class],style:R},[T(D,{ref:u,data:l,useIsScrolling:i,itemKey:x,columnCache:0,columnWidth:W?E:S,totalColumn:1,totalRow:l.length,rowCache:e,rowHeight:W?O:b,width:M,height:t(m),class:d.e("body"),role:"rowgroup",scrollbarStartGap:y,scrollbarEndGap:g,scrollbarAlwaysOn:c,onScroll:K,onItemRendered:v,perfMode:!1},{default:e=>{var t;const r=l[e.rowIndex];return null==(t=n.row)?void 0:t.call(n,{...e,columns:o,rowData:r})}}),t(f)&&T(ht,{ref:w,class:d.e("header-wrapper"),columns:o,headerData:l,headerHeight:a.headerHeight,fixedHeaderData:r,rowWidth:C,rowHeight:b,width:M,height:Math.min(A+t(h),I)},{dynamic:n.header,fixed:n.row})])}}});var Mt=(e,{slots:t})=>{const{mainTableRef:o,...l}=e;return T(Et,K({ref:o},l),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};var Ot=(e,{slots:t})=>{if(!e.columns.length)return;const{leftTableRef:o,...l}=e;return T(Et,K({ref:o},l),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};var Kt=(e,{slots:t})=>{if(!e.columns.length)return;const{rightTableRef:o,...l}=e;return T(Et,K({ref:o},l),"function"==typeof(r=t)||"[object Object]"===Object.prototype.toString.call(r)&&!m(r)?t:{default:()=>[t]});var r};const Wt=o=>{const{isScrolling:r}=R(Ye),a=l(!1),n=l(),i=e(()=>s(o.estimatedRowHeight)&&o.rowIndex>=0),d=e(()=>{const{rowData:e,rowIndex:t,rowKey:l,onRowHover:r}=o,a=o.rowEventHandlers||{},n={};return Object.entries(a).forEach(([o,r])=>{f(r)&&(n[o]=o=>{r({event:o,rowData:e,rowIndex:t,rowKey:l})})}),r&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:o,hovered:a})=>{const s=n[o];n[o]=o=>{r({event:o,hovered:a,rowData:e,rowIndex:t,rowKey:l}),null==s||s(o)}}),n});return C(()=>{t(i)&&((e=!1)=>{const l=t(n);if(!l)return;const{columns:r,onRowHeightChange:s,rowKey:i,rowIndex:d,style:u}=o,{height:h}=l.getBoundingClientRect();a.value=!0,c(()=>{if(e||h!==Number.parseInt(u.height)){const e=r[0],t=(null==e?void 0:e.placeholderSign)===Ge;null==s||s({rowKey:i,height:h,rowIndex:d},e&&!t&&e.fixed)}})})(!0)}),{isScrolling:r,measurable:i,measured:a,rowRef:n,eventHandlers:d,onExpand:e=>{const{onRowExpand:t,rowData:l,rowIndex:r,rowKey:a}=o;null==t||t({expanded:e,rowData:l,rowIndex:r,rowKey:a})}}};var Dt=v({name:"ElTableV2TableRow",props:st,setup(e,{expose:o,slots:l,attrs:r}){const{eventHandlers:a,isScrolling:n,measurable:s,measured:i,rowRef:c,onExpand:u}=Wt(e);return o({onExpand:u}),()=>{const{columns:o,columnsStyles:h,expandColumnKey:m,depth:f,rowData:w,rowIndex:p,style:g}=e;let y=o.map((e,r)=>{const a=d(w.children)&&w.children.length>0&&e.key===m;return l.cell({column:e,columns:o,columnIndex:r,depth:f,style:h[e.key],rowData:w,rowIndex:p,isScrolling:t(n),expandIconProps:a?{rowData:w,rowIndex:p,onExpand:u}:void 0})});if(l.row&&(y=l.row({cells:y.map(e=>d(e)&&1===e.length?e[0]:e),style:g,columns:o,depth:f,rowData:w,rowIndex:p,isScrolling:t(n)})),t(s)){const{height:o,...l}=g||{},n=t(i);return T("div",K({ref:c,class:e.class,style:n?g:l,role:"row"},r,t(a)),[y])}return T("div",K(r,{ref:c,class:e.class,style:g,role:"row"},t(a)),[y])}}});var At=(e,{slots:t})=>{const{columns:o,columnsStyles:l,depthMap:r,expandColumnKey:a,expandedRowKeys:n,estimatedRowHeight:s,hasFixedColumns:i,rowData:c,rowIndex:d,style:u,isScrolling:h,rowProps:f,rowClass:w,rowKey:p,rowEventHandlers:g,ns:y,onRowHovered:x,onRowExpanded:v}=e,R=qe(w,{columns:o,rowData:c,rowIndex:d},""),b=qe(f,{columns:o,rowData:c,rowIndex:d}),S=c[p],H=r[S]||0,C=Boolean(a),I=d<0,E=[y.e("row"),R,{[y.e(`row-depth-${H}`)]:C&&d>=0,[y.is("expanded")]:C&&n.includes(S),[y.is("fixed")]:!H&&I,[y.is("customized")]:Boolean(t.row)}],M=i?x:void 0,O={...b,columns:o,columnsStyles:l,class:E,depth:H,expandColumnKey:a,estimatedRowHeight:I?void 0:s,isScrolling:h,rowIndex:d,rowData:c,rowKey:S,rowEventHandlers:g,style:u};return T(Dt,K(O,{onRowExpand:v,onMouseenter:e=>{null==M||M({hovered:!0,rowKey:S,event:e,rowData:c,rowIndex:d})},onMouseleave:e=>{null==M||M({hovered:!1,rowKey:S,event:e,rowData:c,rowIndex:d})},rowkey:S}),"function"==typeof(W=t)||"[object Object]"===Object.prototype.toString.call(W)&&!m(W)?t:{default:()=>[t]});var W};const Lt=(e,{slots:t})=>{var o;const{cellData:l,style:r}=e,a=(null==(o=null==l?void 0:l.toString)?void 0:o.call(l))||"",n=k(t,"default",e,()=>[a]);return T("div",{class:e.class,title:a,style:r},[n])};Lt.displayName="ElTableV2Cell",Lt.inheritAttrs=!1;var zt=Lt;var kt=e=>{const{expanded:t,expandable:o,onExpand:l,style:r,size:a}=e,n={onClick:o?()=>l(!t):void 0,class:e.class};return T(j,K(n,{size:a,style:r}),{default:()=>[T(F,null,null)]})};const Ft=({columns:e,column:t,columnIndex:l,depth:r,expandIconProps:a,isScrolling:n,rowData:s,rowIndex:i,style:c,expandedRowKeys:d,ns:u,cellProps:h,expandColumnKey:m,indentSize:w,iconSize:p,rowKey:g},{slots:y})=>{const x=Ue(c);if(t.placeholderSign===Ge)return T("div",{class:u.em("row-cell","placeholder"),style:x},null);const{cellRenderer:v,dataKey:R,dataGetter:b}=t,S=f(b)?b({columns:e,column:t,columnIndex:l,rowData:s,rowIndex:i}):N(s,null!=R?R:""),H=qe(h,{cellData:S,columns:e,column:t,columnIndex:l,rowIndex:i,rowData:s}),C={class:u.e("cell-text"),columns:e,column:t,columnIndex:l,cellData:S,isScrolling:n,rowData:s,rowIndex:i},I=_e(v),E=I?I(C):k(y,"default",C,()=>[T(zt,C,null)]),M=[u.e("row-cell"),t.class,t.align===je.CENTER&&u.is("align-center"),t.align===je.RIGHT&&u.is("align-right")],O=i>=0&&m&&t.key===m,W=i>=0&&d.includes(s[g]);let D;const A=`margin-inline-start: ${r*w}px;`;return O&&(D=o(a)?T(kt,K(a,{class:[u.e("expand-icon"),u.is("expanded",W)],size:p,expanded:W,style:A,expandable:!0}),null):T("div",{style:[A,`width: ${p}px; height: ${p}px;`].join(" ")},null)),T("div",K({class:M,style:x},H,{role:"cell"}),[D,E])};Ft.inheritAttrs=!1;var jt=Ft;const Nt=x({class:String,columns:Je,columnsStyles:{type:y(Object),required:!0},headerIndex:Number,style:{type:y(Object)}});var Vt=v({name:"ElTableV2HeaderRow",props:Nt,setup:(e,{slots:t})=>()=>{const{columns:o,columnsStyles:l,headerIndex:r,style:a}=e;let n=o.map((e,a)=>t.cell({columns:o,column:e,columnIndex:a,headerIndex:r,style:l[e.key]}));return t.header&&(n=t.header({cells:n.map(e=>d(e)&&1===e.length?e[0]:e),columns:o,headerIndex:r})),T("div",{class:e.class,style:a,role:"row"},[n])}});var Gt=({columns:e,columnsStyles:t,headerIndex:o,style:l,headerClass:r,headerProps:a,ns:n},{slots:s})=>{const i={columns:e,headerIndex:o},c=[n.e("header-row"),qe(r,i,""),{[n.is("customized")]:Boolean(s.header)}],d={...qe(a,i),columnsStyles:t,class:c,columns:e,headerIndex:o,style:l};return T(Vt,d,"function"==typeof(u=s)||"[object Object]"===Object.prototype.toString.call(u)&&!m(u)?s:{default:()=>[s]});var u};const $t=(e,{slots:t})=>k(t,"default",e,()=>{var t,o;return[T("div",{class:e.class,title:null==(t=e.column)?void 0:t.title},[null==(o=e.column)?void 0:o.title])]});$t.displayName="ElTableV2HeaderCell",$t.inheritAttrs=!1;var Pt=$t;var Bt=e=>{const{sortOrder:t}=e;return T(j,{size:14,class:e.class},{default:()=>[t===Fe.ASC?T(V,null,null):T(G,null,null)]})};var qt=(e,{slots:t})=>{const{column:o,ns:l,style:r,onColumnSorted:a}=e,n=Ue(r);if(o.placeholderSign===Ge)return T("div",{class:l.em("header-row-cell","placeholder"),style:n},null);const{headerCellRenderer:s,headerClass:i,sortable:c}=o,d={...e,class:l.e("header-cell-text")},u=_e(s),h=u?u(d):k(t,"default",d,()=>[T(Pt,d,null)]),{sortBy:m,sortState:f,headerCellProps:w}=e;let p,g;if(f){const e=f[o.key];p=Boolean(Ve[e]),g=p?e:Fe.ASC}else p=o.key===m.key,g=p?m.order:Fe.ASC;const y=[l.e("header-cell"),qe(i,e,""),o.align===je.CENTER&&l.is("align-center"),o.align===je.RIGHT&&l.is("align-right"),c&&l.is("sortable")],x={...qe(w,e),onClick:o.sortable?a:void 0,class:y,style:n,"data-key":o.key};return T("div",K(x,{role:"columnheader"}),[h,c&&T(Bt,{class:[l.e("sort-icon"),p&&l.is("sorting")],sortOrder:g},null)])};const Ut=(e,{slots:t})=>{var o;return T("div",{class:e.class,style:e.style},[null==(o=t.default)?void 0:o.call(t)])};Ut.displayName="ElTableV2Footer";var _t=Ut;const Xt=(e,{slots:t})=>{const o=k(t,"default",{},()=>[T(Le,null,null)]);return T("div",{class:e.class,style:e.style},[o])};Xt.displayName="ElTableV2Empty";var Yt=Xt;const Qt=(e,{slots:t})=>{var o;return T("div",{class:e.class,style:e.style},[null==(o=t.default)?void 0:o.call(t)])};Qt.displayName="ElTableV2Overlay";var Zt=Qt;function Jt(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!m(e)}var eo=v({name:"ElTableV2",props:ut,setup(e,{slots:o,expose:l}){const r=p("table-v2"),{columnsStyles:a,fixedColumnsOnLeft:n,fixedColumnsOnRight:s,mainColumns:i,mainTableHeight:c,fixedTableHeight:d,leftTableWidth:u,rightTableWidth:h,data:m,depthMap:f,expandedRowKeys:w,hasFixedColumns:g,mainTableRef:y,leftTableRef:x,rightTableRef:v,isDynamic:R,isResetting:b,isScrolling:S,bodyWidth:H,emptyStyle:C,rootStyle:I,footerHeight:E,showEmpty:M,scrollTo:O,scrollToLeft:W,scrollToTop:D,scrollToRow:A,getRowHeight:L,onColumnSorted:k,onRowHeightChange:F,onRowHovered:j,onRowExpanded:N,onRowsRendered:V,onScroll:G,onVerticalScroll:$}=Xe(e);return l({scrollTo:O,scrollToLeft:W,scrollToTop:D,scrollToRow:A}),z(Ye,{ns:r,isResetting:b,isScrolling:S}),()=>{const{cache:l,cellProps:p,estimatedRowHeight:b,expandColumnKey:S,fixedData:O,headerHeight:W,headerClass:D,headerProps:A,headerCellProps:z,sortBy:P,sortState:B,rowHeight:q,rowClass:U,rowEventHandlers:_,rowKey:X,rowProps:Y,scrollbarAlwaysOn:Q,indentSize:Z,iconSize:J,useIsScrolling:ee,vScrollbarSize:te,width:oe}=e,le=t(m),re={cache:l,class:r.e("main"),columns:t(i),data:le,fixedData:O,estimatedRowHeight:b,bodyWidth:t(H),headerHeight:W,headerWidth:t(H),height:t(c),mainTableRef:y,rowKey:X,rowHeight:q,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:oe,getRowHeight:L,onRowsRendered:V,onScroll:G},ae=t(u),ne=t(d),se={cache:l,class:r.e("left"),columns:t(n),data:le,fixedData:O,estimatedRowHeight:b,leftTableRef:x,rowHeight:q,bodyWidth:ae,headerWidth:ae,headerHeight:W,height:ne,rowKey:X,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,useIsScrolling:ee,width:ae,getRowHeight:L,onScroll:$},ie=t(h),ce={cache:l,class:r.e("right"),columns:t(s),data:le,fixedData:O,estimatedRowHeight:b,rightTableRef:v,rowHeight:q,bodyWidth:ie,headerWidth:ie,headerHeight:W,height:ne,rowKey:X,scrollbarAlwaysOn:Q,scrollbarStartGap:2,scrollbarEndGap:te,width:ie,style:`${r.cssVarName("table-scrollbar-size")}: ${te}px`,useIsScrolling:ee,getRowHeight:L,onScroll:$},de=t(a),ue={ns:r,depthMap:t(f),columnsStyles:de,expandColumnKey:S,expandedRowKeys:t(w),estimatedRowHeight:b,hasFixedColumns:t(g),rowProps:Y,rowClass:U,rowKey:X,rowEventHandlers:_,onRowHovered:j,onRowExpanded:N,onRowHeightChange:F},he={cellProps:p,expandColumnKey:S,indentSize:Z,iconSize:J,rowKey:X,expandedRowKeys:t(w),ns:r},me={ns:r,headerClass:D,headerProps:A,columnsStyles:de},fe={ns:r,sortBy:P,sortState:B,headerCellProps:z,onColumnSorted:k},we={row:e=>T(At,K(e,ue),{row:o.row,cell:e=>{let t;return o.cell?T(jt,K(e,he,{style:de[e.column.key]}),Jt(t=o.cell(e))?t:{default:()=>[t]}):T(jt,K(e,he,{style:de[e.column.key]}),null)}}),header:e=>T(Gt,K(e,me),{header:o.header,cell:e=>{let t;return o["header-cell"]?T(qt,K(e,fe,{style:de[e.column.key]}),Jt(t=o["header-cell"](e))?t:{default:()=>[t]}):T(qt,K(e,fe,{style:de[e.column.key]}),null)}})},pe=[e.class,r.b(),r.e("root"),{[r.is("dynamic")]:t(R)}],ge={class:r.e("footer"),style:t(E)};return T("div",{class:pe,style:t(I)},[T(Mt,re,Jt(we)?we:{default:()=>[we]}),T(Ot,se,Jt(we)?we:{default:()=>[we]}),T(Kt,ce,Jt(we)?we:{default:()=>[we]}),o.footer&&T(_t,ge,{default:o.footer}),t(M)&&T(Yt,{class:r.e("empty"),style:t(C)},{default:o.empty}),o.overlay&&T(Zt,{class:r.e("overlay")},{default:o.overlay})])}}});const to=x({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:y(Function)}});var oo=v({name:"ElAutoResizer",props:to,setup(e,{slots:t}){const o=p("auto-resizer"),{height:a,width:n,sizer:s}=(e=>{const t=l(),o=l(0),a=l(0);let n;return C(()=>{n=$(t,([e])=>{const{width:t,height:l}=e.contentRect,{paddingLeft:r,paddingRight:n,paddingTop:s,paddingBottom:i}=getComputedStyle(e.target),c=Number.parseInt(r)||0,d=Number.parseInt(n)||0,u=Number.parseInt(s)||0,h=Number.parseInt(i)||0;o.value=t-c-d,a.value=l-u-h}).stop}),P(()=>{null==n||n()}),r([o,a],([t,o])=>{var l;null==(l=e.onResize)||l.call(e,{width:t,height:o})}),{sizer:t,width:o,height:a}})(e),i={width:"100%",height:"100%"};return()=>{var e;return T("div",{ref:s,class:o.b(),style:i},[null==(e=t.default)?void 0:e.call(t,{height:a.value,width:n.value})])}}});const lo=B(eo),ro=B(oo),ao={key:0,class:"h-full flex flex-col items-center justify-center pt-100px"},no={key:0,src:se,alt:""},so={key:1,src:ie,alt:""},io={key:2,class:"mt-10px"},co={key:1},uo=he(v({__name:"index",props:{columns:{type:Array,required:!0},data:{type:Array,required:!0},showEmptyText:Boolean,emptyText:{type:String,default:""},showFooter:{type:Boolean,default:!1},footText:{type:String,default:""},rowHeight:{type:Number,default:50},headerHeight:{type:Number,default:32},headerClass:{type:String,default:""},footerHeight:{type:Number,default:0},loading:Boolean,fixed:Boolean,rowKey:{type:String,default:"id"}},emits:["endReached"],setup(o,{expose:l,emit:r}){const{t:a}=q(),n=o,s=r,i=U(),c=_(),d=X(),u=Y("tableRef");l({scrollTo:(...e)=>{u.value?.scrollTo?.(...e)},scrollToLeft:(...e)=>{u.value?.scrollToLeft?.(...e)},scrollToTop:(...e)=>{u.value?.scrollToTop?.(...e)},scrollToRow:(...e)=>{u.value?.scrollToRow?.(...e)}});const{width:h}=Q(u),m=["empty","footer","overlay","row","cell","header-cell"],f=e(()=>{const e={};for(const t of m)i[t]&&(e[t]=i[t]);return e}),w=e(()=>{const e=function(){const e=n.columns.reduce((e,t)=>e+t.minWidth,0);if(e>=h.value)return n.columns.map(e=>e.minWidth);const t=(h.value-6-e)/n.columns.length;return n.columns.map(e=>e.minWidth+t)}();return n.columns.map((t,o)=>{const l=i[`cell-${t.key}`]||i[`cell-${t.dataKey}`],r=i[`header-${t.key}`]||i[`header-${t.dataKey}`];return{...t,cellRenderer:l?({rowData:e,column:t,rowIndex:o,columnIndex:r})=>l({row:e,column:t,rowIndex:o,columnIndex:r}):t.cellRenderer,headerCellRenderer:r?({column:e})=>r({column:e}):t.headerCellRenderer,width:e[o]}})});return(e,l)=>{const r=lo,n=ro;return J(),Z(n,null,{default:ee(({height:n,width:i})=>[T(r,K({ref_key:"tableRef",ref:u,rowKey:o.rowKey,class:"el-table",style:{"--el-table-border":"0","--el-bg-color":"transparent","font-size":"12px"},"header-class":`bg-[--main-list-header-bg] ${o.headerClass}`,"header-height":o.headerHeight,columns:t(w),data:o.data,height:n,width:i,"footer-height":o.footerHeight},t(c),{fixed:o.fixed,"row-height":o.rowHeight,onEndReached:l[0]||(l[0]=e=>s("endReached",e))}),te({_:2},[oe(t(f),(t,o)=>({name:o,fn:ee(t=>[k(e.$slots,o,le(re(t)),void 0,!0)])})),t(f).empty?void 0:{name:"empty",fn:ee(()=>[o.loading?(J(),ae("span",co)):(J(),ae("div",ao,["light"===t(d).theme?(J(),ae("img",no)):(J(),ae("img",so)),o.showEmptyText?(J(),ae("span",io,ce(o.emptyText||t(a)("emptyNoData")),1)):ne("",!0)]))]),key:"0"},o.data.length>0&&o.showFooter?{name:"footer",fn:ee(()=>[de("div",{class:ue(["text-center px-0 pt-15px pb-10px text-12px text-[--third-text] absolute w-100%",`top-${o.rowHeight}px`])},ce(o.footText||t(a)("loading")),3)]),key:"1"}:void 0]),1040,["rowKey","header-class","header-height","columns","data","height","width","footer-height","fixed","row-height"])]),_:3})}}}),[["__scopeId","data-v-6eee593f"]]);export{uo as _};
