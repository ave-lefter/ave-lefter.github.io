import{E as e,a}from"./DkMFijTu.js";import{f as t,r as l,c8 as o,c as s,o as i,F as r,D as n,G as c,B as m,bR as d,t as p,i as u,_ as h,v as f,ah as v,y,g,j8 as x,m as k,h4 as w,n as b,a as _,h5 as C,$ as D,ay as S,I as F,a8 as L,ai as N,cg as A,od as B,oe as $,a0 as j,T as M,K as E,b as Y,w as I,s as W,U as z,am as T,J as V,C as H,d as P,aI as K,aJ as q,a4 as O,aM as U,aN as G,bp as J}from"#entry";import{_ as Z}from"./DfAY0xaL.js";import{E as R,a as Q}from"./CXu7cHRZ.js";/* empty css        */import"./Div4Sb7D.js";import"./1bXUUYzG.js";import"./DEsNIRU_.js";import{v as X}from"./BuTxD5e6.js";import"./EyvYgUJ0.js";const ee={key:0,class:"prefix"},ae={key:0},te={key:1},le={key:2},oe={key:3},se={key:3,class:"suffix"},ie=t({__name:"columns",props:{col:{},row:{},customKeys:{default:()=>[]}},setup(e){const a=e,t=l(a.col.multiple||[a.col]),h=o();return(e,l)=>(i(!0),s(r,null,n(u(t),(t,l)=>(i(),s("div",{key:t.prop||l,class:c(t?.customClassName?"function"==typeof t?.customClassName?t?.customClassName(a.row):t?.customClassName:"")},[t?.prefix?(i(),s("span",ee,p("function"==typeof t?.prefix?t?.prefix(a.row):t?.prefix),1)):m("",!0),u(h).default&&a.customKeys.indexOf(t.prop)>-1?d(e.$slots,"default",{key:1,row:a.row}):(i(),s(r,{key:2},["--"===a.row[t?.prop]?(i(),s("span",ae,"--")):0===a.row[t?.prop]?(i(),s("span",te,"0")):t?.customFormatter?(i(),s("span",le,p("function"==typeof t?.customFormatter?t?.customFormatter(a.row):t?.customFormatter),1)):(i(),s("span",oe,p(a.row[t?.prop]),1))],64)),t?.suffix?(i(),s("span",se,p("function"==typeof t?.suffix?t?.suffix(a.row):t?.suffix),1)):m("",!0)],2))),128))}}),re={class:"chart-container"},ne=["id"],ce=h({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:a}=f(),t=e,{mode:o,lang:r}=v(y()),n=l(`chart-${X()}`),c=g(()=>[{k:1,color:"#12B886",label:a("add"),value:"addliquidity_total",areaStyle:{opacity:.8,color:new x(0,0,0,1,[{offset:0,color:"#12B886"},{offset:1,color:"#0A0B0D"}])}},{k:2,color:"#F6465D",label:a("remove"),value:"removeliquidity_total",areaStyle:{opacity:.8,color:new x(0,0,0,1,[{offset:0,color:"#F6465D"},{offset:1,color:"#0A0B0D"}])}}]),m=g(()=>t.dataList.map(e=>e.time)),d=g(()=>c.value.map(e=>({name:e.label,symbol:"none",type:"bar",barWidth:"10",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:t.dataList.map(a=>a[e.value])}))),p=()=>{if(!document.getElementById(n.value))return;let e=w(document.getElementById(n.value));e||(e=C(document.getElementById(n.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const a={legend:{show:!0,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"var(--third-text)",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"var(--dialog-bg)",textStyle:{color:"var(--secondary-text)",fontFamily:"Poppins",fontSize:12},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let a=e[0].name+"<br>";return e.forEach(e=>{a+=`<div style="display:flex;align-items:center;"><div style="min-width:60px">${e.marker} ${e.seriesName}</div><span style="color:var(--main-text);flex:1;text-align:right">${D(e.value||0,2)}</span><br></div>`}),a},appendToBody:!0},grid:{left:"20",right:"20",top:"20",bottom:"40",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:m.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!0},axisLabel:{color:"light"===o.value?"#8ca0c3":"#566275",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===o.value?"#8ca0c3":"#566275",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(.95*e.min),max:e=>Math.ceil(e.max)},series:d.value};e.setOption(a),t.dataList&&t.dataList.length>0&&e.hideLoading()},h=(e,a)=>{const t=w(document.getElementById(n.value));t&&t.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:c.value[a].label})};return k(()=>t.loading,e=>{const a=w(document.getElementById(n.value));a&&(e?(a.hideLoading(),a.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):a.hideLoading())}),k(()=>t.dataList,()=>{p()}),k(()=>t.showSeries[0],e=>{h(e,0)}),k(()=>t.showSeries[1],e=>{h(e,1)}),k(()=>t.showSeries[2],e=>{h(e,2)}),k(()=>t.showSeries[3],e=>{h(e,3)}),k([o,r],()=>{p()}),k(()=>t.showLeft,e=>{setTimeout(()=>{const e=w(document.getElementById(n.value));e&&e.resize()},100)}),b(()=>{p()}),(e,a)=>(i(),s("div",re,[_("div",{id:u(n),style:{height:"245px",width:"100%"}},null,8,ne)]))}},[["__scopeId","data-v-e8629614"]]),me={class:"w-lp"},de={class:"w-[100%]"},pe={class:"flex gap-10px items-center ml-12px"},ue={class:"font-400 text-12px lh-16px color-[--third-text]"},he={class:"m-table mt20px"},fe={key:0,class:"flex flex-col items-center justify-center py-30px"},ve={key:0,src:U},ye={key:1,src:G},ge={key:1},xe=["onClick"],ke={class:"max-w-140px whitespace-nowrap overflow-hidden text-ellipsis"},we={key:1,class:"flex flex-col"},be={key:2,class:"flex flex-col"},_e={key:3,class:"flex flex-col"},Ce={key:4,class:"flex flex-col"},De={class:"line-bar"},Se=h(t({__name:"index",props:{pairAddress:{type:String,default:""},token:{type:Object,default:()=>({})},height:{type:Number,default:0}},setup(t){const o=t,{isDark:d,mode:h,showLeft:x}=v(y()),w=S(),C=l([]),U=l([]),{t:G}=f(),X=l({}),ee=F([!0,!0]),ae=l(!1),te=l(!1),le=g(()=>o.height-47-(U.value.length>0||ae.value?465:182)),oe=g(()=>[{label:"#",prop:"index",align:"left",width:40},{label:G("provider1"),prop:"mark",align:"left",sortable:!1,minWidth:160,customClassName:()=>{},customFormatter:e=>e.mark?e.mark:(e.address||"").slice(0,2)+"..."+(e.address||"").slice(-4)},{label:G("ratio")+"%",prop:"percent",minWidth:100,align:"right",sortable:!1,customClassName:()=>{}},{label:X.value?.main_token_symbol?G("amt",{n:X.value?.main_token_symbol}):"",prop:"addAmt",align:"right",minWidth:140},{label:X.value?.target_token_symbol?G("amt",{n:X.value?.target_token_symbol}):"",prop:"netAmt",align:"right",minWidth:140},{label:G("value"),prop:"value1",align:"right",minWidth:100,sortable:!1,customClassName:()=>{},customFormatter:e=>`$${D(e.value1,4)}`}]),se=F(30),re=F([]),ne=g(()=>[{label:G("amount"),prop:"amount",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>`${D(e.amount,2)}`},{label:G("lockDate"),prop:"lockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.lockDate,"YYYY-MM-DD")},{label:G("unlockDateStart"),prop:"unlockDate",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.unlockDate,"YYYY-MM-DD")},{label:G("unlockDateEnd"),prop:"unlockDateEnd",align:"center",sortable:!1,customClassName:()=>{},customFormatter:e=>L(e.vesting_end||e.unlockDate,"YYYY-MM-DD")}]);b(()=>{Le(),Ne()}),N(()=>{}),k(()=>o.pairAddress,e=>{Le()}),k(()=>o.token,e=>{Ne()});const Se=e=>e.index;const Fe=g(()=>{const e=w.params.id;return e?A(e):{address:o.token?.token||"",chain:o.token?.chain||""}});function Le(){o.pairAddress&&Fe.value.chain&&(ae.value=!0,B(o.pairAddress+"-"+Fe.value.chain,se.value).then(e=>{U.value=e?.map(e=>({...e,time:L(new Date(e?.time).getTime()/1e3,"MM-DD")}))?.reverse()||[]}).finally(()=>{ae.value=!1}).catch(e=>{U.value=[]}))}function Ne(){const e=[];te.value=!0,o.token?.token&&Fe.value?.chain?$((o.token?.token||"")+"-"+Fe.value?.chain).then(a=>{if(a?.holders&&Array.isArray(a?.holders)){const{holders:t,...l}=a;C.value=a.holders.map((e,a)=>({...e,index:(a+1).toString(),value1:new j(e.target_token_amount_usd).plus(e.main_token_amount_usd).toNumber()})),e.push(...C.value.filter(e=>e?.lock?.length).map(e=>e.index)),X.value=l}else C.value=[],X.value={}}).catch(e=>{C.value=[]}).finally(()=>{te.value=!1}):(C.value=[],X.value={},te.value=!1),re.value=e}return(t,l)=>{const o=e,f=a,v=H,y=Z,g=R,k=Q,w=M("tooltip"),b=T;return i(),s("div",me,[_("div",de,[_("div",pe,[_("div",ue,p(t.$t("liquidity")),1),Y(f,{modelValue:u(se),"onUpdate:modelValue":l[0]||(l[0]=e=>W(se)?se.value=e:null),class:"m-radio-group",size:"small",fill:"var(--tab-active-bg)","text-color":u(d)?"#F5F5F5":"#FFF",onChange:Le},{default:I(()=>[Y(o,{label:"7D",value:7}),Y(o,{label:"1M",value:30})]),_:1},8,["modelValue","text-color"])]),u(U).length>0||u(ae)?(i(),E(ce,{key:0,dataList:u(U),loading:u(ae),showSeries:u(ee),showLeft:u(x)},null,8,["dataList","loading","showSeries","showLeft"])):m("",!0)]),_("div",he,[z((i(),E(k,{data:u(C),style:O([{width:"100%"},{height:u(le)>=245?`${u(le)}px`:"245px"}]),"expand-row-keys":u(re),"preserve-expanded-content":"",fit:"","row-key":Se,size:"small"},{empty:I(()=>[u(te)?(i(),s("span",ge)):(i(),s("div",fe,["light"===u(h)?(i(),s("img",ve)):m("",!0),"dark"===u(h)?(i(),s("img",ye)):m("",!0),_("span",null,p(u(G)("emptyNoData")),1)]))]),default:I(()=>[(i(!0),s(r,null,n(u(oe),e=>(i(),E(g,{key:e.prop,label:e.label,width:e.width,prop:e.prop,"min-width":e.minWidth,align:e.align},{default:I(({row:a})=>[Y(ie,{row:a,col:e,customKeys:["mark","addAmt","netAmt","txns","percent"]},{default:I(()=>{return["mark"==e.prop?(i(),s("div",{key:0,class:"flex-start gap-2px cursor-pointer",onClick:V(e=>function(e){window.open(J(Fe.value?.chain||"",e.address||"","address"),"_blank")}(a),["stop"])},[(o=a,o.lock||/lock|null|(black hole)/gi.test(o.mark||"")?(i(),E(v,{key:0,color:"#B3920E",name:"material-symbols:lock"})):m("",!0)),1==a.is_contract?(i(),E(v,{key:1,name:"iconamoon:file-document-thin"})):m("",!0),1===Number(a?.analysis_show_creator)?(i(),E(y,{key:2},{default:I(()=>[P(p(t.$t("contractCreator")),1)]),_:1})):m("",!0),z((i(),s("div",ke,[P(p(e.customFormatter?e.customFormatter(a):a[e.prop]),1)])),[[w,a?.mark||a?.address]])],8,xe)):"addAmt"==e.prop?(i(),s("div",we,[_("span",null,p(("formatNumber"in t?t.formatNumber:u(D))(a.main_token_amount,1)),1)])):"netAmt"==e.prop?(i(),s("div",be,[_("span",null,p(("formatNumber"in t?t.formatNumber:u(D))(a.target_token_amount,1)),1)])):"txns"==e.prop?(i(),s("div",_e,[_("div",{class:c(`color-${u(K)[0]} flex-start`)},[l[1]||(l[1]=_("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='13'%20viewBox='0%200%2012%2013'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20y='0.5'%20width='12'%20height='12'%20rx='2'%20fill='%2312B886'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.79224%208.76282%207.02941%208.47059%207.02941H6.52941V8.97059C6.52941%209.26282%206.29224%209.5%206%209.5C5.70776%209.5%205.47059%209.26282%205.47059%208.97059V7.02941H3.52941C3.23718%207.02941%203%206.79224%203%206.5C3%206.20776%203.23718%205.97059%203.52941%205.97059H5.47059V4.02941C5.47059%203.73718%205.70776%203.5%206%203.5C6.29224%203.5%206.52941%203.73718%206.52941%204.02941V5.97059H8.47059C8.76282%205.97059%209%206.20776%209%206.5Z'%20fill='%2312B886'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),P(" "+p(a.add_total),1)],2),_("div",{class:c(`color-${u(q)[0]} flex-start`)},[l[2]||(l[2]=_("img",{src:"data:image/svg+xml,%3csvg%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20opacity='0.103723'%20width='12'%20height='12'%20rx='2'%20fill='%23F6465D'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M9%206.5C9%206.776%208.76282%207%208.47059%207H3.52941C3.23718%207%203%206.776%203%206.5C3%206.224%203.23718%206%203.52941%206H8.47059C8.76282%206%209%206.224%209%206.5Z'%20fill='%23F6465D'/%3e%3c/svg%3e",alt:"",class:"h-12px w-12px mr-4px mt-2px"},null,-1)),P(" "+p(a.remove_total),1)],2)])):"percent"==e.prop?(i(),s("div",Ce,[_("div",null,p(("formatNumber"in t?t.formatNumber:u(D))(a.percent,1))+"%",1),_("div",De,[_("span",{style:O({width:a.percent+"%"})},null,4)])])):m("",!0)];var o}),_:2},1032,["row","col"])]),_:2},1032,["label","width","prop","min-width","align"]))),128)),Y(g,{type:"expand"},{default:I(({row:e})=>[e?.lock&&e?.lock.length?(i(),E(k,{key:0,data:e?.lock,style:{width:"100%"}},{default:I(()=>[(i(!0),s(r,null,n(u(ne),e=>(i(),E(g,{key:e.prop,label:e.label,prop:e.prop,align:e.align},{default:I(({row:a})=>[Y(ie,{row:a,col:e},null,8,["row","col"])]),_:2},1032,["label","prop","align"]))),128))]),_:1},8,["data"])):m("",!0)]),_:1})]),_:1},8,["data","expand-row-keys","style"])),[[b,u(te)]])])])}}}),[["__scopeId","data-v-e6d7b89c"]]);export{Se as default};
