import{f as e,R as t,Q as a,z as l,g as s,r as n,v as o,a0 as i,I as c,m as x,n as d,c as u,o as A,a as p,t as r,i as m,aK as h,d as v,G as b,b as f,w as g,s as S,aE as K,F as k,D as I,K as C,bu as y,J as q,H as O,h0 as T,h1 as W,a2 as F,k as E,bw as z,cC as J,fm as R,h2 as V,h3 as H,_ as w}from"#entry";import{_ as X}from"./NZiWsxCB.js";const j={class:"bg-[--secondary-bg] w-full flex justify-center h-[calc(100vh-92px)] overflow-y-auto"},N={class:"py-40px"},G={class:"text-24px color-[--main-text] font-500"},Y={class:"mt-6px color-[--secondary-text] text-12px"},M={class:"flex justify-center mt-20px pb-20px"},Q={class:"w-678px max-w-50vw mr-42px"},U={class:"flex items-center gap-8px"},B={class:"text-14px b b-solid b-[--main-divider] h-44px px-12px flex items-center rd-8px flex-1"},L={class:"text-14px b b-solid b-[--main-divider] h-44px px-12px flex items-center rd-8px flex-1"},P={class:"mt-20px mb-10px color-[--secondary-text] text-14px"},D={class:"text-14px b b-solid b-[--main-divider] p-12px rd-8px min-h-400px h-[calc(100vh-492px)] max-h-600px overflow-y-auto relative"},Z={class:"color-#9CA3AF flex items-center absolute top-12px left-12px"},$={class:"color-[--main-text]"},_={class:"text-12px ml-2px"},ee={class:"text-14px color-[--secondary-text] mt-20px mb-10px mt-20px"},te={class:"b b-solid b-[--main-divider] h-44px px-12px flex items-center rd-8px"},ae={class:"flex items-center mt-20px"},le={class:"w-500px pl-42px b-l b-l-solid b-l-[--main-divider] lh-20px"},se={class:"text-20px font-500 mb-10px"},ne={class:"text-14px font-500 mb-8px"},oe={class:"text-14px font-400 color-[--third-text] mb-20px"},ie={class:"text-14px font-500 mb-8px"},ce={class:"text-14px font-400 color-[--third-text] mb-20px"},xe={class:"text-14px font-500 mb-8px"},de={class:"text-14px font-400 color-[--third-text]"},ue={href:"https://solana.com/zh/docs/core/accounts",target:"_blank",class:"underline clickable"},Ae=w(e({__name:"index",setup(e){const w=t(),Ae=a(),pe=l(),re=s(()=>Ae?.userInfo?.addresses?.find?.(e=>"solana"===e?.chain)?.address||w.address||""),me=n([]),he=n("0"),ve=n("0"),be=n(!1),fe=n(!1),{t:ge}=o(),Se=s(()=>new i(ve.value).times(ke.value.length||0).toFixed());s(()=>new i(ve.value).times(me.value.length||0).toFixed());const Ke=n(!1),ke=c([]),Ie=n(!0),Ce=e=>{ke.value=e?me?.value?.slice(0,20)?.map(e=>e.tokenAccount):[];const t=ke.value.length;Ie.value=t>0&&t<me.value.length},ye=e=>{const t=e.length;Ke.value=t===me.value.length||ke.value.length>=20,Ie.value=t>0&&t<me.value.length};function qe(){const e=ke.value.map(e=>{const t=me.value.find(t=>t.tokenAccount===e)?.mint;return{mint:t||"",tokenAccount:e}});be.value=!0;let t=null;W({closeAccounts:e}).then(e=>(fe.value=!0,t=F({message:ge("loadingCloseAccount"),plain:!0,icon:E(X,{color:"var(--d-F5F5F5-l-666)",strokeWidth:5}),customClass:"loading-close-account"}),e.wait())).then(()=>{be.value=!1,fe.value=!1,F({message:ge("closeAccountsSuccess"),type:"success",plain:!0}),t&&t?.close?.(),Oe(),z().updateHolderNum++,ke.value=[]}).catch(e=>{if(be.value=!1,fe.value=!1,t&&t?.close?.(),Ae.accessToken&&Ae?.userInfo?.addresses?.find?.(e=>"solana"===e?.chain)?.address){F({message:J("string"==typeof e?e:e?.data?.message||e?.message||e?.msg),type:"error",plain:!0})}else R(e,"solana")})}function Oe(){w?.address&&"solana"!==w?.chain?me.value=[]:V(re.value).then(e=>{me.value=e}),H?.(re.value).then(e=>{he.value=e?.balance||"0"})}return x(re,e=>{e&&Oe()},{immediate:!0}),d(()=>{T().then(e=>{ve.value=new i(e).shiftedBy(-9).toFixed()})}),(e,t)=>{const a=K,l=y,s=O;return A(),u("div",j,[p("div",N,[p("h3",G,"Solana "+r(e.$t("rentRecovery")),1),p("div",Y,r(e.$t("rentRecoveryDesc")),1),p("div",M,[p("div",Q,[p("div",U,[p("div",B,[p("span",null,"SOL "+r(e.$t("balance1"))+": "+r(("formatNumber2"in e?e.formatNumber2:m(h))(m(he),3))+" SOL",1)]),p("div",L,[p("span",null,r(e.$t("recyclableTokens"))+": "+r(m(me)?.length||0),1)])]),p("div",P,r(e.$t("selectClosedTokenAccount")),1),p("div",D,[p("div",Z,[p("span",$,r(e.$t("selectedToken")),1),p("span",{class:b(m(ke)?.length>0?"color-#3F80F7":"")},r(m(ke)?.length||0),3),t[3]||(t[3]=v("/",-1)),p("span",null,r(m(me)?.length||0),1),p("span",_,"("+r(m(ge)("limitRent"))+")",1)]),t[4]||(t[4]=p("div",{class:"h-16px mb-15px"},null,-1)),p("div",null,[f(a,{modelValue:m(Ke),"onUpdate:modelValue":t[0]||(t[0]=e=>S(Ke)?Ke.value=e:null),indeterminate:m(Ie),onChange:Ce},{default:g(()=>[v(r(e.$t("selectAll")),1)]),_:1},8,["modelValue","indeterminate"]),f(l,{modelValue:m(ke),"onUpdate:modelValue":t[1]||(t[1]=e=>S(ke)?ke.value=e:null),onChange:ye},{default:g(()=>[(A(!0),u(k,null,I(m(me),e=>(A(),C(a,{key:e.tokenAccount,value:e.tokenAccount,shape:"square",class:"mt-10px flex!",disabled:m(ke).length>=20&&!m(ke).includes(e.tokenAccount)},{default:g(()=>[v(r(e.symbol||"UNKNOWN"),1)]),_:2},1032,["value","disabled"]))),128))]),_:1},8,["modelValue"])])]),p("div",ee,r(e.$t("availableRent")),1),p("div",te,[t[5]||(t[5]=p("img",{class:"w-24px mr-8px",src:"data:image/png;base64,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",alt:"",srcset:""},null,-1)),p("span",null,r(("formatNumber2"in e?e.formatNumber2:m(h))(m(Se),3))+" SOL",1)]),p("div",ae,[(A(),C(s,{key:m(pe).theme,color:"var('--border')",class:"flex-1 mr-15px! max-h-40px rd-8px!",size:"large",onClick:t[2]||(t[2]=q(e=>ke.value=[],["stop"]))},{default:g(()=>[v(r(e.$t("reset")),1)]),_:1})),f(s,{type:"primary",class:"flex-1 max-h-40px rd-8px!",size:"large",loading:m(be),disabled:!m(ke).length||!m(re),onClick:q(qe,["stop"])},{default:g(()=>[v(r(e.$t("submit")),1)]),_:1},8,["loading","disabled"])])]),p("div",le,[p("h2",se,r(e.$t("question")),1),p("h3",ne,r(e.$t("question1Title")),1),p("div",oe,r(e.$t("question1Content")),1),p("h3",ie,r(e.$t("question2Title")),1),p("div",ce,r(e.$t("question2Content")),1),p("h3",xe,r(e.$t("question3Title")),1),p("div",de,[v(r(e.$t("question3Content"))+" ",1),p("a",ue,r(e.$t("question3Content2")),1)])])])])])}}}),[["__scopeId","data-v-9c3fde25"]]);export{Ae as default};
