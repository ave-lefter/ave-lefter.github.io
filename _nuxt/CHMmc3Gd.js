import{f as e,ah as a,y as t,Q as s,v as l,r as o,g as r,c as n,B as i,i as c,o as p,U as d,bh as u,a as m,b as v,t as f,C as x,F as y,D as g,K as h,b_ as k,N as b,H as w,J as C,w as _,d as $,a2 as A,p as B,gY as D,_ as I}from"#entry";import{d as T}from"./C3cAJUEQ.js";const U={class:"tabs"},z={class:"text-14px color-[--main-text]"},S={class:"text-12px color-[--third-text] mt-8px"},V={class:"import part mt-24px"},E={class:"text-12px color-[--secondary-text] mb-10px block"},K={class:"grid grid-cols-3 gap-2"},P={class:"error-message"},j={key:0},H={class:"flex-between"},R=I(e({__name:"import",emits:["refresh"],setup(e,{emit:I}){const R=I,{showImport:W}=a(t()),Z=s(),{t:F}=l(),J=o(!1),L=o(Array(12).fill("")),N=o([]),Q=o(""),Y=r(()=>L.value.join(" ").trim());r(()=>L.value.every(e=>""!==e.trim()));const q=()=>{if(L.value.some(e=>!e.trim()))return void(Q.value=F("importTip1eTips2"));J.value=!0;const e=Z?.userInfo?.tgUid||"",a=function(e,a){const t=D.enc.Base64.stringify(D.enc.Utf8.parse(e)),s=D.SHA256(a),l=D.lib.WordArray.create(s.words.slice(0,4));return D.AES.encrypt(t,s,{mode:D.mode.CBC,iv:l,padding:D.pad.Pkcs7}).ciphertext.toString(D.enc.Base64)}(Y.value,e);T(a).then(e=>{A.success(F("success")),R("refresh"),W.value=!1,G()}).catch(e=>{A.error(String(e))}).finally(()=>{J.value=!1})};function G(){L.value=Array(12).fill(""),Q.value=""}return(e,a)=>{const t=x,s=b,l=w;return c(W)?(p(),n("div",{key:0,class:"pop-right",onClick:a[2]||(a[2]=e=>W.value=!1)},[d(m("div",{class:"content",style:{flex:"1","max-width":"450px","overflow-y":"auto","overflow-x":"hidden"},onClick:a[1]||(a[1]=C(()=>{},["stop","prevent"]))},[m("div",U,[m("div",null,f(e.$t("importWallet")),1),v(t,{name:"line-md:close",class:"text-20px color-[--main-text]",onClick:a[0]||(a[0]=e=>W.value=!1)})]),m("div",null,[m("span",z,f(e.$t("allChain"))+" "+f(e.$t("automaticRecognition")),1),m("div",S,f(e.$t("importBotTip")),1)]),m("div",V,[m("span",E,f(e.$t("mnemonic")),1),m("div",K,[(p(!0),n(y,null,g(c(L),(e,a)=>(p(),h(s,{ref_for:!0,ref_key:"inputs",ref:N,key:a,modelValue:c(L)[a],"onUpdate:modelValue":e=>c(L)[a]=e,class:"input",placeholder:`${a+1}`,onInput:e=>((e,a)=>{let t=e.replace(/[^a-zA-Z]/g,"").toLowerCase();L.value[a]=t,e=t,12==L?.value.length&&(Q.value="")})(e,a),onKeydown:k(e=>{return s=a,void(" "!==(t=e).key&&"Enter"!==t?.key||(t.preventDefault(),B(()=>N.value[s+1]?.focus())));var t,s},["enter"]),onPaste:e=>(e=>{const a=e.clipboardData.getData("text").trim(),t=a?.replace(/\s+/g," ")?.split(" ");12==t?.length&&(e.preventDefault(),/^[a-zA-Z\s]+$/.test(a)?t.forEach((e,a)=>{L.value[a]=e}):A.error(F("importTip1eTips")))})(e)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput","onKeydown","onPaste"]))),128))]),m("div",P,[c(Q)?(p(),n("span",j,f(c(Q)),1)):i("",!0)]),m("div",H,[v(l,{class:"width100 button",size:"small",onClick:C(G,["stop","prevent"])},{default:_(()=>[$(f(e.$t("reset")),1)]),_:1}),v(l,{class:"width100 button",block:"",size:"small",type:"primary",loading:c(J),onClick:C(q,["stop"])},{default:_(()=>[$(f(e.$t("confirm")),1)]),_:1},8,["loading"])])])],512),[[u,c(W)]])])):i("",!0)}}}),[["__scopeId","data-v-4b9029e7"]]);export{R as default};
