import{f as e,gt as a,ah as t,aA as s,v as r,Q as d,gu as o,R as n,P as i,I as l,r as c,n as p,gv as u,b1 as m,g as f,gw as y,c as g,o as h,B as k,i as v,F as x,K as S,gx as A,C as B,J as C,ad as R,a2 as _,_ as b}from"#entry";import{u as w}from"./C3cAJUEQ.js";const E=b(e({__name:"remark",props:{remark:{type:String,default:""},address:{type:String,default:""},chain:{type:String,default:""},priority:{type:Number,default:0},teleported:{type:Boolean,default:!0},showIcon:{type:Boolean,default:!1},formatAddress:{type:Function,default:e=>"*"+e?.slice(-6)},mouseoverAddress:{type:Function,default:null},addressClass:{type:String,default:""},addressStyle:{type:String,default:""},iconEditColor:{type:String,default:"var(--third-text)"},showAddressTitle:{type:Boolean,default:!1},iconEditSize:{type:String,default:"12px"},iconSize:{type:String,default:"16px"},showAddress:{type:Boolean,default:!0},maxRemarkLength:{type:Number,default:14},wallet_logo:{type:Object,default:()=>({logo:"",name:"",url:"",vip_logo:""})},canEdit:{type:Boolean,default:!0},avatarClass:{type:String,default:"mr-10px"}},emits:["refresh"],setup(e,{emit:b}){a(a=>({e71d04d8:e.iconEditColor,v6a7ef0a0:e.iconEditSize}));const E=e,I=b,{updateNum3:z}=t(s()),{t:F}=r(),N=d(),P=o(),j=n(),L=i("target"),J=l(!1),K=c(!1);let O;function Q(e){const a=e.remark;a.length<=20?function(e){const a={address:E.address,name:e,chain:E.chain};K.value=!0,w(a).then(()=>{_.success(F("success")),z.value++,I("refresh")}).catch(e=>{_.error(e.message)}).finally(()=>{K.value=!1})}(a):_.error(F("maximum10characters"))}return p(()=>{if(L.value){const e=u(L,([e])=>{J.value=e.isIntersecting});O=e.stop}}),m(()=>{O&&O()}),f(()=>{const e=P.getRemarkByAddress({address:E.address,chain:E.chain}),a=E.remark;return e||a}),f(()=>{const e=P.getRemarkByAddress({address:E.address,chain:E.chain}),a=E.remark,t=1===E.priority?a||e:e||a;return y(t,E.maxRemarkLength)||E.formatAddress(E.address)}),f(()=>{const e=P.getRemarkByAddress({address:E.address,chain:E.chain}),a=E.remark;return(1===E.priority?a||e:e||a)||E.address}),(a,t)=>{const s=B;return h(),g("div",{ref_key:"target",ref:L,class:"remark-com"},[e.canEdit&&v(J)?(h(),g(x,{key:0},[v(N)?.userInfo?.evmAddress||v(j)?.address?(h(),S(A,{key:0,address:e.address,chain:e.chain,remark:e.remark,popoverProps:{width:320,title:v(F)("editRemark"),popperClass:"[&&]:[--el-popover-title-text-color:--main-text] [&&]:[--el-popover-title-font-size:14px]"},onConfirm:Q},null,8,["address","chain","remark","popoverProps"])):(h(),S(s,{key:1,name:"custom:remark",class:"text-12px ml-5px clickable icon-remark shrink-0",onClick:C(v(R),["stop","prevent"])},null,8,["onClick"]))],64)):k("",!0)],512)}}}),[["__scopeId","data-v-a07ba607"]]);export{E as default};
