import{f as e,v as t,r as a,I as l,y as s,P as o,x as n,aB as r,g as c,m as i,ai as p,aw as u,T as m,K as x,o as d,w as f,c as h,B as b,i as g,F as y,D as k,a as v,aH as w,b as _,a6 as C,b3 as I,b4 as D,t as S,$ as j,d as B,C as $,a3 as T,J as V,U as q,aO as A,bs as L,_ as H}from"#entry";import{g as E,c as M,_ as z,a as F}from"./Dj5W2tf4.js";import{_ as J}from"./Y2pY9dTy.js";import{E as K}from"./1bXUUYzG.js";import"./5S8AQ56A.js";import"./BUyr3k23.js";const N={key:0,class:"pumplive"},O=["onClick"],P={class:"relative w-full pump-live-bg clickable flex items-center justify-center"},R={key:1,class:"rounded-8px bg-[--main-input-button-bg] border border-solid-1px border-[--main-input-button-bg]",src:M,width:"100%",height:"100",alt:"",srcset:""},U={key:2,class:"bg-[--pump-green] color-#000 rounded-4px py-2px px-8px text-14px font-500 absolute bottom-8px left-8px"},G={class:"flex-between mt-12px"},Q=["src"],W=["src"],X=["src"],Y=["src"],Z={class:"ml-6px text-14px font-500 color-[--main-text]"},ee={class:"text-12px color-[--third-text]"},te={class:"color-[--pump-green] ml-5px"},ae={class:"color-[--third-text] text-12px mt-15px break-words desc",style:{"line-height":"1.4"}},le={class:"color-[--third-text] text-12px mt-15px flex-start"},se={class:"flex-between mt-12px items-center"},oe=["href"],ne={key:0,class:"flex items-center gap-10px color-[--third-text]"},re=["href"],ce={key:1},ie=["href"],pe={key:0,class:"text-center py-4 text-12px color-[--third-text]"},ue={key:1,class:"text-center py-4 text-12px color-[--third-text]"},me=H(e({__name:"index",setup(e){const{t:H}=t(),M=a([]);l("0.01");const me=l(!1),xe=a(!1),de=s(),fe=l(1),he=l(20),be=o("scrollbar"),ge=n("rankChain","AllChains"),ye=r(),ke=c(()=>990);function ve(){if(me.value||xe.value)return;me.value=!0;const e={chain:"AllChains"==ge.value?"":ge.value,category:"pumplive",page_no:fe.value,page_size:he.value,sort:de.pumpLiveSort.sort,sort_dir:de.pumpLiveSort.sort_dir};E(e).then(e=>{const t=Array.isArray(e)?e?.map(e=>({...e,medias:we(e)})):[];t.length>0&&(fe.value++,M.value=M.value?.concat(t)),t.length<he.value&&(xe.value=!0)}).catch(e=>{M.value=[]}).finally(()=>{me.value=!1})}function we(e){const t=[];return e?.twitter&&t.push({name:"Twitter",icon:"twitter",url:u(e.twitter)}),e?.website&&t.push({name:H("website"),icon:"web",url:u(e.website)}),e?.btok&&t.push({name:"Btok",icon:"btok",url:u(e.btok)}),e?.telegram&&t.push({name:"Telegram",icon:"tg",url:u(e.telegram)}),t}i(()=>de.pumpLiveSort,()=>{fe.value=1,M.value=[],ve()},{deep:!0}),p(()=>{fe.value=1,M.value=[],ve()});const _e=L(({scrollTop:e})=>{const t=be.value?.wrapRef;if(!t||me.value||xe.value)return;t.scrollTop+t.clientHeight>=t.scrollHeight-2&&ve()},1e3,!0,!1);return(e,t)=>{const a=w,l=C,s=$,o=z,n=J,r=A,c=K,i=m("tooltip");return d(),x(c,{ref_key:"scrollbar",ref:be,height:g(ke),class:"hidden-scrollbar px-15px",onScroll:g(_e)},{default:f(()=>[g(M)?.length>0?(d(),h("div",N,[(d(!0),h(y,null,k(g(M),(r,c)=>(d(),h("div",{class:"item rounded-8px cursor-pointer",key:c,onClick:e=>function(e){const t=ye.resolve({name:"token-id",params:{id:e.token+"-"+e.chain}});window.open(t.href,"_blank")}(r)},[v("div",P,[r?.thumbnail?(d(),x(a,{key:0,fit:"contain",class:"w-100% h-168px rounded-8px bg-[--main-input-button-bg] border border-solid-1px border-[--main-input-button-bg]",src:r.thumbnail,alt:"",srcset:""},null,8,["src"])):(d(),h("img",R)),r.is_currently_live?(d(),h("span",U,"LIVE")):b("",!0)]),v("div",G,[_(l,{"popper-class":"tooltip-pd-0",placement:"bottom-start","show-arrow":!1},{default:f(()=>[_(a,{fit:"cover",class:"rd-50% w-24px h-24px",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:g(I))(r),alt:"",srcset:""},{placeholder:f(()=>[v("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(D))(r.chain,r.symbol),class:"token-icon w-24px text-16px color-#fff"},null,8,Q)]),error:f(()=>[v("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(D))(r.chain,r.symbol),class:"token-icon w-24px text-16px color-#fff"},null,8,W)]),_:2},1032,["src"])]),content:f(()=>[_(a,{fit:"cover",class:"rd-8px w-240px h-240px",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:g(I))(r),alt:"",srcset:""},{placeholder:f(()=>[v("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(D))(r.chain,r.symbol),class:"token-icon w-228px text-16px color-#fff"},null,8,X)]),error:f(()=>[v("img",{src:("getChainDefaultIcon"in e?e.getChainDefaultIcon:g(D))(r.chain,r.symbol),class:"token-icon w-228px text-16px color-#fff"},null,8,Y)]),_:2},1032,["src"])]),_:2},1024),v("span",Z,S(r.symbol),1),t[4]||(t[4]=v("span",{class:"flex-1"},null,-1)),v("div",ee,[t[3]||(t[3]=v("span",{class:"color"},"MC",-1)),v("span",te,"$"+S(g(j)(r.usd_market_cap||0,2)),1)])]),v("div",ae,S(r.description),1),v("div",le,[_(s,{class:"mr-5px text-16px",name:"custom:reply"}),B(" "+S(g(j)(r.reply_count||0,0))+" ",1),_(s,{class:"ml-16px mr-5px text-16px",name:"custom:time-line"}),B(" "+S(g(T)(r.created_timestamp).locale("en").fromNow()),1)]),v("div",se,[v("a",{class:"mr-10px hover:opacity-70 leading-16px",href:r.detail_url,target:"_blank",onClick:t[0]||(t[0]=V(()=>{},["stop"]))},[_(s,{class:"color-[--pump-green] text-16px",name:"custom:link"})],8,oe),r?.medias?.length>0?(d(),h("div",ne,[(d(!0),h(y,null,k(r?.medias,(e,a)=>(d(),h(y,{key:a},["twitter"===e.icon?(d(),x(o,{key:0,tokenId:r.token+"-"+r.chain,type:r.twitter_type},{default:f(()=>[v("a",{class:"flex items-center",href:e.url,target:"_blank",onClick:t[1]||(t[1]=V(()=>{},["stop"]))},[[1,2,3].includes(r.twitter_type)?(d(),x(F,{key:0,type:r.twitter_type},null,8,["type"])):(d(),x(s,{key:1,name:`custom:${e.icon}`},null,8,["name"]))],8,re)]),_:2},1032,["tokenId","type"])):e.url?q((d(),h("div",ce,[v("a",{class:"flex items-center",href:e.url,target:"_blank",onClick:t[2]||(t[2]=V(()=>{},["stop"]))},[_(s,{name:`custom:${e.icon}`},null,8,["name"])],8,ie)])),[[i,e.url]]):b("",!0)],64))),128))])):b("",!0),t[5]||(t[5]=v("span",{class:"flex-1"},null,-1)),g(de)?.rankCommon?.quickVisible?(d(),x(n,{key:1,quickBuyValue:g(de)?.rankCommon?.quickBuyValue,row:r},null,8,["quickBuyValue","row"])):b("",!0)])],8,O))),128))])):b("",!0),g(M)&&0!==g(M)?.length||g(me)?(d(),h(y,{key:2},[g(me)?(d(),h("div",pe,S(e.$t("loading")),1)):g(xe)?(d(),h("div",ue,S(e.$t("noMore")),1)):b("",!0)],64)):(d(),x(r,{key:1,class:"mt-200px"}))]),_:1},8,["height","onScroll"])}}}),[["__scopeId","data-v-60cba4d1"]]);export{me as default};
