import{f as e,Q as t,g as a,r as s,O as l,M as o,c as i,o as r,F as n,bR as c,b as u,J as d,C as p,w as m,a as v,oh as x,i as y,ci as f,t as g,B as h,aH as k,b3 as b,b4 as T,a4 as w,$ as _,L as S,d as j,a8 as A,bi as $,bj as B,bk as L,bl as D,bm as F,s as U,E as C,oi as I,bG as R,bn as M,oj as z,ok as H,bo as P,_ as V,R as Y,ay as O,aB as W,ah as q,y as E,bQ as N,v as X,m as G,p as Q,ol as J,om as K,n as Z,U as ee,am as te,K as ae,a1 as se,G as le,d3 as oe,a0 as ie,cC as re,aM as ne,aN as ce,bp as ue,ak as de,cg as pe,nS as me,P as ve,al as xe,ai as ye,D as fe,bN as ge,aE as he,d1 as ke,cG as be}from"#entry";import{a as Te,E as we}from"./CXu7cHRZ.js";import{E as _e,a as Se,b as je}from"./BbcemesW.js";import"./Div4Sb7D.js";import"./1bXUUYzG.js";import{u as Ae,S as $e}from"./DJQ0f6YX.js";import{s as Be}from"./COH8ZT7G.js";import"./EyvYgUJ0.js";import"./DWsaYBFQ.js";import"./DZrW0QoB.js";import"./CZIhrSUn.js";import"./DhoqPgLY.js";import"./DYraDxUd.js";import"./DMZvEsQv.js";import"./htzw4K3n.js";import"./Dj5W2tf4.js";import"./4ZxzSbBH.js";import"./Ci0kdpII.js";import"./md0wCl8Q.js";import"./BuTxD5e6.js";import"./vIWCTboT.js";import"./C7V9UFRI.js";import"./NZiWsxCB.js";import"./BUyr3k23.js";import"./D1RQ0Ig2.js";import"./U3Xc_iuw.js";import"./DC37kyC8.js";import"./DkMFijTu.js";const Le=["src"],De={class:"inline-block"},Fe={class:"flex flex-col"},Ue={class:"mt-5px block ml-auto text-10px color-#fff m-w-180px text-center"},Ce={class:"flex items-center justify-start mt-40px"},Ie={class:"icon-token-container share",style:{"margin-right":"10px"}},Re=["src"],Me=["src"],ze=["src"],He={class:"text-20px"},Pe={class:"mt-5px text-[#666] block"},Ve={class:"mt-15px"},Ye={class:"text-[#999]"},Oe={class:"mt-20px share-table"},We={key:1,style:{color:"#999"}},qe={key:1,style:{color:"#999"}},Ee={key:1,style:{color:"#999"}},Ne={key:1,style:{color:"#999"}},Xe={class:"absolute right-30px bottom-30px flex justify-end text-center"},Ge={class:"text-right mt-10px"},Qe={class:"text-20px font-semibold block"},Je={class:"text-12px mt-10px"},Ke={class:"ml-10px"},Ze=["src","alt"],et={class:"text-14px font-400 mt-5px block"},tt={class:"flex justify-between mx-auto mt-20px text-12px w-300px color-#999"},at={class:"mt-8px"},st=V(e({__name:"share",props:{statistics:{type:Object,required:!0},address:{type:String,required:!0},chain:{type:String,required:!0}},setup(e){const V=e,Y=t(),O=a(()=>!!Y?.userInfo?.evmAddress),W=s(!1),q=x("shareDom"),E=s(""),N=s(""),X=l(),G=o(),Q=a(()=>{const e=G.globalConfig.pc_share_image.replace(/^.*\|/,"").split(",").map(e=>G.token_logo_url+"pc_share/"+e),t=G.globalConfig.pc_share_image?.replace(/\|.*$/,"");return{ups:e,downs:t.split(",").map(e=>G.token_logo_url+"pc_share/"+e)}}),J=s();async function K(){const e={token:2===V.statistics?.swapType?V.statistics?.inTokenAddress:V.statistics.outTokenAddress,acc:V.address},t=await I({...e});J.value={...V.statistics,...t,profitRate:t?.profit_realized_ratio},W.value=!0,function(){const e=G.globalConfig.inviter_url_v2||"https://share.ave.ai",t=R.get("refCode")||"",a=t?"&code="+t:"",s=e+"?lang="+X.locale+a;M.toDataURL(s,{margin:1}).then(e=>{N.value=e}).catch(e=>{})}(),function(e=!1){const t=e?Q.value.ups:Q.value.downs,a=(s=1,l=t.length,Math.floor(Math.random()*(l-s+1))+s);var s,l;E.value=t[a]||(e?z:H)}(Number(V.statistics?.total_profit_ratio)>0)}function Z(){q.value&&P(q.value,{backgroundColor:null,scale:3,allowTaint:!0,useCORS:!0,scrollY:0,scrollX:0}).then(e=>{!function(e,t){let a="";a="string"==typeof e?e:URL.createObjectURL(e);const s=document.createElement("a");s.href=a,s.download=t,s.click(),window.URL.revokeObjectURL(a)}(e.toDataURL("image/png"),`ave-${Date.now()}.png`)})}return(e,t)=>{const a=p,s=k,l=C;return r(),i(n,null,[c(e.$slots,"default",{},()=>[u(a,{name:"custom:share",class:"text-12px color-[--d-999-l-666] ml-6px cursor-pointer",onClick:d(K,["self","stop"])})],!0),u(l,{modelValue:y(W),"onUpdate:modelValue":t[2]||(t[2]=e=>U(W)?W.value=e:null),title:e.$t("share"),width:"628","append-to-body":""},{default:m(()=>[v("div",null,[v("div",{ref_key:"shareDom",ref:q,class:"relative p-25px z-1"},[v("img",{class:"absolute w-588px left--1px top--1px z--1 h-[101%]",src:y(E),alt:"share"},null,8,Le),v("div",De,[v("div",Fe,[t[3]||(t[3]=v("div",{class:"flex items-center"},[v("img",{src:f,class:"h-24px",height:"24",alt:"",srcset:""}),v("span",{class:"ml-5px text-20px"},"Ave.ai")],-1)),v("span",Ue,g(e.$t("campaignTitle")),1)])]),v("div",Ce,[v("div",Ie,[u(s,{class:"token-icon token-logo",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:y(b))({logo_url:2===y(J).swapType?y(J)?.inTokenLogoUrl:y(J).outTokenLogoUrl,chain:y(J).chain,symbol:2===y(J).swapType?y(J)?.inTokenSymbol:y(J).outTokenSymbol})},{error:m(()=>[v("img",{class:"token-icon",src:y(T)(y(J)?.chain,2===y(J).swapType?y(J)?.inTokenSymbol:y(J).outTokenSymbol),alt:"",srcset:""},null,8,Re)]),placeholder:m(()=>[v("img",{class:"token-icon",src:y(T)(y(J)?.chain,2===y(J).swapType?y(J)?.inTokenSymbol:y(J).outTokenSymbol),alt:"",srcset:""},null,8,Me)]),_:1},8,["src"]),y(J)?.chain?(r(),i("img",{key:0,class:"w-12px h-12px relative left-[-7px]",src:`${y(G).token_logo_url}chain/${y(J).chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,ze)):h("",!0)]),v("span",He,g(2===y(J).swapType?y(J)?.inTokenSymbol:y(J).outTokenSymbol),1)]),v("span",Pe,g((y(O)?y(Y)?.userInfo?.evmAddress:V.address)?.slice(0,6)+"..."+(y(O)?y(Y)?.userInfo?.evmAddress:V.address)?.slice(-6)),1),v("div",Ve,[v("span",Ye,g(e.$t("RIO")),1),y(J)?.profitRate?(r(),i("div",{key:0,class:"mt-5px",style:w([{"font-size":"40px","font-weight":"700"},{color:y(J)?.profitRate>0?"#12B886":"#ff646d"}])},g(y(J)?.profitRate>0?"+":"")+g(y(_)(y(J)?.profitRate||0,1))+"%",5)):(r(),i("div",{key:1,class:"mt-5px",style:w([{"font-size":"40px","font-weight":"700"},{color:"#999"}])},"--"))]),v("table",Oe,[v("tbody",null,[v("tr",null,[v("td",{style:w({width:y(S)(e.$t("campaignBuyAvg"))+20+"px"})},g(e.$t("campaignBuyAvg")),5),v("td",null,[y(J)?.avg_buy_price>0?(r(),i(n,{key:0},[j(" $"+g(y(_)(y(J)?.avg_buy_price||0)),1)],64)):(r(),i("span",We,"--"))])]),v("tr",null,[v("td",{style:w({width:y(S)(e.$t("campaignSellAvg"))+20+"px"})},g(e.$t("campaignSellAvg")),5),v("td",null,[y(J)?.avg_sell_price>0?(r(),i(n,{key:0},[j(" $"+g(y(_)(y(J)?.avg_sell_price||0)),1)],64)):(r(),i("span",qe,"--"))])]),v("tr",null,[v("td",{style:w({width:y(S)(e.$t("campaignBuyTime"))+20+"px"})},g(e.$t("campaignBuyTime")),5),v("td",null,[y(J)?.last_buy_time?(r(),i(n,{key:0},[j(g(y(A)(y(J).last_buy_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),i("span",Ee,"--"))])]),v("tr",null,[v("td",{style:w({width:y(S)(e.$t("campaignSellTime"))+20+"px"})},g(e.$t("campaignSellTime")),5),v("td",null,[y(J)?.last_sell_time?(r(),i(n,{key:0},[j(g(y(A)(y(J).last_sell_time,"YYYY-MM-DD HH:mm:ss")),1)],64)):(r(),i("span",Ne,"--"))])])])]),v("div",Xe,[v("div",Ge,[v("span",Qe,g(e.$t("campaignSubTitle")),1),v("span",Je,g(e.$t("campaignDesc")),1)]),v("div",Ke,[v("img",{src:y(N),alt:e.$t("campaignScan"),width:"60px",height:"60px"},null,8,Ze),v("span",et,g(e.$t("campaignScan")),1)])])],512),v("div",tt,[v("div",{class:"flex-col flex items-center cursor-pointer",onClick:d(Z,["stop"])},[t[4]||(t[4]=v("img",{src:$,height:"48",alt:"",srcset:""},null,-1)),v("span",at,g(e.$t("download")),1)]),v("div",{class:"flex-col flex items-center cursor-pointer",onClick:t[0]||(t[0]=d((...t)=>("jumpX"in e?e.jumpX:y(B))&&("jumpX"in e?e.jumpX:y(B))(...t),["stop"]))},[...t[5]||(t[5]=[v("img",{src:L,height:"48",alt:"",srcset:""},null,-1),v("span",{class:"mt-8px"},"Twitter",-1)])]),v("div",{class:"flex-col flex items-center cursor-pointer",onClick:t[1]||(t[1]=d((...t)=>("jumpTg"in e?e.jumpTg:y(D))&&("jumpTg"in e?e.jumpTg:y(D))(...t),["stop"]))},[...t[6]||(t[6]=[v("img",{src:F,height:"48",alt:"",srcset:""},null,-1),v("span",{class:"mt-8px"},"Telegram",-1)])])])])]),_:1},8,["modelValue","title"])],64)}}}),[["__scopeId","data-v-e7819ad4"]]),lt={key:0,class:"flex flex-col items-center justify-center py-30px"},ot={key:0,src:ne},it={key:1,src:ce},rt={key:1},nt={class:"flex items-center justify-start"},ct={class:"icon-token-container mr-5px"},ut={class:"relative"},dt=["src"],pt=["src"],mt=["src"],vt={class:"text-[var(--d-eaecef-l-333333)] text-13px"},xt={class:"flex items-center justify-start"},yt={class:"icon-token-container mr-5px"},ft={class:"relative"},gt=["src"],ht=["src"],kt=["src"],bt={class:"text-[var(--d-eaecef-l-333333)] text-13px"},Tt={class:"flex flex-row-reverse"},wt={class:"flex items-center"},_t={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},St={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},jt={key:0,style:{background:"rgba(18, 184, 134, 0.10)"},class:"text-13px text-center text-[#12B886] px-5px py-2px rounded-4px"},At={key:1,style:{background:"rgba(246, 70, 93, 0.10)"},class:"text-13px text-center text-[#F6465D] px-5px py-2px rounded-4px"},$t={class:"text-[--secondary-text] text-right"},Bt={class:"text-[--secondary-text] text-right"},Lt={class:"text-[--secondary-text] text-right"},Dt={key:0,class:"text-[--secondary-text] text-right"},Ft={key:1,class:"text-[--secondary-text] text-right"},Ut={class:"flex flex-row-reverse"},Ct={class:"flex items-center"},It={class:"text-[--secondary-text] text-right truncate"},Rt={key:0},Mt={key:1,style:{color:"var(--down-color)","word-break":"break-all"}},zt={key:2},Ht={key:3},Pt={key:4,style:{color:"var(--custom-text-1-color)"}},Vt={class:"text-[--secondary-text] text-right"},Yt={class:"flex items-center flex-row-reverse"},Ot=V(e({__name:"unified",props:{chain:{type:String,required:!0},currentToken:{type:Boolean,required:!0},userAddress:{type:String,required:!0}},setup(e,{expose:l}){const{formatUnits:c}=oe,x=e,f=t(),w=Y(),S=O(),$=W(),{mode:B}=q(E()),L=N(),{t:D}=X(),F=o(),U=E(),C=a(()=>!!f?.userInfo?.evmAddress),I=a(()=>C.value?x.chain:w.chain),R=a(()=>x.currentToken?String(S.params.id).split("-")[0]:""),M=s({isLimit:void 0,isBuy:void 0,statusType:""}),z=s([]),H=s(!1),P=a(()=>Math.max(L.commonHeight-360,450));function V(e,t){if(!e||!t)return!1;if("solana"===e){return t.length>30&&!t.startsWith("0x")}if(["bsc","ethereum","polygon","arbitrum","base"].includes(e)){return t.startsWith("0x")&&42===t.length}return!0}function ne(e){"all"===e?(M.value.isBuy=void 0,M.value.isLimit=void 0):"LimitSell"===e?(M.value.isBuy=0,M.value.isLimit=1):"LimitBuy"===e?(M.value.isBuy=1,M.value.isLimit=1):"MarketSell"===e?(M.value.isBuy=0,M.value.isLimit=0):"MarketBuy"===e&&(M.value.isBuy=1,M.value.isLimit=0),pe()}function ce(e){M.value.statusType="all"===e?"":e,pe()}function de(e){let t;t=C.value?xe(e.swapType)?e.outTokenAddress:e?.inTokenAddress:ye(e.swapType)?e.outTokenAddress:e?.inTokenAddress,t&&$.push(`/token/${t}-${e.chain}`)}G([()=>I.value,()=>x.userAddress,()=>x.currentToken,()=>S.params.id],([e,t])=>{V(e,t)&&Q(()=>{pe()})},{immediate:!0});const pe=async()=>{H.value=!0;try{const e=I.value;if(!V(e,x.userAddress))return void(H.value=!1);if(C.value){const t=await J({page:0,pageSize:1e3,chain:e,walletAddress:x.userAddress,token:R.value,timeSort:!0,tradeVolumeSort:!1,isSuccess:!1,status:M.value.statusType,isLimit:M.value.isLimit,isBuy:M.value.isBuy,tgUid:f?.userInfo?.tgUid,minTradeVolume:0,maxTradeVolume:1e5});z.value=t||[],U.mySwapList=t||[]}else{const t=R.value,a=await K({chain:e,creatorAddress:x.userAddress,token:t,mode:1,onlySuccess:!1,pageSize:100,pageNo:1}),s=a?.list||[];if(s.length>0){const e=s.map(fe);z.value=e,U.mySwapList=e}else z.value=[],U.mySwapList=[]}}catch(e){}finally{H.value=!1}};function me(e){const t={1:D("buy"),2:D("sell"),3:"Wrap",4:"Unwrap",5:`${D("limit")}/${D("buy")}`,6:`${D("limit")}/${D("sell")}`,7:D("followBuy"),8:D("followSell"),12:D("trailingStop"),13:D("listingOnDex"),14:D("devSell")};return t[e]?t[e]:""}function ve(e){const t={1:D("buy"),2:D("sell"),3:D("limitBuy1"),4:D("limitSell1"),5:"Wrap",6:"Unwrap"};return t[e]?t[e]:""}function xe(e){return 1===e||5===e||7===e}function ye(e){return 1===e||3===e||5===e||7===e}function fe(e){const t=parseFloat(e.outputAmount||"0"),a=parseFloat(e.inAmount||"0"),s=parseFloat(e.inPrice||"0"),l=parseFloat(e.outPrice||"0");return{chain:I.value,swapType:e.swapType,inTokenSymbol:e.inToken,outTokenSymbol:e.outToken,inTokenLogoUrl:e.inLogoUrl,outTokenLogoUrl:e.outLogoUrl,inTokenAddress:e.inTokenAddress,outTokenAddress:e.outTokenAddress,inTokenDecimals:e.inDecimals,outTokenDecimals:e.outDecimals,inPrice:s,outPrice:l,inValue:a*s/Math.pow(10,e.inDecimals||0),outValue:t*l/Math.pow(10,e.outDecimals||0),inAmount:a.toString(),outAmount:t.toString(),createTime:e.createTime,txHash:e.txHash,status:e.status,userAddress:e.creatorAddress,errorLog:e.errorLog||""}}return Z(()=>{pe()}),l({getTxHistory:pe,refreshData:()=>{pe()}}),(e,t)=>{const a=k,s=we,l=p,o=je,f=Se,w=_e,S=Te,$=te;return r(),i("div",null,[ee((r(),ae(S,{data:z.value,fit:"",stripe:"",height:y(P),"row-class-name":"text-12px","header-row-class-name":"text-12px",style:{width:"100%"},onRowClick:de},{empty:m(()=>[H.value?(r(),i("span",rt)):(r(),i("div",lt,["light"===y(B)?(r(),i("img",ot)):h("",!0),"dark"===y(B)?(r(),i("img",it)):h("",!0),v("span",null,g(y(D)("emptyNoData")),1)]))]),default:m(()=>[u(s,{label:y(D)("token"),align:"left"},se({_:2},[y(C)?{name:"default",fn:m(({row:e})=>[v("div",nt,[v("div",ct,[v("div",ut,[u(a,{class:"w-32px h-32px rounded-full",src:y(b)({chain:e?.chain,symbol:xe(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol,logo_url:xe(e.swapType)?e.outTokenLogoUrl:e?.inTokenLogoUrl})},{error:m(()=>[v("img",{class:"w-32px h-32px",src:y(T)(e?.chain,xe(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),alt:"",srcset:""},null,8,dt)]),placeholder:m(()=>[v("img",{class:"w-32px h-32px",src:y(T)(e?.chain,xe(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),alt:"",srcset:""},null,8,pt)]),_:2},1032,["src"]),e?.chain?(r(),i("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-0 rd-50%",src:`${y(F).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,mt)):h("",!0)])]),v("span",vt,g(xe(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),1)])]),key:"0"}:{name:"default",fn:m(({row:e})=>[v("div",xt,[v("div",yt,[v("div",ft,[u(a,{class:"w-32px h-32px rounded-full",src:y(b)({chain:e?.chain,symbol:ye(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol,logo_url:ye(e.swapType)?e.outTokenLogoUrl:e?.inTokenLogoUrl})},{error:m(()=>[v("img",{class:"w-32px h-32px",src:y(T)(e?.chain,ye(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),alt:"",srcset:""},null,8,gt)]),placeholder:m(()=>[v("img",{class:"w-32px h-32px",src:y(T)(e?.chain,ye(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),alt:"",srcset:""},null,8,ht)]),_:2},1032,["src"]),e?.chain?(r(),i("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px rd-50%",src:`${y(F).token_logo_url}chain/${e.chain}.png`,alt:"",srcset:""},null,8,kt)):h("",!0)])]),v("span",bt,g(ye(e.swapType)?e.outTokenSymbol:e?.inTokenSymbol),1)])]),key:"1"}]),1032,["label"]),u(s,{label:y(D)("type"),align:"right",prop:"isBuy"},{header:m(()=>[v("div",Tt,[v("div",wt,[v("div",null,g(y(D)("type")),1),y(C)?(r(),ae(w,{key:0,trigger:"click",onCommand:ne},{dropdown:m(()=>[u(f,null,{default:m(()=>[u(o,{command:"all"},{default:m(()=>[j(g(y(D)("all")),1)]),_:1}),u(o,{class:le([0===M.value.isBuy&&1===M.value.isLimit&&"active-dropdown-item"]),command:"LimitSell"},{default:m(()=>[j(g(y(D)("limit"))+"/"+g(y(D)("sell")),1)]),_:1},8,["class"]),u(o,{class:le([1===M.value.isBuy&&1===M.value.isLimit&&"active-dropdown-item"]),command:"LimitBuy"},{default:m(()=>[j(g(y(D)("limit"))+"/"+g(y(D)("buy")),1)]),_:1},8,["class"]),u(o,{class:le([0===M.value.isBuy&&0===M.value.isLimit&&"active-dropdown-item"]),command:"MarketSell"},{default:m(()=>[j(g(y(D)("market"))+"/"+g(y(D)("sell")),1)]),_:1},8,["class"]),u(o,{class:le([1===M.value.isBuy&&0===M.value.isLimit&&"active-dropdown-item"]),command:"MarketBuy"},{default:m(()=>[j(g(y(D)("market"))+"/"+g(y(D)("buy")),1)]),_:1},8,["class"])]),_:1})]),default:m(()=>[u(l,{name:"custom:filter",class:le([[M.value?.isBuy>=0&&M.value?.isLimit>=0&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]),_:1})):h("",!0)])])]),default:m(({row:e})=>[y(C)?(r(),i(n,{key:0},[xe(e.swapType)?(r(),i("div",_t,g(me(e.swapType)),1)):(r(),i("div",St,g(me(e.swapType)),1))],64)):h("",!0),y(C)?h("",!0):(r(),i(n,{key:1},[ye(e.swapType)?(r(),i("div",jt,g(ve(e.swapType)),1)):(r(),i("div",At,g(ve(e.swapType)),1))],64))]),_:1},8,["label"]),u(s,{label:y(D)("price"),align:"right"},se({_:2},[y(C)?{name:"default",fn:m(({row:e})=>[v("div",$t,"$"+g(xe(e.swapType)?y(_)(e?.outPrice||0):y(_)(e?.inPrice||0)),1)]),key:"0"}:{name:"default",fn:m(({row:e})=>[v("div",Bt,"$"+g(ye(e.swapType)?y(_)(e?.outPrice||0):y(_)(e?.inPrice||0)),1)]),key:"1"}]),1032,["label"]),u(s,{label:y(D)("volume4"),align:"right"},{default:m(({row:e})=>[v("div",Lt,"$"+g(y(_)(Number(e?.inValue)||e?.outValue||0,2)),1)]),_:1},8,["label"]),u(s,{label:y(D)("amount1"),align:"right"},{header:m(()=>[v("span",null,g(y(D)("amount1")),1)]),default:m(({row:e})=>[y(C)?(r(),i("span",Dt,[xe(e.swapType)?(r(),i(n,{key:1},[j(g(y(_)(y(c)(new(y(ie))(e?.outAmount||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+g(e?.outTokenSymbol),1)],64)):(r(),i(n,{key:0},[j(g(y(_)(y(c)(new(y(ie))(e?.inAmount||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+g(e?.inTokenSymbol),1)],64))])):(r(),i("span",Ft,[ye(e.swapType)?(r(),i(n,{key:1},[j(g("cancelled"===e.status?"0":y(_)(y(c)(new(y(ie))(e?.outAmount||0).toFixed(0),e.outTokenDecimals||0).toString(),4))+" "+g(e?.outTokenSymbol),1)],64)):(r(),i(n,{key:0},[j(g("cancelled"===e.status?"0":y(_)(y(c)(new(y(ie))(e?.inAmount||0).toFixed(0),e.inTokenDecimals||0).toString(),4))+" "+g(e?.inTokenSymbol),1)],64))]))]),_:1},8,["label"]),y(C)?(r(),ae(s,{key:0,label:y(D)("status"),align:"right"},{header:m(()=>[v("div",Ut,[v("div",Ct,[v("div",null,g(y(D)("status")),1),u(w,{trigger:"click",onCommand:ce},{dropdown:m(()=>[u(f,null,{default:m(()=>[u(o,{command:"all"},{default:m(()=>[j(g(y(D)("all")),1)]),_:1}),u(o,{class:le(["confirmed"===M.value.statusType&&"active-dropdown-item"]),command:"confirmed"},{default:m(()=>[j(g(y(D)("completed")),1)]),_:1},8,["class"]),u(o,{class:le(["cancelled"===M.value.statusType&&"active-dropdown-item"]),command:"cancelled"},{default:m(()=>[j(g(y(D)("cancelled1")),1)]),_:1},8,["class"]),u(o,{class:le(["error"===M.value.statusType&&"active-dropdown-item"]),command:"error"},{default:m(()=>[j(g(y(D)("failed")),1)]),_:1},8,["class"]),u(o,{class:le(["auto_cancelled"===M.value.statusType&&"active-dropdown-item"]),command:"auto_cancelled"},{default:m(()=>[j(g(y(D)("autoCancelled")),1)]),_:1},8,["class"])]),_:1})]),default:m(()=>[u(l,{name:"custom:filter",class:le([[M.value.statusType&&"color-#286DFF"],"color-[--third-text] cursor-pointer text-10px"])},null,8,["class"])]),_:1})])])]),default:m(({row:t})=>[v("div",It,["confirmed"===t.status?(r(),i("span",Rt,g(y(D)("completed")),1)):"error"===t.status?(r(),i("span",Mt,[j(g(y(D)("failed")),1),t?.errorLog?(r(),i(n,{key:0},[j("("+g(("formatBotError"in e?e.formatBotError:y(re))(t?.errorLog))+")",1)],64)):h("",!0)])):"cancelled"===t.status?(r(),i("span",zt,g(y(D)("cancelled1")),1)):"auto_cancelled"===t.status?(r(),i("span",Ht,g(y(D)("autoCancelled")),1)):(r(),i("span",Pt,g(y(D)("pending")),1))])]),_:1},8,["label"])):h("",!0),u(s,{label:y(D)("CreateTime"),align:"right"},{default:m(({row:e})=>[v("span",Vt,g(y(A)(e.createTime,"YYYY/MM/DD HH:mm")),1)]),_:1},8,["label"]),u(s,{label:y(D)("operate"),align:"right"},{default:m(({row:e})=>[v("div",Yt,[u(l,{name:"custom:browser",class:"text-16px ml-8px clickable color-[--third-text]",onClick:d(t=>function(e){e.txHash&&window.open(ue(e.chain,e.txHash,"tx"))}(e),["stop","prevent"])},null,8,["onClick"]),"confirmed"==e.status&&2===e.swapType&&"solana"===e.chain?(r(),ae(st,{key:0,statistics:e,address:y(C)?x.userAddress:e.userAddress,chain:e.chain},null,8,["statistics","address","chain"])):h("",!0)])]),_:1},8,["label"])]),_:1},8,["data","height"])),[[$,H.value&&!z.value?.length]])])}}}),[["__scopeId","data-v-ead8b60b"]]),Wt={ref:"mySwap"},qt={key:0,class:"px-12px mb-10px flex justify-between items-center"},Et={key:0,class:"flex items-center whitespace-nowrap w-[80%] overflow-x-auto scrollbar-hide"},Nt=["onClick"],Xt={key:1,class:"flex items-center"},Gt={class:"flex items-center"},Qt={class:"transaction-stats"},Jt={class:"stat-item"},Kt={class:"stat-label text-[--third-text]"},Zt={class:"stat-value table-field-text text-[--secondary-text]"},ea={class:"stat-change table-field-text text-[--secondary-text]"},ta={class:"stat-item"},aa={class:"stat-label text-[--third-text]"},sa={class:"stat-item"},la={class:"stat-label text-[--third-text]"},oa={class:"stat-item"},ia={class:"stat-label text-[--third-text]"},ra={class:"stat-item"},na={class:"stat-label text-[--third-text]"},ca={class:"stat-value table-field-text text-[--secondary-text]"},ua={class:"stat-change table-field-text text-[--secondary-text]"},da={class:"stat-item"},pa={class:"stat-label text-[--third-text]"},ma={class:"stat-value table-field-text text-[--secondary-text]"},va={class:"stat-change table-field-text text-[--secondary-text]"},xa=V(e({__name:"index",setup(e){const l=t(),o=Y(),{t:c}=X(),d=N(),p=O(),m=de(),x=s(),f=pe(p.params.id)?.chain,k=s(f||o.chain||"solana"),b=me("mySwapBotOrderOnlyCurrentToken",!0),T=s(),S=ve("mySwap");Ae(T);const A=a(()=>[...l.userInfo?.addresses||[]].sort((e,t)=>"solana"===e.chain?-1:"solana"===t.chain?1:"bsc"===e.chain?-1:"bsc"===t.chain?1:0)),$=a(()=>T.value?parseFloat(T.value.balance_usd||0):0),B=a(()=>T.value?parseFloat((100*T.value.balance_ratio).toString()||"0"):0),L=a(()=>T.value?parseFloat(T.value.total_profit||0):0),D=a(()=>T.value?parseFloat((100*T.value.total_profit_ratio).toString()||"0"):0),F=a(()=>T.value?T.value.symbol:d.tokenInfo?.token?.symbol),C=a(()=>T.value?parseFloat((T.value.realized_profit||0).toString()||"0"):0),I=a(()=>T.value&&"--"!==T.value.realized_ratio?parseFloat((100*T.value.realized_ratio).toString()||"0"):0),R=a(()=>T.value?parseFloat(T.value.unrealized_profit||0):0),M=a(()=>T.value?parseFloat((100*T.value.unrealized_ratio).toString()||"0"):0),z=a(()=>T.value&&T.value.total_purchase>0?_(T.value.bought,4):"0"),H=a(()=>{const e=T.value?parseFloat(T.value.average_purchase_price_usd||0):0;return e>0?`$${_(e,8)}`:"--"}),P=a(()=>T.value&&T.value.total_sold>0?_(T.value.sold||0,4):"0"),V=a(()=>{const e=T.value&&"--"!==T.value.average_sold_price_usd?parseFloat(T.value.average_sold_price_usd||0):0;return e>0?`$${_(e,8)}`:"--"}),W=ve("selectWallet"),q=a(()=>W.value?.evmAddress?l?.walletList?.find?.(e=>e.evmAddress===W.value?.evmAddress)?.addresses?.find?.(e=>e.chain===k.value)?.address||"":l?.userInfo?.evmAddress?A.value.find(e=>e?.chain===k.value)?.address:o.address||"");const E=e=>e.startsWith("-")?e.slice(1):e,J=async()=>{const e=o.address?o.chain:k.value;if(!ke.includes(e))return void(T.value=null);const t=String(p.params.id).split("-")[0];if(!q.value||!t)return;const a={user_address:q.value,chain:e,user_token:t},s=await be(a);T.value=s[0]};let K=null,ee=0;function te(){J(),x.value&&x.value.getTxHistory()}return G(()=>m.wsResult[xe.TGBOT],e=>{if(!e)return;const t=pe(String(p.params.id))?.chain;A.value.find(e=>e?.chain===t)&&(k.value=t),J(),x.value?.getTxHistory(),setTimeout(()=>{x.value?.getTxHistory()},3e3),K?ee=0:K=Be(()=>{if(ee>=15)return K&&(clearInterval(K),K=null),void(ee=0);J(),ee+=1},2e3)},{immediate:!0}),G([()=>p.params.id],()=>{const e=pe(String(p.params.id))?.chain;A.value.find(t=>t?.chain===e)&&(k.value=e),K&&(clearInterval(K),K=null),te()}),G(q,()=>{J()}),Z(()=>{const e=pe(String(p.params.id))?.chain;A.value.find(t=>t?.chain===e)&&(k.value=e),J()}),ye(()=>{te()}),(e,t)=>{const a=he;return r(),i("div",Wt,[y(l)?.userInfo?.evmAddress||y(o).address?(r(),i("div",qt,[y(l)?.userInfo?.evmAddress?(r(),i("div",Et,[(r(!0),i(n,null,fe(A.value,e=>(r(),i("a",{key:e.chain,href:"javascript:;",class:le("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n          "+(k.value===e.chain?"bg-[--border] color-[--main-text]":"color-[--third-text]")),onClick:t=>{return a=e.chain,k.value=a,void Q(()=>{J()});var a}},g(y(ge)(e.chain).name),11,Nt))),128))])):(r(),i("div",Xt,[...t[1]||(t[1]=[v("span",{class:"text-12px text-[--third-text] px-12px py-4px"},null,-1)])])),v("div",Gt,[u(a,{modelValue:y(b),"onUpdate:modelValue":t[0]||(t[0]=e=>U(b)?b.value=e:null),label:y(c)("currentToken"),size:"small",style:{"font-size":"12px",color:"var(--d-666-l-333)"}},null,8,["modelValue","label"])]),y(l).evmAddress?(r(),ae($e,{key:2,ref:"selectWallet",chain:k.value,boundary:y(S)},null,8,["chain","boundary"])):h("",!0)])):h("",!0),v("div",Qt,[v("div",Jt,[v("div",Kt,g(y(c)("balance1")),1),v("div",Zt,"$"+g(y(_)($.value,2)),1),v("div",ea,[j(g(y(_)(T.value?.balance_amount||0,4))+" "+g(F.value)+" ",1),v("span",{style:w({color:B.value>=0?"#12B886":"#ff646d"})}," ("+g(B.value>=0?"+":"")+g(y(_)(B.value,2))+"%) ",5)])]),v("div",ta,[v("div",aa,g(y(c)("totalProfit")),1),v("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:L.value>=0?"#12B886":"#ff646d"})},g(L.value>=0?"+":"-")+"$"+g(E(y(_)(L.value,2))),5),v("div",{class:"stat-change text-[--secondary-text]",style:w({color:D.value>=0?"#12B886":"#ff646d"})},g(D.value>=0?"+":"")+g(y(_)(D.value,2))+"% ",5)]),v("div",sa,[v("div",la,g(y(c)("realizedProfit")),1),v("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:C.value>=0?"#12B886":"#ff646d"})},g(C.value>=0?"+":"-")+"$"+g(E(y(_)(C.value,2))),5),v("div",{class:"stat-change text-[--secondary-text]",style:w({color:I.value>=0?"#12B886":"#ff646d"})},g(I.value>=0?"+":"")+g(y(_)(I.value,2))+"% ",5)]),v("div",oa,[v("div",ia,g(y(c)("unrealizedProfit")),1),v("div",{class:"stat-value table-field-text text-[--secondary-text]",style:w({color:R.value>=0?"#12B886":"#ff646d"})},g(R.value>=0?"+":"-")+"$"+g(E(y(_)(R.value,2))),5),v("div",{class:"stat-change text-[--secondary-text]",style:w({color:M.value>=0?"#12B886":"#ff646d"})},g(M.value>=0?"+":"")+g(y(_)(M.value,2))+"% ",5)]),v("div",ra,[v("div",na,g(y(c)("buyPriceWithSlash")),1),v("div",ca,g(z.value)+" "+g(F.value),1),v("div",ua,g(H.value),1)]),v("div",da,[v("div",pa,g(y(c)("sellPriceWithSlash")),1),v("div",ma,g(P.value)+" "+g(F.value),1),v("div",va,g(V.value),1)])]),y(l)?.userInfo?.evmAddress||y(o).address?(r(),ae(Ot,{key:1,ref_key:"unifiedRef",ref:x,chain:k.value,currentToken:y(b),userAddress:q.value||""},null,8,["chain","currentToken","userAddress"])):h("",!0)],512)}}}),[["__scopeId","data-v-db5ab655"]]);export{xa as default};
