import{_ as e,v as a,ah as t,y as l,r as o,g as s,m as r,h4 as i,n,c as d,o as c,a as u,i as p,h5 as m,aK as v,$ as h,f as b,ay as f,bQ as y,I as g,Q as x,R as _,cg as w,T as k,K as L,bI as S,s as N,w as F,t as $,b as C,C as A,G as T,a5 as B,U as E,F as j,D as I,B as V,a8 as P,cs as z,ad as O,af as R,a2 as D,bJ as M,ae as U,bL as H,ai as W,aj as q,q as G,d as K,J,bO as Q,P as Y,cP as Z,O as X,a0 as ee,bh as ae,a4 as te,iA as le,mx as oe,mw as se,mz as re,mv as ie,mu as ne,M as de,p as ce,am as ue,aI as pe,aJ as me,aM as ve,aN as he,aA as be,bM as fe,aV as ye,bp as ge,h as xe,e9 as _e,aE as we,d1 as ke}from"#entry";import{g as Le,a as Se,b as Ne,c as Fe,_ as $e,L as Ce,s as Ae,d as Te,e as Be,f as Ee,h as je,i as Ie,j as Ve}from"./P5SXn6vw.js";import{i as Pe}from"./DEsNIRU_.js";import{v as ze}from"./BuTxD5e6.js";import{a as Oe,E as Re}from"./DZrW0QoB.js";import{a as De,E as Me}from"./CXu7cHRZ.js";import{_ as Ue}from"./DJQ0f6YX.js";import"./Div4Sb7D.js";import"./1bXUUYzG.js";import"./DWsaYBFQ.js";import"./EyvYgUJ0.js";import"./CZIhrSUn.js";import"./DhoqPgLY.js";import"./DYraDxUd.js";import"./DMZvEsQv.js";import"./BbcemesW.js";import"./htzw4K3n.js";import"./Dj5W2tf4.js";import"./4ZxzSbBH.js";import"./Ci0kdpII.js";import"./md0wCl8Q.js";import"./vIWCTboT.js";import"./C7V9UFRI.js";import"./NZiWsxCB.js";import"./BUyr3k23.js";import"./D1RQ0Ig2.js";import"./U3Xc_iuw.js";import"./DC37kyC8.js";import"./DkMFijTu.js";const He={class:"chart-container"},We=["id"],qe=e({__name:"lineS",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:h}=a(),b=e,{mode:f,lang:y}=t(l()),g=o(`chart-${ze()}`),x=s(()=>[{k:1,color:"#3F80F7",label:h("add"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===f.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}]),_=s(()=>b.dataList.map(e=>e.time)),w=s(()=>x.value.map(e=>({name:e.label,type:"line",z:1,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map(a=>a[e.value])}))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=m(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const a={legend:{show:!1,bottom:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F5F5F5":"#17191C",textStyle:{fontSize:10,color:"#959A9F",fontFamily:"Poppins"},borderWidth:0,formatter:function(e){let a=e[0].name+"<br>";return e.forEach(e=>{a+=`${e.marker} ${e.seriesName}: <span style="color:${"light"===f.value?"#17191C":"#F5F5F5"}">${v(e.value||0,2)}</span><br>`}),a},appendToBody:!0},grid:{left:"0",right:"0",top:"0",bottom:"0",tooltip:{show:!1,axisPointer:{type:"cross"}}},xAxis:{type:"category",data:_.value,boundaryGap:!1,splitLine:{show:!1},show:!1,axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins"},nameTextStyle:{fontSize:12},axisLine:{lineStyle:{color:"#1c1c1c"}}},yAxis:{type:"value",position:"right",name:"",show:!1,nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:"{value}"},splitLine:{show:!1},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(a),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,a)=>{const t=i(document.getElementById(g.value));t&&t.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[a].label})};return r(()=>b.loading,e=>{const a=i(document.getElementById(g.value));a&&(e?(a.hideLoading(),a.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):a.hideLoading())}),r(()=>b.dataList,()=>{k()}),r(()=>b.showSeries[0],e=>{L(e,0)}),r(()=>b.showSeries[1],e=>{L(e,1)}),r(()=>b.showSeries[2],e=>{L(e,2)}),r(()=>b.showSeries[3],e=>{L(e,3)}),r([f,y],()=>{k()}),r(()=>b.showLeft,e=>{setTimeout(()=>{const e=i(document.getElementById(g.value));e&&e.resize()},100)}),n(()=>{k()}),(e,a)=>(c(),d("div",He,[u("div",{id:p(g),style:{height:"100%",width:"100%"}},null,8,We)]))}},[["__scopeId","data-v-cbca0302"]]);function Ge(e,a="value"){const t=e.length;for(let l=0;l<t;l++)if(-1===e[l][a]){let o=l-1;for(;o>=0&&-1===e[o][a];)o--;if(o>=0)e[l][a]=e[o][a];else{let o=l+1;for(;o<t&&-1===e[o][a];)o++;o<t&&(e[l][a]=e[o][a])}}return e}const Ke={class:"chart-container"},Je=["id"],Qe=e({__name:"line",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},loading:Boolean,showLeft:Boolean},setup(e){const{t:v}=a(),b=e,{mode:f,lang:y}=t(l()),g=o(`chart-${ze()}`),x=s(()=>[{k:1,color:"#286DFF",label:v("addressCount"),value:"value1",areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgb(40, 109, 255, 0.9)"},{offset:1,color:"light"===f.value?"#fff":"rgb(23, 25, 28)"}],globalCoord:!1}}}]),_=s(()=>b.dataList.map(e=>e.time)),w=s(()=>x.value.map(e=>({name:e.label,type:"line",z:1,smooth:!0,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map(a=>a[e.value])}))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=m(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const a={title:{textStyle:{color:"light"===f.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:v("holdersChange")},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===f.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let a=e[0].name+"<br>";return e.forEach(e=>{a+=`<div style="display:flex;align-items:center;width:100%; gap:8px"><div>${e.marker} ${e.seriesName}</div><span style="color:${"light"===f.value?"#333":"#F5F5F5"}">${e.value}</span><br></div>`}),a},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[a,t]=e.split(" ");return`${t}\n${a}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,4)}},splitLine:{lineStyle:{type:"dashed",color:"light"===f.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(a),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,a)=>{const t=i(document.getElementById(g.value));t&&t.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[a].label})};return r(()=>b.loading,e=>{const a=i(document.getElementById(g.value));a&&(e?(a.hideLoading(),a.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):a.hideLoading())}),r(()=>b.dataList,()=>{k()}),r(()=>b.showSeries[0],e=>{L(e,0)}),r(()=>b.showSeries[1],e=>{L(e,1)}),r(()=>b.showSeries[2],e=>{L(e,2)}),r(()=>b.showSeries[3],e=>{L(e,3)}),r([f,y],()=>{k()}),r(()=>b.showLeft,e=>{setTimeout(()=>{const e=i(document.getElementById(g.value));e&&e.resize()},100)}),n(()=>{k()}),(e,a)=>(c(),d("div",Ke,[u("div",{id:p(g),class:"w-440px h-210px"},null,8,Je)]))}},[["__scopeId","data-v-6d60bfd7"]]),Ye={class:"chart-container"},Ze=["id"],Xe=e({__name:"line2",props:{dataList:{type:Array,default:()=>[]},showSeries:{type:Array,default:()=>[]},activeTime:{type:String,default:"1m"},loading:Boolean,showLeft:Boolean},setup(e){const{t:v}=a(),b=e,{mode:f,lang:y}=t(l()),g=o(`chart-${ze()}`),x=s(()=>[{k:1,color:"#3F80F7",label:"TOP 10",value:"value1"},{k:2,color:"#12B886",label:"TOP 50",value:"value2"},{k:3,color:"#8D47E7",label:"TOP 100",value:"value3"}]),_=s(()=>b.dataList.map(e=>e.time)),w=s(()=>x.value.map(e=>({name:e.label,type:"line",smooth:!0,z:1,symbolSize:1,itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},areaStyle:e.areaStyle,data:b.dataList.map(a=>({value:a.holders_count*a[e.value],ratio:a[e.value]}))}))),k=()=>{if(!document.getElementById(g.value))return;let e=i(document.getElementById(g.value));e||(e=m(document.getElementById(g.value),null,{renderer:"svg"})),e.hideLoading(),e.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""});const a={legend:{show:!0,right:0,itemWidth:10,itemHeight:10,icon:"circle",textStyle:{color:"#787B86",fontSize:12}},title:{textStyle:{color:"light"===f.value?"#333":"#F5F5F5",fontSize:16,fontFamily:"Poppins",fontWeight:400},text:v("holdersChange2",{n:b.activeTime})},tooltip:{trigger:"axis",backgroundColor:"light"===f.value?"#F2F2F2":"#333",textStyle:{fontSize:12,color:"light"===f.value?"#666":"#999",fontFamily:"Poppins"},padding:[6,8],axisPointer:{label:{show:!1}},borderWidth:0,formatter:function(e){let a=`${e[0].name}<br>`;return e.reverse().forEach(e=>{a+=`<div style="display:flex;align-items:center;"><div style="width:75px">${e.marker} ${e.seriesName}</div><div style="color:${"light"===f.value?"#333":"#F5F5F5"};flex:1;text-align:right">${h(e.data.value||0,2)}(${h(Math.abs(100*Number(e.data.ratio)),2)}%)</div><br></div>`}),a},appendToBody:!0},grid:{left:"20",right:"20",top:"40",bottom:"20",containLabel:!0,tooltip:{axisPointer:{type:"line"}}},xAxis:{type:"category",data:_.value,boundaryGap:["0","20"],splitLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){const[a,t]=e.split(" ");return`${t}\n${a}`}},nameTextStyle:{fontSize:12},axisLine:{show:!1}},yAxis:{type:"value",position:"right",name:"",nameTextStyle:{fontSize:12},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===f.value?"#999":"#666",fontFamily:"Poppins",formatter:function(e){return h(e,2)}},splitLine:{lineStyle:{type:"dashed",color:"light"===f.value?"#F5F5F5":"#333"},show:!0},min:e=>parseInt(1*e.min),max:e=>Math.ceil(e.max)},series:w.value};e.setOption(a),b.dataList&&b.dataList.length>0&&e.hideLoading()},L=(e,a)=>{const t=i(document.getElementById(g.value));t&&t.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:x.value[a].label})};return r(()=>b.loading,e=>{const a=i(document.getElementById(g.value));a&&(e?(a.hideLoading(),a.showLoading({maskColor:"rgba(255, 255, 255, 0)",text:""})):a.hideLoading())}),r(()=>b.dataList,()=>{k()}),r(()=>b.showSeries[0],e=>{L(e,0)}),r(()=>b.showSeries[1],e=>{L(e,1)}),r(()=>b.showSeries[2],e=>{L(e,2)}),r(()=>b.showSeries[3],e=>{L(e,3)}),r([f,y],()=>{k()}),r(()=>b.showLeft,e=>{setTimeout(()=>{const e=i(document.getElementById(g.value));e&&e.resize()},100)}),n(()=>{k()}),(e,a)=>(c(),d("div",Ye,[u("div",{id:p(g),class:"w-440px h-210px"},null,8,Ze)]))}},[["__scopeId","data-v-7de6821e"]]),ea={class:"h-70px flex items-center px-20px font-500 text-20px lh-30px tracking-0% color-[--main-text] border-b-1px border-b-solid border-b-[--border]"},aa={class:"justify-between flex items-center h-80px px-20px"},ta={class:"flex items-center"},la={class:"flex flex-col justify-between ml-8px h-40px"},oa={class:"flex items-center gap-8px h-20px"},sa={class:"font-500 text-16px lh-20px tracking-0px color-[--main-text]"},ra={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},ia={class:"flex items-center gap-4px h-14px justify-start"},na={class:"font-500 text-10px lh-20px tracking-0px color-[--third-text]"},da={class:"font-400 text-12px lh-14px tracking-0px color-[--main-text]"},ca={class:"flex items-center border-solid border-0.5px color-#999 border-[--border] rounded-4px h-28px"},ua=["onClick"],pa={class:"px-20px py-20px"},ma=b({__name:"rightPop",props:{modelValue:{type:Boolean,default:!1},holdersNum:{type:Number,default:0},activeTime:{type:String,default:"1m"}},emits:["update:modelValue"],setup(e,{emit:l}){const o=l,i=M(H.TOP_FAV_CHANGE),n=f(),{collected:m}=t(y()),{t:v}=a(),b=e,W=g(!1),q=s(()=>[{name:"1m",id:"1m"},{name:"5m",id:"5m"},{name:"1h",id:"1h"},{name:"4h",id:"4h"}]),G=g(b.activeTime),K=g(!1),J=g([]),Q=g(!1),Y=g([]),{token:Z}=t(y()),{evmAddress:X}=t(x()),ee=_(),ae=s(()=>{const e=n.params.id;return e?w(e):{address:Z.value?.token||"",chain:Z.value?.chain||""}});r(()=>b.activeTime,e=>{G.value=e});const te=s({get:()=>b.modelValue,set(e){o("update:modelValue",e)}}),le=s(()=>X.value||ee.address);const oe=()=>{K.value=!0,Le(ae.value.address,ae.value.chain,G.value).then(e=>{const a=e||[];a.length?(Ge(a,"holders_count"),J.value=a.map(e=>({...e,value1:e.holders_count,time:P(new Date(1e3*Number(e?.time)).getTime(),"MM-DD HH:mm")}))):J.value=[]}).finally(()=>{K.value=!1}).catch(e=>{J.value=[]}),Q.value=!0,Se(ae.value.address,ae.value.chain,G.value).then(e=>{const a=e||[];a.length?(Ge(a,"holders_count"),Ge(a,"top100_ratio"),Ge(a,"top50_ratio"),Ge(a,"top10_ratio"),Y.value=a.map(e=>({...e,value3:e.top100_ratio,value2:e.top50_ratio,value1:e.top10_ratio,time:P(new Date(1e3*Number(e?.time)).getTime(),"MM-DD HH:mm")}))):Y.value=[]}).finally(()=>{Q.value=!1}).catch(e=>{Y.value=[]})};function se(){z(ae.value?.address+"-"+ae.value?.chain,le.value).then(e=>{m.value=!!e?.address}).catch(e=>{}).finally(()=>{})}async function re(){le.value?(ee.address&&await ee.signMessageForFavorite(),m.value?U(ae.value?.address+"-"+ae.value?.chain,le.value).then(()=>{D.success(v("cancelled1")),m.value=!1,i.emit()}).catch(e=>{}).finally(()=>{}):R(ae.value?.address+"-"+ae.value?.chain,le.value).then(()=>{D.success(v("collected")),m.value=!0,i.emit()}).catch(e=>{}).finally(()=>{})):O()}return r(()=>te.value,e=>{e&&(se(),oe())}),r(()=>ae.value.address,e=>{se(),oe()},{immediate:!0}),(a,t)=>{const l=A,o=B,s=S,r=k("copy");return c(),L(s,{modelValue:p(te),"onUpdate:modelValue":t[0]||(t[0]=e=>N(te)?te.value=e:null),class:"bg-[--dialog-bg]! rounded-tl-10px rounded-bl-10px border-none",size:480,"append-to-body":"","with-header":!1},{default:F(()=>[u("div",ea,$(a.$t("holdersAnalysis")),1),u("div",aa,[u("div",ta,[C(l,{name:"material-symbols:kid-star",class:T(["color-[--third-text] h-16px w-16px clickable mr-12px",p(m)?"color-#ffbb19":""]),onClick:re},null,8,["class"]),C(o,{tokenClass:"w-40px h-40px",chainClass:"w-20px h-20px bottom--2px! right--2px!",row:{logo_url:p(Z)?.logo_url||"",chain:p(ae)?.chain||""}},null,8,["row"]),u("div",la,[u("div",oa,[u("span",sa,$(p(Z)?.symbol),1),u("span",ra,$(p(ae)?.address?.replace(new RegExp("(.{4})(.+)(.{4}$)"),"$1...$3")),1),E(C(l,{name:"bxs:copy",class:"cursor-pointer text-10px color-[--third-text]"},null,512),[[r,p(ae)?.address]])]),u("div",ia,[u("span",na,$(a.$t("holdersNumTotal")),1),u("span",da,$(("formatNumber"in a?a.formatNumber:p(h))(e.holdersNum,4)),1)])])]),u("div",ca,[(c(!0),d(j,null,I(p(q),(e,a)=>(c(),d("span",{key:a,class:T("px-14px py-4px text-12px hover:opacity-80 cursor-pointer "+(e.id===p(G)?"color-[--main-text] bg-[--border]":"")),onClick:a=>function(e){G.value=e,oe()}(e.id)},$(e.name),11,ua))),128))])]),u("div",pa,[p(J).length>0||p(K)?(c(),L(Qe,{key:0,class:"w-440px h-210px relative mb-40px!",dataList:p(J),loading:p(K),showSeries:[!1],showLeft:!1},null,8,["dataList","loading"])):V("",!0),p(Y).length>0?(c(),L(Xe,{key:1,class:"w-440px h-210px relative",dataList:p(Y),activeTime:p(G),loading:p(Q),showSeries:[!0,!0,!0],showLeft:p(W)},null,8,["dataList","activeTime","loading","showLeft"])):V("",!0)])]),_:1},8,["modelValue"])}}}),va={key:0,class:"flex gap-24px"},ha={class:"clickable"},ba={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},fa={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},ya={class:"clickable"},ga={class:"font-400 text-12px lh-16px tracking-0px color-[--third-text] mb-4px flex items-center"},xa={class:"w-38px"},_a={class:"font-500 text-14px lh-16px tracking-0px color-[--main-text]"},wa={key:1},ka=b({__name:"lineContent",setup(e){const{t:l}=a(),o=f(),{token:i}=t(y());let m;const v=g(!1),b=g(0),x=g(0),_=g(!0),k=g(!1),S=g(!1),F=g([]),B=g(!1),E=g(!1),j=g([]),I=g(0),P=g(["100","10"]),z=g(!1),O=s(()=>P.value[I.value%2]),R=s(()=>{const e=o.params.id;return e?w(e):{address:i.value?.token||"",chain:i.value?.chain||""}}),D=g(!1);function M(){["solana"]?.includes(R.value?.chain)&&(S.value=!0,Fe(R.value.address,R.value.chain).then(e=>{const a=e?.token_count_data||[];a.length?(Ge(a,"holders_count"),b.value=-1===a[a.length-1]?.holders_count?0:a[a.length-1]?.holders_count,_.value=(new Date).getTime()-1e3*e.create_time<432e5,F.value=a.map(e=>({...e,value1:e.holders_count}))):(b.value=0,_.value=!1,F.value=[])}).finally(()=>{S.value=!1}).catch(e=>{b.value=0,_.value=!1,F.value=[]}),_.value||m&&clearTimeout(m),m=setTimeout(()=>{_.value&&M()},2e4))}function U(){["solana"]?.includes(R.value?.chain)&&(E.value=!0,Ne(R.value.address,R.value.chain,O.value).then(e=>{const a=e?.token_holder_ratio||[];a.length?(Ge(a,"top_n_ratio"),x.value=-1===a[a.length-1]?.top_n_ratio?0:a[a.length-1]?.top_n_ratio,j.value=a.map(e=>({...e,value1:Number(e.top_n_ratio)*10**8}))):(x.value=0,j.value=[])}).finally(()=>{E.value=!1}).catch(e=>{E.value=!1,x.value=0,j.value=[]}))}function H(){D.value||(m&&clearTimeout(m),M(),U(),D.value=!0)}return W(()=>{H()}),q(()=>{m&&clearTimeout(m),D.value=!1}),G(()=>{m&&clearTimeout(m),D.value=!1}),r(()=>R.value.address,e=>{D.value=!1,H()},{immediate:!1}),r(()=>O.value,e=>{U()}),r(()=>z.value,e=>{}),n(()=>{H()}),(e,a)=>{const t=A;return["solana"]?.includes(p(R).chain)?(c(),d("div",{key:0,class:T(["w-lineLight h-52px w-100% px-10px border-b-1px border-b-solid border-b-[--main-divider] mb-12px",p(z)&&"h-0px! border-b-0px p-0px!"])},[p(z)?V("",!0):(c(),d("ul",va,[u("li",{class:"flex gap-8px",onClick:a[0]||(a[0]=J(e=>v.value=!0,["stop"]))},[u("div",ha,[u("div",ba,[K($(p(l)("holdersNum"))+$(p(_)?"(1m)":"(1h)")+" ",1),C(t,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),u("div",fa,$(("formatNumber"in e?e.formatNumber:p(h))(p(b),4)),1)]),C(qe,{class:"w-120px h-40px",dataList:p(F),loading:p(S),showSeries:[!1,!1],showLeft:p(k)},null,8,["dataList","loading","showLeft"])]),u("li",{class:"flex gap-8px",onClick:a[2]||(a[2]=J(e=>v.value=!0,["stop"]))},[u("div",ya,[u("div",ga,[u("span",xa," Top"+$(p(O)),1),C(t,{name:"custom:exchange-horizontal",class:"ml-4px color-[--third-text] text-10px clickable",onClick:a[1]||(a[1]=J(e=>I.value++,["stop"]))}),C(t,{name:"material-symbols:chevron-right-rounded",class:"ml-4px text-14px"})]),u("div",_a,$(`${("formatNumber"in e?e.formatNumber:p(h))(Math.abs(100*Number(p(x))),2)}%`),1)]),C(qe,{class:"w-120px h-40px",dataList:p(j),loading:p(E),showSeries:[!1,!1],showLeft:p(B)},null,8,["dataList","loading","showLeft"])])])),u("div",{class:T(["bg-[--main-list-hover] w-20px h-12px flex items-center justify-center mx-auto cursor-pointer transition-all duration-0.4s",p(z)&&"rotate-z-180 origin-center"]),onClick:a[3]||(a[3]=e=>z.value=!p(z))},[C(t,{name:"material-symbols:keyboard-arrow-up",class:"color-[--main-text]"})],2),p(v)?(c(),L(ma,{key:1,modelValue:p(v),"onUpdate:modelValue":a[4]||(a[4]=e=>N(v)?v.value=e:null),holdersNum:Number(p(b)),activeTime:p(_)?"1m":"1h"},null,8,["modelValue","holdersNum","activeTime"])):V("",!0)],2)):(c(),d("div",wa))}}}),La={class:"holderInfo"},Sa={class:"px-12px mb-10px flex justify-between"},Na={class:"flex items-center whitespace-nowrap overflow-x-auto scrollbar-hide tab-width w-100%"},Fa=["onClick"],$a={class:"section-4"},Ca={class:"line-bar"},Aa={class:"flex items-center justify-center"},Ta={key:0},Ba={key:1},Ea=e(b({__name:"index",setup(e){const i=Q("holderListSortObj",{all:{sort_by:"",order:""},buy:{sort_by:"bought_usd",order:"desc"},sell:{sort_by:"sold_usd",order:"desc"},buy24h:{sort_by:"",order:""},sell24h:{sort_by:"",order:""}}),{price:m,totalHolders:v}=t(y()),{token:b}=t(y()),L=f(),S=x(),N=_(),{t:F}=a(),B=g("all"),V=l(),P=g(""),z=g(!1),O=o({}),R=o({}),D=o({}),M=s(()=>S.evmAddress||N.address),U=g(""),H=g(""),q=Y("holdersRef"),G=s(()=>{const e=[];Array.isArray(v.value)&&v.value.forEach(a=>{const t=a.total_address||0;t>0&&e.push({...a,label:a?.[Z(X().locale)]+`(${t})`,value:a.type})});const a=V.headFollowsNum.all-V.headFollowsNum.soldAll;return[{label:F("all"),value:"all"},{label:F("followed")+`(${Number.isNaN(a)?"0":a})`,value:"-100"},{label:F("24hBuyers"),value:"buy24h"},{label:F("24hSellers"),value:"sell24h"},...e]}),J=s(()=>L.params.id),le=s(()=>{const e=P.value?R?.value?.[B.value]||[]:O?.value?.[B.value]||[];return U.value?"sol"==H.value?e?.filter(e=>e.sol_first_transfer_in_from==U.value)||[]:e?.filter(e=>e.token_first_transfer_in_from==U.value)||[]:e||[]}),oe=s(()=>D?.value?.[B.value]||{}),se=s(()=>le.value?.reduce((e,a)=>{const t=Math.max((a?.bought||0)-(a?.sold||0),0);return new ee((m.value||0)-(a?.avg_purchase_price||0)).times(t).plus(e)},new ee("0"))?.toFixed(0)),re=s(()=>{const e=L.params.id;return e?w(e):{address:b.value?.token||"",chain:b.value?.chain||""}});function ie(){O.value[-100]=[],D.value[-100]={}}function ne(e){let a="";["all","buy","sell","buy24h","sell24h"].some(e=>B.value===e)||(a=B.value);const t={sort_by:e?.sort_by,order:e?.order};t.sort_by||("buy"===B.value?(t.order="asc",t.sort_by="total_profit"):"sell"===B.value?(t.order="desc",t.sort_by="total_profit"):"buy24h"===B.value?(t.order="desc",t.sort_by="bought_usd"):"sell24h"===B.value&&(t.order="desc",t.sort_by="sold_usd"));const l={token_id:J.value,tag_type:a,self_address:M.value,...t,recent:"buy24h"===B.value||"sell24h"===B.value?1:void 0};i.value[B.value]=t,P.value||(z.value=!0,$e(l).then(e=>{O.value[B.value]=e?.holderStats||[],D.value[B.value]=e?.aggregateStats||{}}).catch(()=>{O.value[B.value]=[]}).finally(()=>{z.value=!1}))}function de(e){ne({sort_by:e.prop,order:e.order?.replace("ending","")})}function ce(e){U.value?(U.value="",H.value=""):(U.value=e.address||"",H.value=e.type||"")}function ue(e){if(P.value=e||"",!P.value)return void ne();let a;["all","buy","sell","buy24h","sell24h"].some(e=>B.value===e)||(a=B.value);const t={token_id:J.value,self_address:M.value,keyword:P.value,tag_type:a};z.value=!0,Ae(t).then(e=>{R.value[B.value]=Array.isArray(e)?e:[]}).catch(()=>{R.value[B.value]=[]}).finally(()=>{z.value=!1})}return s(()=>re.value?.chain),r(()=>J.value,e=>{e&&ne()},{}),r(B,e=>{if("buy"===e||"sell"===e){const a="buy"===e?"ascending":"descending";q?.value?.sort("total_profit",a)}else if("buy24h"===e||"sell24h"===e){const a="buy24h"===e?"bought_usd":"sold_usd";q?.value?.sort(a,"descending")}else if("-100"!==e||M.value){const a=i?.value[e]||{};a.sort_by&&a.order?q?.value?.sort(a.sort_by,a.order+"ending"):(q?.value?.clearSort(),ne())}else ie()}),n(()=>{ne()}),W(()=>{"-100"!==B.value||M.value?ne():ie()}),(e,a)=>{const t=A,l=k("tooltip");return c(),d("div",La,[C(ka),u("div",Sa,[u("div",Na,[(c(!0),d(j,null,I(p(G),e=>(c(),d("a",{key:e.value,href:"javascript:;",class:T("decoration-none shrink-0 text-12px lh-16px text-center px-12px py-4px rounded-4px\n         "+(p(B)===e.value?"bg-[--tab-active-bg] color-[--main-text]":"color-[--third-text]")),onClick:a=>{return t=e.value,void(B.value=t);var t}},$(e.label),11,Fa))),128))])]),E(u("ul",$a,[u("li",null,[u("div",null,$(e.$t("balance1")),1),u("div",{class:T(Number(p(oe)?.balance||0)?"":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:p(h))((p(oe)?.balance||0)*(p(m)||0),2)),3)]),u("li",null,[u("div",null,$(e.$t("amount"))+"/"+$(e.$t("largestPosition")),1),u("div",null,[u("span",{class:T(Number(p(oe)?.balance||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.balance||0,2)),3),a[0]||(a[0]=u("span",{class:"color-text-2"},"/",-1)),u("span",{class:T(Number(p(oe)?.largestPosition||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.largestPosition||0,2)),3)]),u("div",Ca,[u("span",{style:te({width:100*(p(oe)?.balance||0)/(p(oe)?.largestPosition||1)+"%"})},null,4)])]),u("li",null,[u("div",null,$(e.$t("buy"))+"/"+$(e.$t("sell")),1),u("div",null,[u("span",{class:T(Number(p(oe)?.buy||0)?"color-#12B886":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.buy||0,2)),3),a[1]||(a[1]=u("span",{class:"color-text-2"},"/",-1)),u("span",{class:T(Number(p(oe)?.sell||0)?"color-#F6465D":"color-text-2")}," $"+$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.sell||0,2)),3)])]),u("li",null,[u("div",Aa,[K($(e.$t("soldAll"))+"/"+$(e.$t("all")),1),E(C(t,{name:"material-symbols:help-outline",class:"ml-4px"},null,512),[[l,e.$t("soldAllTips")]])]),"-100"==p(B)?(c(),d("div",Ta,[u("span",{class:T(Number(p(V).headFollowsNum.soldAll||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(V).headFollowsNum.soldAll||0,2)),3),a[2]||(a[2]=u("span",{class:"color-text-2"},"/",-1)),u("span",{class:T(Number(p(V).headFollowsNum?.all||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(V).headFollowsNum?.all||0,2)),3)])):(c(),d("div",Ba,[u("span",{class:T(Number(p(oe)?.soldAll||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.soldAll||0,2)),3),a[3]||(a[3]=u("span",{class:"color-text-2"},"/",-1)),u("span",{class:T(Number(p(oe)?.all||0)?"":"color-text-2")},$(("formatNumber"in e?e.formatNumber:p(h))(p(oe)?.all||0,2)),3)]))]),u("li",null,[u("div",null,$(e.$t("totalPnL")),1),u("div",{class:T(Number(p(se)||0)?Number(p(se)||0)>0?"color-#12B886":"color-#F6465D":"color-text-2")},$(Number(p(se)||0)?Number(p(se)||0)>0?"+":"-":"")+"$"+$(("formatNumber"in e?e.formatNumber:p(h))(p(se)||0,2)?.replace("-","")),3)])],512),[[ae,!["all"]?.includes?.(p(B))]]),C(Ce,{ref_key:"holdersRef",ref:q,tableList:p(le),loading:p(z),tabActive:p(B),searchOriginKeyword:p(U),searchOriginType:p(H),onHandleSortChange:de,onFilterAddress:ue,onFilterOriginAddress:ce},null,8,["tableList","loading","tabActive","searchOriginKeyword","searchOriginType"])])}}}),[["__scopeId","data-v-793e2042"]]),ja={top100_amount:{color:"#FB6300",areaStyleColor:"#5b3f52",data:"top100_amount"},16:{color:"#D741E3",areaStyleColor:"#ac3eec33",data:"insider_balance_ratio"},19:{color:"#3F80F7",areaStyleColor:"#3F80F733",data:"sniper_balance_ratio"},25:{color:"#41CEE3",areaStyleColor:"#749f8333",data:"dev_balance_ratio"},30:{color:"#C23531",areaStyleColor:"#c2353133",data:"smartmoney_balance_ratio"},31:{color:"#5E5CE6",areaStyleColor:"#5e5ce61a",data:"kol_balance_ratio"}};function Ia(e){return ja[e]||""}const Va={class:"chart-container"},Pa="chart_holder",za=e(b({__name:"lineChart",props:{dataList:{},showSeries:{},loading:{type:Boolean},chartHeight:{}},setup(e){le([Pe,oe,se,re,ie,ne]);const o=e;let i=null;const p=f(),{t:v}=a(),{token:b}=t(y()),{globalConfig:g}=t(de()),{mode:x}=t(l()),_=l(),k=s(()=>X().locale),L=s(()=>{let e=[];const{chain:a}=w(p.params.id)||b?.value?.chain||"",t=g.value?.chains_support_data_analysis_insider_sniper_V3,l=t?.[a]||[];return l&&(e=l.map((e,a)=>({k:a,color:Ia(e.type)?.color||"",label:e?.[Z(k.value)]||"",value:Ia(e.type)?.data||"",color1:Ia(e.type)?.areaStyleColor||""}))),[{k:4,color:"#FFCC00",label:v("topN",{n:10})+v("ratio"),value:"top10_amount",color1:"#38497d"},{k:2,color:"#FB6300",label:v("topN",{n:100})+v("ratio"),value:"top100_amount",color1:"#5b3f52"},...e]}),S=s(()=>o.dataList.map(e=>e.date)),N=s(()=>L.value.map((e,a)=>({name:e.label,type:"line",z:10-a,smooth:!0,symbol:"none",itemStyle:{color:e.color},lineStyle:{width:2},emphasis:{disabled:!0,focus:"series"},tooltip:{valueFormatter:e=>`${h(e||0,2)}%`,textStyle:{fontSize:10,color:"#333"}},data:o.dataList.map(a=>["insider_balance_ratio","sniper_balance_ratio","dev_balance_ratio","smartmoney_balance_ratio","kol_balance_ratio"].includes(e.value)?e.value&&100*a?.[e.value]||0:a.total_amount?100*a[e.value]/a.total_amount:0)})));function F(){const e=document.getElementById(Pa);e&&(i||(i=m(e)),i?.setOption({legend:{show:!1},tooltip:{trigger:"axis",backgroundColor:"var(--dialog-bg)",textStyle:{fontSize:10,color:"var(--secondary-text)",fontFamily:"Outfit-Medium"},borderWidth:0},grid:{left:"0",right:"25px",top:"3%",bottom:"0",containLabel:!0},xAxis:{type:"category",data:S.value,boundaryGap:!1,splitLine:{show:!1},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium"}},yAxis:{type:"value",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{color:"light"===x.value?"#8ca0c3":"#566275",fontFamily:"Outfit-Medium",formatter:"{value}%"},splitLine:{show:!1},min:0,max:e=>Math.ceil(e.max)},series:N.value}),o.dataList.length>0&&i?.hideLoading())}return n(()=>{ce(()=>{F()})}),r(()=>_.showLeft,async()=>{await ce(),i?.resize()}),r(()=>o.dataList,()=>F()),r(()=>o.loading,e=>{i&&(e?i.showLoading({maskColor:"rgba(255,255,255,0)",text:""}):i.hideLoading())}),o.showSeries.forEach((e,a)=>{r(()=>o.showSeries[a],e=>{!function(e,a){const t=L.value[a]?.label;i&&t&&i.dispatchAction({type:e?"legendSelect":"legendUnSelect",name:t})}(e,a)})}),r(()=>x,()=>F()),(a,t)=>{const l=ue;return E((c(),d("div",Va,[u("div",{id:Pa,style:te({height:e.chartHeight||"162px",width:"100%"})},null,4)])),[[l,e.loading]])}}}),[["__scopeId","data-v-129a0e6c"]]),Oa={class:"home-content"},Ra={class:"tableBox card relative"},Da={key:0,class:"flex flex-col items-center justify-center py-30px"},Ma={key:0,src:ve},Ua={key:1,src:he},Ha={key:1},Wa={key:0},qa={key:1,style:{color:"#f6465d"}},Ga={class:"flex-end gap-3px"},Ka=["onClick"],Ja=e(b({__name:"insidersHold",props:{tableList:{},loading:{type:Boolean},type:{}},setup(e){const i=y(),n=e,m=f(),{t:v}=a(),{mode:b}=t(l()),g=l(),k=o([]),S=o(0),B=o(!1),j=o(),I=o(),P=o({buttonRefs:{}}),z=s(()=>n.loading),O=s(()=>w(m.params.id)?.chain),R=s(()=>Math.max(i.commonHeight-400,450)),M=o({page:1,page_size:300,sort:"",direction:""});r(()=>n.tableList,e=>{k.value=e},{immediate:!0});function U({prop:e,order:a}){const t=[...n.tableList];e&&(k.value="ascending"===a?t.sort((a,t)=>a[e]-t[e]):"descending"===a?t.sort((a,t)=>t[e]-a[e]):t)}function H(e){}return(a,t)=>{const l=Me,o=A,s=De,r=ue;return c(),d("section",Oa,[u("div",Ra,[E((c(),L(s,{key:p(S),ref_key:"tableRef",ref:I,data:p(k),fit:"",height:p(R),style:{width:"100%","font-size":"12px"},class:"table-container","cell-class-name":"color-[--secondary-text] text-12px","default-sort":{prop:p(M).sort,order:p(M).direction?p(M).direction+"ending":void 0},onRowClick:H,onSortChange:U},{empty:F(()=>[e.loading?(c(),d("span",Ha)):(c(),d("div",Da,["light"===p(b)?(c(),d("img",Ma)):V("",!0),"dark"===p(b)?(c(),d("img",Ua)):V("",!0),u("span",null,$(p(v)("emptyNoData")),1)]))]),default:F(()=>[C(l,{type:"index",label:"#",width:"40"}),C(l,{label:p(v)("insidersOwned"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"total_value","min-width":"100",align:"right"},{default:F(({row:a})=>[a?.balance_ratio>0&&a?.balance>0||"snipers"!==e.type?(c(),d("span",Wa,$(p(h)(a.total_value||0,2))+" ("+$(p(h)(100*a.balance_ratio||0,2))+"%) ",1)):(c(),d("span",qa,$(p(v)("clearance")),1))]),_:1},8,["label"]),C(l,{label:p(v)("buy")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_purchase",align:"right"},{default:F(({row:e})=>[u("span",{style:te({color:p(pe)[0]})},$(p(h)(e.cumulative_purchase||0,2)),5)]),_:1},8,["label"]),C(l,{label:p(v)("sell")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"cumulative_sold",align:"right"},{default:F(({row:e})=>[u("span",{style:te({color:p(me)[0]})},$(p(h)(e.cumulative_sold||0,2)),5)]),_:1},8,["label"]),C(l,{label:p(v)("insidersBalance1")+"($)",sortable:"custom","sort-orders":["descending","ascending",null],prop:"balance",align:"right"},{default:F(({row:e})=>[K($(p(h)(e.balance||0,2)),1)]),_:1},8,["label"]),C(l,{label:p(v)("address"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"address","min-width":"100",align:"right"},{default:F(({row:e,$index:a})=>[u("div",Ga,[u("span",null,$(e.address?.slice(0,2))+"..."+$(e.address?.slice(-4)),1),"solana"===p(O)?(c(),d("a",{key:0,class:"ml-5 a-gray",onClick:J(e=>{},["stop","prevent"])},[...t[1]||(t[1]=[u("i",{class:"iconfont icon-wallet1 font-12"},null,-1)])],8,Ka)):V("",!0),C(o,{ref:e=>p(P).buttonRefs[a]=e,name:"custom:attention",class:T([e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) text-14px clickable shrink-0"]),onClick:J(t=>(async(e,a)=>{be().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),!0===e.is_wallet_address_fav?ye({address:be().currentAddress,user_address:e.address,user_chain:O.value}).then(()=>{g.getFollowsNum(),D.success(v("attention1Canceled")),k.value[a].is_wallet_address_fav=!1}).catch(e=>{}).finally(()=>{}):be().confirmAttention(P.value.buttonRefs[a],e.chain,t=>fe({address:be().currentAddress,user_address:e.address,user_chain:O.value,group:t.group,is_monitored:t.is_monitored}).then(e=>(g.getFollowsNum(),k.value[a].is_wallet_address_fav=!0,Promise.resolve(e))).catch(e=>Promise.reject(e)).finally(()=>{}))})(e,a),["stop","prevent"])},null,8,["class","onClick"]),C(o,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px",onClick:a=>function(e){B.value=!0,j.value?.getUserTxs(e.address)}(e)},null,8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","height","default-sort"])),[[r,p(z)]])]),C(Te,{ref_key:"profitLossRef",ref:j,modelValue:p(B),"onUpdate:modelValue":t[0]||(t[0]=e=>N(B)?B.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-ebabcaaf"]]),Qa={class:"home-content"},Ya={class:"tableBox card relative"},Za={key:0,class:"flex flex-col items-center justify-center py-30px"},Xa={key:0,src:ve},et={key:1,src:he},at={key:1},tt={class:"color-text-2"},lt={class:"color-text-2"},ot={class:"block"},st={class:"color-text-2"},rt={class:"color-text-2"},it={class:"flex-end gap-3px"},nt={class:"color-text-2"},dt=e(b({__name:"insidersActivity",props:{tableList:{},loading:{type:Boolean}},setup(e){const i=e;o({buttonRefs:{}});const n=y(),m=f(),{mode:v}=t(l()),{t:b}=a(),{token:g}=t(y()),x=o(),_=o(0),k=o([]),S=s(()=>i.loading??!1),N=s(()=>{const e=m.params.id;return e?w(e):{address:g.value?.token||"",chain:g.value?.chain||""}}),A=s(()=>Math.max(n.commonHeight-400,450));r(()=>i.tableList,e=>{k.value=e},{immediate:!0});const T=(e,a)=>e===a?.type,B=e=>{const a=ge(N.value.chain,e.txhash,"tx");window.open(a)},I=e=>["BUY","TRANSFER_IN","ADD"].includes(e)?pe[0]:me[0],z=s(()=>{const e=O.value.direction;return{prop:O.value.sort,order:"asc"===e?"ascending":"desc"===e?"descending":void 0}}),O=o({page:1,page_size:300,sort:"",direction:void 0}),R=({prop:e,order:a})=>{if(!e)return;const t=[...i.tableList];k.value="ascending"===a?t.sort((a,t)=>a[e]-t[e]):"descending"===a?t.sort((a,t)=>t[e]-a[e]):t},D=s(()=>[{text:b("buy").toUpperCase(),value:"BUY"},{text:b("sell").toUpperCase(),value:"SELL"},{text:b("addPool"),value:"ADD"},{text:b("removePool"),value:"REMOVE"},{text:b("transferIn1"),value:"TRANSFER_IN"},{text:b("transferOut1"),value:"TRANSFER_OUT"}]),M=s(()=>D.value.map(e=>e.value));return(a,t)=>{const l=Me,o=De,s=ue;return c(),d("section",Qa,[u("div",Ya,[E((c(),L(o,{key:p(_),ref_key:"tableRef",ref:x,data:p(k),fit:"",style:{width:"100%","font-size":"12px"},class:"table-container",height:p(A),"cell-class-name":"color-[--d-999-l-959A9F] text-12px","default-sort":p(z),onRowClick:B,onSortChange:R},{empty:F(()=>[e.loading?(c(),d("span",at)):(c(),d("div",Za,["light"===p(v)?(c(),d("img",Xa)):V("",!0),"dark"===p(v)?(c(),d("img",et)):V("",!0),u("span",null,$(p(b)("emptyNoData")),1)]))]),default:F(()=>[C(l,{label:a.$t("time"),prop:"time",sortable:"custom","sort-orders":["descending","ascending",null],align:"left"},{default:F(({row:e})=>[u("span",tt,$(p(P)(e.time)),1)]),_:1},8,["label"]),C(l,{label:a.$t("type"),"column-key":"op",filters:p(D),"filter-method":T,"filtered-value":p(M),align:"right"},{default:F(({row:e})=>{return[u("span",{style:te({color:I(e?.type)})},$((a=e?.type,{BUY:b("buy").toUpperCase(),SELL:b("sell").toUpperCase(),ADD:b("addPool"),REMOVE:b("removePool"),TRANSFER_IN:b("transferIn1"),TRANSFER_OUT:b("transferOut1")}[a]||"")),5)];var a}),_:1},8,["label","filters","filtered-value"]),C(l,{label:a.$t("amount"),prop:"base_token_amount",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F(({row:e})=>["ADD"===e?.type||"REMOVE"===e?.type?(c(),d(j,{key:0},[K($(p(h)(e?.base_token_amount,0))+" ",1),u("span",lt,$(e?.base_token_symbol),1),u("span",ot,[K($(p(h)(e?.quote_token_amount,0))+" ",1),u("span",st,$(e?.quote_token_symbol),1)])],64)):(c(),d(j,{key:1},[K($(p(h)(e?.base_token_amount,0))+" ",1),u("span",rt,$(e?.base_token_symbol),1)],64))]),_:1},8,["label"]),C(l,{label:a.$t("value")+"($)",prop:"volume",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F(({row:e})=>[u("span",{style:te({color:I(e?.type)})},$(p(h)(e?.volume,2)),5)]),_:1},8,["label"]),C(l,{label:a.$t("address"),prop:"address",sortable:"custom","sort-orders":["descending","ascending",null],align:"right"},{default:F(({row:e,$index:a})=>[u("div",it,[u("span",nt,$(e.wallet_address?.slice(0,2))+"..."+$(e.wallet_address?.slice(-4)),1)])]),_:1},8,["label"])]),_:1},8,["data","height","default-sort"])),[[s,p(S)]])])])}}}),[["__scopeId","data-v-eba936f2"]]),ct={class:"insiders"},ut={class:"top mt-10px"},pt={class:"item"},mt={class:"tl"},vt={class:"flex-start"},ht={class:"tr"},bt={class:"flex-end"},ft={class:"mt-10px"},yt={class:"item"},gt={class:"tl"},xt={class:"block"},_t={class:"flex-start"},wt={class:"tr"},kt={class:"block"},Lt={class:"list mt-10px"},St={class:"flex"},Nt={class:"tabs",style:{"margin-right":"auto"}},Ft=["id","value"],$t=["for"],Ct=e(b({__name:"insiders",props:{insidersObj:{type:Object,default:()=>{}},type:{type:String,default:"insiders"}},setup(e){const{t:t}=a(),l=e,o=f(),i=g("holder"),n=g(!1),m=g([]),v=g(!1),b=g([]),y=g(!1),{insidersObj:x,type:_}=xe(l),w=s(()=>[{name:t("insidersHoldings"),id:"holder"},{name:t("insidersActivity"),id:"dongtai"}]),k=s(()=>o.params.id),S=s(()=>"19"===_.value&&n.value?m?.value?.filter?.(e=>!(e?.balance_ratio>0&&e?.balance>0))||[]:m.value);function C(){"100"!==_.value&&"holder"==i.value&&function(){v.value=!0;const e={token_id:k.value,type:_.value};Be(e).then(e=>{m.value=Array.isArray(e)?e:[]}).catch(()=>{}).finally(()=>{v.value=!1})}(),"100"!==_.value&&"dongtai"==i.value&&function(){y.value=!0;const e={token_id:k.value,type:_.value};Ee(e).then(e=>{b.value=Array.isArray(e)?e.map(e=>({...e,time:"1970-01-01T00:00:00Z"!==e?.time&&"0001-01-01T00:00:00Z"!==e?.time?new Date(e?.time).getTime()/1e3:0,volume:"ADD"===e?.type||"REMOVE"===e?.type?e?.quote_token_amount*e.quote_token_price_u+e?.base_token_amount*e?.base_token_price_u:e?.base_token_amount*e?.base_token_price_u})):[]}).catch(()=>{}).finally(()=>{y.value=!1})}()}return r(()=>k.value,()=>{C()}),r(i,()=>{C()}),r(_,()=>{C()}),(e,a)=>{const t=we;return c(),d("div",ct,[u("div",ut,[u("div",null,[u("div",pt,[u("div",mt,[u("span",null,$(e.$t("insidersBalance"))+"  "+$(e.$t("insidersPosition")),1),u("div",vt,[K(" $"+$(p(h)(p(x)?.balance,0))+"   "+$(p(x)?.balance_ratio_cur?p(h)(100*p(x)?.balance_ratio_cur||0,2)+"%":0)+" ",1),a[2]||(a[2]=u("span",{class:"color-878FBC"},"/",-1)),K(" "+$(p(x)?.balance_ratio_max?p(h)(100*p(x)?.balance_ratio_max,2)+"%":0),1)])]),u("div",ht,[u("span",null,$(e.$t("insidersBuyOrSell")),1),u("div",bt,[u("span",{style:te({color:p(pe)[0]})}," $"+$(p(h)(p(x)?.vol_buy||0,2)),5),a[3]||(a[3]=u("span",{class:"color-878FBC"},"/",-1)),u("span",{style:te({color:p(me)[0]})}," $"+$(p(h)(p(x)?.vol_sell,2)),5)])])])]),u("div",ft,[u("div",yt,[u("div",gt,[u("span",xt,$(e.$t("snipersAddress")),1),u("div",_t,[K($(p(x)?.unsettled_addresses?p(h)(p(x)?.unsettled_addresses||0,2):0)+" ",1),a[4]||(a[4]=u("span",{class:"color-878FBC"},"/",-1)),K(" "+$(p(x)?.all_addresses?p(h)(p(x)?.all_addresses,2):0),1)])]),u("div",wt,[u("span",kt,$(e.$t("insidersProfit")),1),u("span",{style:te({color:p(x)?.vol_profit>0?p(pe)[0]:p(me)[0]})},[K(" $"+$(p(h)(p(x)?.vol_profit||0,2))+" ",1),p(x)?.vol_profit_ratio?(c(),d(j,{key:0},[K(" ("+$(p(h)(100*p(x)?.vol_profit_ratio||0,2))+"%) ",1)],64)):V("",!0)],4)])])])]),u("div",Lt,[u("div",St,[u("div",Nt,[(c(!0),d(j,null,I(p(w),(e,t)=>(c(),d(j,{key:t},[E(u("input",{id:`tab-item-${e.id}`,"onUpdate:modelValue":a[0]||(a[0]=e=>N(i)?i.value=e:null),type:"radio",value:e.id,class:"tab-radio-input"},null,8,Ft),[[_e,p(i)]]),u("label",{for:`tab-item-${e.id}`,class:"tab-item"},$(e.name),9,$t)],64))),128))]),"19"===p(_)&&"holder"===p(i)?(c(),L(t,{key:0,modelValue:p(n),"onUpdate:modelValue":a[1]||(a[1]=e=>N(n)?n.value=e:null),class:"checkbox-old",style:{"--van-checkbox-label-color":"#878ebe","--van-checkbox-label-margin":"5px","font-size":"12px","margin-right":"15px"},"icon-size":"14px"},{default:F(()=>[K($(e.$t("cleared")),1)]),_:1},8,["modelValue"])):V("",!0)])]),"holder"===p(i)?(c(),L(Ja,{key:0,tableList:p(S),loading:p(v),type:p(_)},null,8,["tableList","loading","type"])):(c(),L(dt,{key:1,tableList:p(b),loading:p(y)},null,8,["tableList","loading"]))])}}}),[["__scopeId","data-v-4ed598bf"]]),At={class:"holderInfoOld px-12px"},Tt={class:"title text-12px color-[--main-text]"},Bt={class:"color-[--third-text]"},Et={class:"checkbox-container checkbox-old mt-10px"},jt={class:"title flex items-center justify-between mt-20px mb-10px"},It={class:"text-12px color-[--main-text]"},Vt={class:"tabs"},Pt=["onClick"],zt={key:0,class:"flex flex-col items-center justify-center py-30px"},Ot={key:0,src:ve},Rt={key:1,src:he},Dt={key:1},Mt={class:"flex-end"},Ut={class:"ml-3px"},Ht=e(b({__name:"index",setup(e){const i=y(),m=f(),{t:v}=a(),{mode:b}=t(l()),k=x(),S=o([!0,!0,!0,!0,!0,!0,!0]),B=o({buttonRefs:{}}),P=l(),{globalConfig:z}=t(de()),{token:O,totalHolders:R,price:M}=t(y()),U=g(!1),H=o([]),W=g(!1),q=g("100"),G=o([]),Q=g(!1),Y=o({token:"",date:void 0,balance:0,balance_ratio_cur:0,balance_ratio_max:0,vol_buy:0,vol_sell:0,unsettled_addresses:0,all_addresses:0,vol_profit:0,vol_profit_ratio:0}),ee=g(!1),le=o(),oe=s(()=>{const e=se.value.chain,a=z.value?.chains_support_data_analysis_insider_sniper_V3,t=a?.[e]||[];return t?.map(e=>({...e,color:Ia(e.type)?.color}))||[]}),se=s(()=>{const e=m.params.id;return e?w(e):{address:O.value?.token||"",chain:O.value?.chain||""}}),re=s(()=>X().locale),ie=s(()=>m.params.id),ne=s(()=>[{cn:v("topN",{n:100}),en:v("topN",{n:100}),tw:v("topN",{n:100}),pt:v("topN",{n:100}),es:v("topN",{n:100}),type:"100"},...R.value?.filter(e=>(e?.total_address||0)>0)||{}]),ce=s(()=>G.value.slice(0,Number(q.value)||200)),ve=s(()=>Math.max(i.commonHeight-380,355));function he(){"100"===q.value?(W.value=!0,je(ie.value).then(e=>{H.value=Array.isArray(e)?e?.map(e=>({...e,date:e?.date?.slice(5)})):[]}).catch(()=>{}).finally(()=>{W.value=!1}),ge()):ke()}r(()=>ie.value,e=>{e&&he()}),n(()=>{he()});function ge(){Q.value=!0;const e={token_id:ie.value,address:k.evmAddress};Ie(e).then(e=>{G.value=Array.isArray(e)?e?.map(e=>({...e,newTags:e?.newTags?.filter(e=>!new RegExp("^top.*$","gi").test(e?.type))})):[]}).catch(()=>{}).finally(()=>{Q.value=!1})}function xe(e){return e?.amount_diff_3days*(M?.value||0)+e?.sell_volume_diff_3days-e?.buy_volume_diff_3days}function _e(){}function ke(){ee.value=!0;const e={token_id:ie.value,type:q.value};Ve(e).then(e=>{Y.value=e}).catch(()=>{}).finally(()=>{ee.value=!1})}return(e,a)=>{const t=we,l=Oe,o=Me,s=Ue,r=A,i=De,n=Re,m=ue;return c(),d("div",At,[C(n,{gutter:10},{default:F(()=>[C(l,{span:24},{default:F(()=>[u("div",Tt,[K($(e.$t("holdersDetail"))+" ",1),u("span",Bt,"("+$(e.$t("excludeNullAndPoll"))+")",1)]),u("div",Et,[C(t,{modelValue:p(S)[0],"onUpdate:modelValue":a[0]||(a[0]=e=>p(S)[0]=e),class:"checkbox-FFCC00"},{default:F(()=>[K($(e.$t("topN",{n:10})),1)]),_:1},8,["modelValue"]),C(t,{modelValue:p(S)[1],"onUpdate:modelValue":a[1]||(a[1]=e=>p(S)[1]=e),class:"checkbox-FFB6300"},{default:F(()=>[K($(e.$t("topN",{n:100})),1)]),_:1},8,["modelValue"]),(c(!0),d(j,null,I(p(oe),(e,a)=>(c(),L(t,{key:a,modelValue:p(S)[a+2],"onUpdate:modelValue":e=>p(S)[a+2]=e,shape:"square","checked-color":e.color,class:T(`checkbox-${e?.color?.replace("#","")}`)},{default:F(()=>[K($(e?.[p(Z)(p(re))]),1)]),_:2},1032,["modelValue","onUpdate:modelValue","checked-color","class"]))),128))]),C(za,{dataList:p(H),showSeries:p(S),loading:p(W),chartHeight:"162px"},null,8,["dataList","showSeries","loading"])]),_:1}),C(l,{span:24},{default:F(()=>[u("div",jt,[u("span",It,$(e.$t("mainChip")),1),u("div",Vt,[(c(!0),d(j,null,I(p(ne),(a,t)=>(c(),d("span",{key:t,class:T(["tab-item",{active:a.type==p(q)}]),onClick:J(e=>function(e){q.value=e.type,"100"==e.type?ge():ke()}(a),["stop","prevent"])},[K($(a?.[p(Z)(p(re))])+" ",1),void 0!==a?.total_address?(c(),d(j,{key:0},[K(" ("+$(("formatNumber"in e?e.formatNumber:p(h))(a?.total_address||0,0))+") ",1)],64)):V("",!0)],10,Pt))),128))])]),E((c(),L(i,{ref:"tableRef",class:"mt-15px","cell-class-name":"text-12px",data:p(ce),fit:"",height:p(ve),style:{width:"100%","font-size":"12px"},onRowClick:_e},{empty:F(()=>[p(Q)?(c(),d("span",Dt)):(c(),d("div",zt,["light"===p(b)?(c(),d("img",Ot)):V("",!0),"dark"===p(b)?(c(),d("img",Rt)):V("",!0),u("span",null,$(p(v)("emptyNoData")),1)]))]),default:F(()=>[C(o,{type:"index",label:"#",width:"50"}),C(o,{label:e.$t("ratio"),prop:"time",align:"right"},{default:F(({row:e})=>{return[K($((a=e,Number(O?.value?.total)?h(100*a.amount_cur/Number(O?.value?.total),2)+"%":"-")),1)];var a}),_:1},8,["label"]),C(o,{label:e.$t("position"),prop:"time",align:"right"},{default:F(({row:a})=>[K($(("formatNumber"in e?e.formatNumber:p(h))(a?.amount_cur,2)),1)]),_:1},8,["label"]),C(o,{label:e.$t("Change3D"),prop:"time",align:"right"},{default:F(({row:a})=>[u("span",{style:te({color:a.amount_diff_3days>0?p(pe)[0]:p(me)[0]})},$(("formatNumber"in e?e.formatNumber:p(h))(a?.amount_diff_3days,2)),5)]),_:1},8,["label"]),C(o,{label:e.$t("profit1")+"($)",prop:"time",align:"right"},{default:F(({row:a})=>[u("span",{style:te({color:xe(a)>0?p(pe)[0]:p(me)[0]})},$(("formatNumber"in e?e.formatNumber:p(h))(xe(a),2)),5)]),_:1},8,["label"]),C(o,{label:e.$t("address"),align:"right"},{default:F(({row:e,$index:a})=>[u("div",Mt,[C(s,{tags:e.newTags,walletAddress:e.address,chain:e.chain},null,8,["tags","walletAddress","chain"]),u("span",Ut," *"+$(e.address?.slice(-6)),1),C(r,{ref:e=>p(B).buttonRefs[a]=e,name:"custom:attention",class:T([1===e.is_wallet_address_fav?"color-[#F45469]":"color-[--third-text]","color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 ml-3px"]),onClick:J(t=>(async(e,a)=>{be().currentAddress||x().changeConnectVisible(!0),_().address&&!_().walletSignature[_().address]&&await _().signMessageForFavorite(),1===e.is_wallet_address_fav?ye({address:be().currentAddress,user_address:e.address,user_chain:e.chain}).then(()=>{P.getFollowsNum(),D.success(v("attention1Canceled")),ce.value[a].is_wallet_address_fav=0}).catch(e=>{}).finally(()=>{}):be().confirmAttention(B.value.buttonRefs[a],e.chain,t=>fe({address:be().currentAddress,user_address:e.address,user_chain:e.chain,group:t.group,is_monitored:t.is_monitored}).then(e=>(P.getFollowsNum(),ce.value[a].is_wallet_address_fav=1,Promise.resolve(e))).catch(e=>Promise.reject(e)).finally(()=>{}))})(e,a),["stop","prevent"])},null,8,["class","onClick"]),C(r,{name:"custom:filter",class:"color-[--third-text] cursor-pointer text-10px ml-3px",onClick:a=>function(e){U.value=!0,le.value?.getUserTxs(e.address)}(e)},null,8,["onClick"])])]),_:1},8,["label"])]),_:1},8,["data","height"])),[[ae,"100"==p(q)],[m,p(Q)]]),E(C(Ct,{insidersObj:p(Y),type:p(q)},null,8,["insidersObj","type"]),[[ae,"100"!==p(q)]])]),_:1})]),_:1}),C(Te,{ref_key:"profitLossRef1",ref:le,modelValue:p(U),"onUpdate:modelValue":a[2]||(a[2]=e=>N(U)?U.value=e:null)},null,8,["modelValue"])])}}}),[["__scopeId","data-v-32866d05"]]),Wt={__name:"index",setup(e){const a=f(),t=s(()=>{const{chain:e}=w(a.params?.id,0);return ke.includes(e)});return(e,a)=>p(t)?(c(),L(p(Ea),{key:0})):(c(),L(p(Ht),{key:1}))}};export{Wt as default};
