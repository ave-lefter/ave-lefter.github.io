import{f as e,ah as a,y as l,Q as t,R as s,M as r,ak as o,aB as n,v as c,r as i,g as u,m as p,al as d,a$ as x,b0 as m,n as v,b1 as h,b2 as g,T as f,c as b,o as k,B as _,a as y,b as w,i as F,F as C,D as $,G as j,d as V,t as S,w as G,J as R,C as T,N as E,H as z,K as P,Z as N,U as A,am as H,e as U,aH as D,b3 as M,b4 as I,a7 as B,aK as W,aM as q,aN as L,aO as O,aT as K,b5 as J,a2 as Q,ac as Z,b6 as X,A as Y,b7 as ee,b8 as ae,ae as le,b9 as te,_ as se}from"#entry";import{E as re}from"./1bXUUYzG.js";import{E as oe,a as ne}from"./CXu7cHRZ.js";import{a as ce,E as ie}from"./DMZvEsQv.js";import{E as ue}from"./B7E30Deu.js";import{E as pe}from"./Cxn-ISJb.js";import"./Div4Sb7D.js";import{V as de}from"./BG6hOfx6.js";import{_ as xe}from"./md0wCl8Q.js";import{u as me}from"./D1RQ0Ig2.js";import"./EyvYgUJ0.js";import"./BuTxD5e6.js";const ve={class:"flex-1 h-[calc(100%-76px)] flex flex-col"},he={key:0,class:"flex items-center px-16px mt-12px gap-8px overflow-x-auto scrollbar-hide"},ge=["onClick"],fe={key:0},be=["onClick"],ke={class:"ml-4px text-12px text-[--d-F5F5F5-l-333]"},_e=["onClick"],ye={class:"ml-4px text-12px text-[--d-F5F5F5-l-333]"},we={key:1,class:"px-15px"},Fe={class:"flex items-center justify-between mt-12px gap-12px"},Ce=["onClick"],$e={class:"flex items-center justify-between mt-12px gap-12px"},je={class:"mb-8px"},Ve={class:"flex items-center justify-between mt-12px gap-12px"},Se={class:"w-100% mt-12px flex-1 overflow-hidden"},Ge={key:0},Re={key:0,class:"flex flex-col items-center justify-center py-30px"},Te={key:0,src:q},Ee={key:1,src:L},ze={key:1},Pe={class:"text-12px mt-10px"},Ne={class:"flex items-center"},Ae={class:"text-[--third-text] text-10px mr-5px"},He={class:"relative ml-3px"},Ue=["src"],De=["src"],Me=["src"],Ie={class:"ml-8px flex flex-col lh-none justify-between h-32px"},Be={class:"flex items-center"},We={class:"text-13px text-[--main-text]"},qe={class:"text-12px text-[--third-text] ml-4px"},Le=["href"],Oe=["src"],Ke={class:"flex items-center"},Je=["title"],Qe=["onClick"],Ze=["href"],Xe=["href"],Ye=["innerHTML"],ea={key:0,class:"text-[#12b886]"},aa={key:1,class:"text-[#848E9C]"},la={key:2,class:"text-[#ff646d]"},ta={class:"flex items-center justify-between mt-12px gap-12px"},sa=se(e({__name:"index",setup(e){const{isDark:q}=a(l()),L=t(),se=s(),sa=r(),ra=me(),oa=o(),na=n(),{t:ca}=c(),ia=i(0),ua=i([]),pa=u(()=>[{label:ca("defaultGroup"),value:0},...ua.value]),da=i([]),xa=i(""),ma=i(),va=i(),ha=i(),ga=i(),fa=i(""),ba=i(void 0),ka=i(""),_a=i(!1),ya=i({x:0,y:0}),wa=i({getBoundingClientRect:()=>({width:0,height:0,top:ya.value.y,left:ya.value.x,bottom:ya.value.y,right:ya.value.x}),get clientWidth(){return 0},get clientHeight(){return 0}}),Fa=i({}),Ca=i(!1),$a=i({total:0,page:1,pageSize:50}),ja=i([]),{mode:Va}=a(l()),Sa=u(()=>L.evmAddress||se.address);p(()=>se.walletSignature[se.address],e=>{e&&(Na(),Aa())}),p(()=>L.evmAddress,e=>{e?(Na(),Aa()):(ja.value=[],ua.value=[])}),p(()=>se.address,e=>{e?(Na(),Aa()):(ja.value=[],ua.value=[])}),p(()=>oa.wsResult[d.PRICEV2],e=>{e?.prices&&ja.value.length&&(ja.value=ja.value.map(a=>{const l=e.prices.find(e=>e.token===a.token&&e.chain===a.chain);if(l){const e=l.uprice;return{...a,current_price_usd:e,price_change_24h:l.price_change,pool_circulating_supply:(a.total-a.lock_amount-a.burn_amount-a.other_amount)*e}}return a}))},{deep:!0});const Ga=e=>{ia.value=e,$a.value.page=1,Na()},Ra=()=>{ba.value=void 0,fa.value=""},Ta=()=>{da.value=Y(ua.value)},Ea=async()=>{const e=pe.service();try{ga.value?.hide(),await ee({address:Sa.value,group:da.value.map(e=>e.group_id)}),e.close(),ua.value=Y(da.value),Q.success(ca("success"))}catch(a){e.close()}},za=e=>{const a=!!e?.token&&["inscription",":","("].some(a=>e.token.includes(a));"brc20"===e.chain||"runes"===e.chain||a?na.push(`/brc/${e.token}-${e.chain}?from=/follow/token`):na.push(`/token/${e.token}-${e.chain}?from=/follow/token`)},Pa=({prop:e,order:a})=>{e&&("ascending"===a?ja.value=ja.value.toSorted((a,l)=>a[e]-l[e]):"descending"===a?ja.value=ja.value.toSorted((a,l)=>l[e]-a[e]):Na())},Na=async()=>{Ca.value=!0;const e=await x({address:Sa.value,group:ia.value,pageNO:$a.value.page,pageSize:$a.value.pageSize}),a=e.data&&e.data?.map(e=>({id:`${e.token}-${e.chain}`,...e,price_change_24h:"brc20"==e?.chain?e.price_change_v2||0:e.price_change||0,pool_circulating_supply:(e.total-e.lock_amount-e.burn_amount-e.other_amount)*e.current_price_usd,group_id:ia.value}))||[];$a.value.total=e.total,ja.value=a;const l=a.map(e=>e.id);ra.setMultiPriceParams("favorite",l),ra.sendPriceWs(),Ca.value=!1},Aa=async()=>{const e=await m(Sa.value);ua.value=(e||[]).filter(e=>!!e.name).map(e=>({...e,label:e.name,value:e.group_id}))};return v(()=>{(L.evmAddress||se.address)&&(Na(),Aa())}),h(()=>{ra.setMultiPriceParams("favorite",[]),ra.sendPriceWs()}),(e,a)=>{const l=T,t=E,s=z,r=N,o=re,n=O,c=D,i=U,u=oe,p=g("router-link"),d=ie,x=ce,m=ne,v=ue,h=f("copy"),Y=f("tooltip"),ee=H;return k(),b("div",ve,[F(L).evmAddress||F(se).address?(k(),b("div",he,[(k(!0),b(C,null,$(pa.value,(o,n)=>(k(),b("div",{key:o.value,class:j(["cursor-pointer text-12px color-[--third-text] bg-[--main-input-button-bg] px-8px h-28px rounded-4px shrink-0 flex items-center",[ia.value===o.value&&"bg-[#3F80F7] color-[#F5F5F5]"]]),onClick:e=>Ga(o.value)},[V(S(o.label)+" ",1),w(r,{trigger:"click",onHide:Ra,ref_for:!0,ref_key:"editGroupPopoverRef",ref:ha,width:ba.value?250:100,"popper-style":"min-width: 86px;padding: 10px 0;"},{reference:G(()=>[o.value>0?(k(),P(l,{key:0,onClick:a[0]||(a[0]=R(()=>{},["stop"])),name:"custom:set-up",class:"text-12px ml-2px"})):_("",!0)]),default:G(()=>[y("div",null,[ba.value?(k(),b("div",we,[y("div",null,S(F(ca)("rename")),1),w(t,{modelValue:fa.value,"onUpdate:modelValue":a[1]||(a[1]=e=>fa.value=e),placeholder:F(ca)("enterGroupName"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),y("div",Fe,[w(s,{class:"flex-1",color:F(q)?"#1F242C":"#D9E8FF",onClick:R(e=>ha.value[n]?.hide(),["stop","prevent"])},{default:G(()=>[V(S(e.$t("cancel")),1)]),_:1},8,["color","onClick"]),y("div",{onClick:e=>(async(e,a)=>{if(!fa.value.trim())return Q.error(ca("enterGroupName"));if(fa.value.length>20)return Q.error(ca("maximum10characters"));try{await X(fa.value,e.value,Sa.value),Q.success(ca("success")),ha.value[a]?.hide(),Aa()}catch(l){}})(o,n),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},S(F(ca)("confirm")),9,Ce)])])):(k(),b("div",fe,[y("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-FFF] px-10px py-5px",onClick:R(e=>(e=>{ba.value=e.value,fa.value=e.label})(o),["stop"])},[w(l,{name:"fe:edit",class:"color-[--d-666-l-999] text-16px"}),y("view",ke,S(F(ca)("rename")),1)],8,be),y("div",{class:"flex items-center cursor-pointer hover:bg-[--d-333-l-FFF] px-10px py-5px",onClick:R(e=>(async e=>{await K.confirm(ca("removeFavGroupTips"),ca("tips"),{confirmButtonText:ca("confirm"),cancelButtonText:ca("cancel"),dangerouslyUseHTMLString:!0,customClass:""}),await J(e,Sa.value),Q.success(ca("success")),Aa(),ia.value!==e&&0!==ia.value||Ga(0)})(o.value),["stop"])},[w(l,{name:"bx:bxs-trash-alt",class:"text-16px color-[--d-666-l-999]"}),y("view",ye,S(F(ca)("delete")),1)],8,_e)]))])]),_:2},1032,["width"])],10,ge))),128)),w(r,{trigger:"click",onShow:a[6]||(a[6]=e=>ma.value.focus()),onHide:a[7]||(a[7]=e=>fa.value=""),ref_key:"addGroupPopoverRef",ref:va,width:250},{reference:G(()=>[y("div",{onClick:a[2]||(a[2]=e=>ba.value=void 0),class:"cursor-pointer text-12px bg-[--main-input-button-bg] color-[--secondary-text] px-8px h-28px rounded-4px shrink-0 flex items-center"},[w(l,{name:"custom:add-icon",class:"text-12px mr-2px"}),V(" "+S(F(ca)("newGroup")),1)])]),default:G(()=>[y("div",null,[y("div",null,S(F(ca)("newGroup")),1),w(t,{ref_key:"addGroupInputRef",ref:ma,modelValue:fa.value,"onUpdate:modelValue":a[3]||(a[3]=e=>fa.value=e),placeholder:F(ca)("enterGroupName"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),y("div",$e,[w(s,{class:"flex-1",color:F(q)?"#1F242C":"#D9E8FF",onClick:a[4]||(a[4]=R(e=>va.value?.hide(),["stop","prevent"]))},{default:G(()=>[V(S(e.$t("cancel")),1)]),_:1},8,["color"]),y("div",{onClick:a[5]||(a[5]=e=>(async()=>fa.value.trim()?fa.value.length>20?Q.error(ca("maximum10characters")):ua.value.some(e=>e.label===fa.value)?Q.error(ca("groupExistT")):(await Z(fa.value,Sa.value),Q.success(ca("success")),va.value?.hide(),void Aa()):Q.error(ca("enterGroupName")))()),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},S(F(ca)("confirm")),1)])])]),_:1},512),w(r,{trigger:"click",onHide:a[10]||(a[10]=e=>xa.value=""),ref_key:"moveGroupPopoverRef",ref:ga,width:250},{reference:G(()=>[y("div",{onClick:Ta,class:"cursor-pointer text-12px bg-[--main-input-button-bg] color-[--secondary-text] px-8px h-28px rounded-4px shrink-0 flex items-center"},[w(l,{name:"custom:list-icon",class:"text-12px mr-2px"}),V(" "+S(F(ca)("groupManage")),1)])]),default:G(()=>[y("div",null,[y("div",je,S(F(ca)("groupManage")),1),w(o,{"wrap-class":"max-h-[400px]"},{default:G(()=>[w(F(de),{modelValue:da.value,"onUpdate:modelValue":a[8]||(a[8]=e=>da.value=e),sort:!0,"ghost-class":"ghost",animation:300},{default:G(()=>[(k(!0),b(C,null,$(da.value.filter(e=>e.label.includes(xa.value)),e=>(k(),b("div",{class:"py-12px px-8px flex justify-between items-center hover:bg-[--d-2A2A2A-l-F2F2F2] cursor-move",key:e.value},[V(S(e.label)+" ",1),w(l,{name:"custom:move-icon",class:"text-16px shrink-0 ml-5px"})]))),128))]),_:1},8,["modelValue"])]),_:1}),y("div",Ve,[w(s,{class:"flex-1",color:F(q)?"#1F242C":"#D9E8FF",onClick:a[9]||(a[9]=R(e=>ga.value?.hide(),["stop","prevent"]))},{default:G(()=>[V(S(e.$t("cancel")),1)]),_:1},8,["color"]),y("div",{onClick:Ea,class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},S(F(ca)("confirm")),1)])])]),_:1},512)])):_("",!0),y("div",Se,[A((k(),P(m,{height:$a.value.total>50?"calc(100% - 72px)":"100%",data:ja.value,fit:"",onSortChange:Pa,onRowClick:za},{empty:G(()=>[F(L).evmAddress||F(se).address?(k(),b("div",Ge,[Ca.value?(k(),b("span",ze)):(k(),b("div",Re,["light"===F(Va)?(k(),b("img",Te)):_("",!0),"dark"===F(Va)?(k(),b("img",Ee)):_("",!0),y("span",null,S(F(ca)("emptyNoData")),1)]))])):(k(),P(n,{key:1},{default:G(()=>[y("span",Pe,S(e.$t("noWalletTip")),1),w(s,{type:"primary",class:"mt-10px",onClick:a[11]||(a[11]=e=>F(L).$patch({connectVisible:!0}))},{default:G(()=>[V(S(e.$t("connectWallet")),1)]),_:1})]),_:1}))]),default:G(()=>[w(u,{label:F(ca)("poolPair"),"min-width":"160","show-overflow-tooltip":""},{default:G(({row:t,$index:s})=>[w(i,{to:`/token/${t.token}-${t.chain}`,onClick:a[16]||(a[16]=R(()=>{},["stop","prevent"]))},{default:G(()=>[y("div",Ne,[y("span",Ae," #"+S(($a.value.page-1)*$a.value.pageSize+s+1),1),Sa.value?(k(),P(l,{key:0,name:"material-symbols:kid-star",class:"color-var(--d-999-l-666) h-16px w-16px clickable shrink-0 color-#ffbb19",onClick:R(e=>(e=>{Ca.value=!0,le(`${e.token}-${e.chain}`,Sa.value).then(()=>{Na()}).catch(e=>{}).finally(()=>{Ca.value=!1})})(t),["stop","prevent"])},null,8,["onClick"])):_("",!0),y("div",He,[w(c,{class:"w-32px h-32px rounded-full mt-6px",src:("getSymbolDefaultIcon"in e?e.getSymbolDefaultIcon:F(M))({chain:t?.chain,symbol:t.symbol,logo_url:t.logo_url}),lazy:""},{error:G(()=>[y("img",{class:"w-32px h-32px rounded-full",src:F(I)(t?.chain,t.symbol)},null,8,Ue)]),placeholder:G(()=>[y("img",{class:"w-32px h-32px rounded-full",src:F(I)(t?.chain,t.symbol)},null,8,De)]),_:2},1032,["src"]),t?.chain?(k(),b("img",{key:0,class:"w-12px h-12px absolute bottom-3px right-3px rounded-[50%]",src:`${F(sa).token_logo_url}chain/${t?.chain}.png`,alt:"",onerror:"this.src='/icon-default.png'",srcset:""},null,8,Me)):_("",!0)]),y("div",Ie,[y("div",Be,[y("span",We,S(t.symbol),1),y("div",qe,S(`[*${t?.token?.slice(-6)}]`),1),A(w(l,{onClick:a[12]||(a[12]=R(()=>{},["stop","prevent"])),name:"bxs:copy",class:"ml-4px clickable text-[--third-text] text-12px"},null,512),[[h,t?.token]]),y("a",{class:"ml-4px flex items-center",href:`https://x.com/search?q=(${t?.symbol}OR${t?.token})&src=typed_query&f=live`,target:"_blank",onClick:a[13]||(a[13]=R(()=>{},["stop"]))},[w(l,{class:"text-[--third-text] h-12px w-12px text-12px",name:"custom:search"})],8,Le),t.issue_platform?A((k(),b("img",{key:0,class:"ml-4px w-10px h-10px",src:("formatIconTag"in e?e.formatIconTag:F(B))(t.issue_platform),alt:""},null,8,Oe)),[[Y,t.issue_platform]]):_("",!0)]),y("div",Ke,[t.remark?(k(),b("div",{key:0,class:"text-[#3f80f7] border-[0.5px] border-solid border-[#3f80f7] box-border rounded-4px bg-transparent text-10px px-4px max-w-[60px] h-16px flex items-center truncate",title:t.remark},S(t.remark),9,Je)):_("",!0),y("div",{class:"flex items-center",ref:"buttonRef",onClick:R(e=>((e,a)=>{const l=a.currentTarget.getBoundingClientRect();ya.value={x:l.left+l.width/2,y:l.top+l.height/2},_a.value=!0,Fa.value=e,ka.value=e.remark||""})(t,e),["stop","prevent"])},[w(l,{class:"text-[--third-text] w-12px h-12px ml-4px",name:"custom:remark"})],8,Qe),t?.twitter?A((k(),b("a",{key:1,class:"flex items-center",href:t?.twitter,target:"_blank",onClick:a[14]||(a[14]=R(()=>{},["stop"]))},[w(l,{name:"custom:twitter",class:"text-[--third-text] h-14px w-14px ml-4px"})],8,Ze)),[[Y,t?.twitter]]):_("",!0),t?.telegram?A((k(),b("a",{key:2,class:"flex items-center",href:t?.telegram,target:"_blank",onClick:a[15]||(a[15]=R(()=>{},["stop"]))},[w(l,{name:"custom:tg",class:"text-[--third-text] h-14px w-14px ml-4px"})],8,Xe)),[[Y,t?.telegram]]):_("",!0)])])])]),_:2},1032,["to"])]),_:1},8,["label"]),w(u,{label:F(ca)("holders"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"holders",align:"right"},{default:G(({row:e})=>[y("span",null,S(e.holders),1)]),_:1},8,["label"]),w(u,{label:F(ca)("price"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"current_price_usd",align:"right"},{default:G(({row:e})=>[y("span",{innerHTML:"$"+F(W)(e.current_price_usd)},null,8,Ye)]),_:1},8,["label"]),w(u,{label:F(ca)("marketCap"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"pool_circulating_supply",align:"right"},{default:G(({row:e})=>[V(" $"+S(F(W)(e.pool_circulating_supply||0,2,4,1e4)),1)]),_:1},8,["label"]),w(u,{label:"24h%",sortable:"custom","sort-orders":["descending","ascending",null],prop:"price_change_24h",align:"right"},{default:G(({row:e})=>[Number(e.price_change_24h||0)>0?(k(),b("span",ea," +"+S(F(W)(e.price_change_24h||0,2))+"% ",1)):0==Number(e.price_change_24h||0)?(k(),b("span",aa," 0% ")):(k(),b("span",la,S(F(W)(e.price_change_24h||0,2))+"%",1))]),_:1}),w(u,{label:F(ca)("riskScore"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"risk_score",align:"right"},{default:G(({row:e})=>[w(p,{to:{path:`/check/${e.token}-${e.chain}`},onClick:a[17]||(a[17]=R(()=>{},["stop"]))},{default:G(()=>[w(xe,{progress:Number(e.risk_score/100)||0,width:40,thickness:2,big:!1,height:20,textHeight:15,end:!0,fontSize:"12px",class:"arc-progress"},null,8,["progress"])]),_:2},1032,["to"])]),_:1},8,["label"]),w(u,{label:F(ca)("24Volume"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_volume_u_24h",align:"right"},{default:G(({row:e})=>[V(" $"+S(F(W)(e?.tx_volume_u_24h||0,2,4,1e4)),1)]),_:1},8,["label"]),w(u,{label:F(ca)("24TxAddress"),sortable:"custom","sort-orders":["descending","ascending",null],prop:"tx_count_24h",align:"right"},{default:G(({row:e})=>[V(S(F(W)(e?.tx_count_24h||0,2,4,1e4)),1)]),_:1},8,["label"]),w(u,{label:F(ca)("tokenGroup"),align:"right",width:"170"},{default:G(({row:e})=>[w(x,{modelValue:e.group_id,"onUpdate:modelValue":a=>e.group_id=a,placement:"bottom-end",style:{width:"100px"},"popper-class":"follow-select-popper",filterable:"",class:"[&&]:[--el-text-color-regular:var(--secondary-text)] [&&]:[--el-input-icon-color:var(--secondary-text)]",onClick:a[18]||(a[18]=R(()=>{},["stop"])),onChange:a=>(async(e,a)=>{const l=a.token+"-"+a.chain;await te(l,e,Sa.value),Na()})(a,e)},{default:G(()=>[(k(!0),b(C,null,$(pa.value,e=>(k(),P(d,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),_:1},8,["label"])]),_:1},8,["height","data"])),[[ee,Ca.value]]),$a.value.total>1?(k(),P(v,{key:0,class:"h-72px flex justify-end items-center","current-page":$a.value.page,"onUpdate:currentPage":a[19]||(a[19]=e=>$a.value.page=e),"page-size":$a.value.pageSize,"onUpdate:pageSize":a[20]||(a[20]=e=>$a.value.pageSize=e),layout:"prev, pager, next, ->",total:$a.value.total,"page-sizes":[10,20,30,40,50,60],"hide-on-single-page":"",onChange:Na},null,8,["current-page","page-size","total"])):_("",!0)]),w(r,{visible:_a.value,"virtual-ref":wa.value,"virtual-triggering":"",trigger:"click",width:250},{default:G(()=>[y("div",null,[y("div",null,S(F(ca)("editRemark")),1),w(t,{modelValue:ka.value,"onUpdate:modelValue":a[21]||(a[21]=e=>ka.value=e),clearable:"",maxlength:"50","show-word-limit":"",placeholder:F(ca)("enterRemark"),class:"mt-8px w-100%"},null,8,["modelValue","placeholder"]),y("div",ta,[w(s,{class:"flex-1",color:F(q)?"#1F242C":"#D9E8FF",onClick:a[22]||(a[22]=R(e=>_a.value=!1,["stop","prevent"]))},{default:G(()=>[V(S(e.$t("cancel")),1)]),_:1},8,["color"]),y("div",{onClick:a[23]||(a[23]=e=>(async e=>{if(ka.value.length>50)return Q.error(ca("remarkError"));const a=e.token+"-"+e.chain;await ae(a,ka.value,Sa.value),Q.success(ca("success")),_a.value=!1,Na()})(Fa.value)),class:"flex-1 text-center cursor-pointer text-14px color-[#F5F5F5] bg-[#3F80F7] px-12px py-8px rounded-4px"},S(F(ca)("confirm")),1)])])]),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-b488cc86"]]);export{sa as default};
