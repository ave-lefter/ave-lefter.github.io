import{f as e,v as a,r as l,ah as t,aA as o,y as s,g as r,d1 as n,bN as i,K as d,o as u,Z as p,w as m,U as c,am as _,i as h,bd as g,J as f,b as v,be as x,a as y,t as k,op as w,c as b,F as V,D as $,N as C,H as T,d as N,e6 as j,_ as z,aB as A,j as F,Q as B,n as S,m as E,mI as U,aC as R,aV as W,a2 as H,aX as L,aY as K,aZ as O,a_ as q,B as P,s as G,C as I,a4 as D,aL as M,aF as Z,aG as J,bM as Q,aW as X,a0 as Y,aE as ee,bu as ae,G as le,ak as te,x as oe,p as se,oq as re,al as ne,or as ie,hc as de,aK as ue,T as pe,at as me,aO as ce,a5 as _e,a9 as he,gn as ge,aa as fe,a8 as ve,ar as xe}from"#entry";import{a as ye,E as ke}from"./vIWCTboT.js";import{_ as we}from"./DfAY0xaL.js";import{_ as be}from"./Y2pY9dTy.js";import{_ as Ve}from"./U3Xc_iuw.js";import{a as $e,E as Ce}from"./DMZvEsQv.js";import"./Div4Sb7D.js";import"./1bXUUYzG.js";import{S as Te}from"./BJUavsLo.js";import{u as Ne}from"./IIk7HJot.js";import{E as je}from"./BbcemesW.js";import{u as ze}from"./DWsaYBFQ.js";import"./C7V9UFRI.js";import"./CZIhrSUn.js";import"./DhoqPgLY.js";import"./5S8AQ56A.js";import"./BUyr3k23.js";import"./EyvYgUJ0.js";import"./DRNsqz_Z.js";import"./gem16Iaw.js";import"./DkMFijTu.js";import"./BKUk5EaV.js";import"./DZrW0QoB.js";import"./DYraDxUd.js";import"./4ZxzSbBH.js";import"./ByIPt4Po.js";import"./D1RQ0Ig2.js";import"./CNy_Z4Tk.js";import"./COH8ZT7G.js";import"./Ctabeo0j.js";import"./CXu7cHRZ.js";import"./B7E30Deu.js";import"./Fu97jcoq.js";import"./BX0BoC-D.js";import"./mPyuBLXM.js";const Ae={class:"flex justify-between items-center w-100%"},Fe={class:"font-500 text-12px lh-[120%] color-[--main-text]"},Be={class:"h-12px inline-flex items-center"},Se=["src"],Ee=["src"],Ue={class:"flex-between w-100%"},Re=z(e({__name:"addFavAddressPop",props:{width:{type:String,default:"248"},formData:{type:Object,required:!1,default:()=>({group_id:0,user_chain:{label:"SOL",value:"solana",id:"solana"}})},buttonRef:{type:Object,required:!0},title:{type:String,default:""}},emits:["onConfirm","onCancel"],setup(e,{expose:z,emit:A}){const{t:F}=a(),B=e,S=A,E=l(),{addressGroups:U}=t(o()),{lang:R,token_logo_url:W}=t(s()),H=l(),L=l({...B.formData}),K=l(!1),O=l(!1),q=l(""),P=(e,a,l)=>{""===a?l(new Error(F("cannotBeEmpty"))):j(a,L.value.user_chain?.id)?l():l(new Error(F("pleaseEnterCorrectAddress")))},G=(e,a,l)=>{L.value.address&&H.value?.validateField("address"),l()},I=r(()=>({user_chain:[{validator:G,trigger:"change"}],address:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("watchAddress")}${F("cannotBeEmpty")}`:`${F("watchAddress")} ${F("cannotBeEmpty")}`,trigger:["blur"]},{validator:P,trigger:"blur"}],group:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("walletGroup")}${F("cannotBeEmpty")}`:`${F("walletGroup")} ${F("cannotBeEmpty")}`,trigger:["blur","change"]}],remark:[{required:!0,message:"zh-cn"==R.value||"zh-tw"==R.value?`${F("remark")}${F("cannotBeEmpty")}`:`${F("remark")} ${F("cannotBeEmpty")}`,trigger:"blur"},{pattern:/^(?!.*[!@#$%^&*(),.?":{}|<>])(.{2,50})$/,message:F("remarkError"),trigger:["blur"]}]})),D=r(()=>n.map(e=>{const a=i(e);return{label:"solana"===e?"SOL":a.net_name.toUpperCase(),value:a.chain_id,id:a.net_name}}));function M(){O.value=!1}function Z(){S("onCancel"),H.value?.resetFields(),Q()}function J(){K.value=!1,q.value="",L.value={...B.formData}}function Q(){h(E)?.hide?.()}return z({close:Q}),(e,a)=>{const l=Ce,t=$e,o=x,s=C,r=T,n=g,i=p,j=_;return u(),d(i,{ref_key:"popoverRef",ref:E,width:B?.width,trigger:"click",placement:"bottom","virtual-ref":B.buttonRef,"virtual-triggering":"",title:B?.title,persistent:!1,"popper-style":"--el-popover-title-font-size:14px;--el-popover-title-text-color:var(--main-text)",onBeforeLeave:J},{default:m(()=>[c((u(),d(n,{ref_key:"formRef",ref:H,model:h(L),rules:h(I),onSubmit:a[4]||(a[4]=f(e=>{var a;(a=h(H))&&a.validate((e,a)=>{e&&(O.value=!0,S("onConfirm",L.value,H.value?.resetFields,M))})},["prevent","stop"]))},{default:m(()=>[v(o,{prop:"user_chain",required:"","label-position":"top",size:"large",class:"mb-13px!"},{default:m(()=>[y("div",Ae,[y("h4",Fe,k(e.$t("addWallet")),1),v(t,{modelValue:h(L).user_chain,"onUpdate:modelValue":a[0]||(a[0]=e=>h(L).user_chain=e),placeholder:h(F)("placeholderPrefix1")+h(F)("chain"),"value-key":"value",size:"small",style:{"--el-fill-color-blank":"var(--border)"},"suffix-icon":h(w),class:"w-70px!",teleported:!1,"popper-class":"w-103px"},{prefix:m(()=>[y("div",Be,[y("img",{src:`${h(W)}chain/${h(L).user_chain?.id}.png`,class:"rd-50%",width:"12",lazy:"",alt:""},null,8,Se)])]),default:m(()=>[(u(!0),b(V,null,$(h(D),e=>(u(),d(l,{key:e.value,label:e.label,value:e,class:"h-26px! flex! items-center! font-500! text-14px! lh-none!"},{default:m(()=>[y("img",{src:`${h(W)}chain/${e?.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Ee),y("span",null,k(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","placeholder","suffix-icon"])])]),_:1}),v(o,{prop:"address",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m(()=>[v(s,{modelValue:h(L).address,"onUpdate:modelValue":a[1]||(a[1]=e=>h(L).address=e),placeholder:h(F)("placeholderPrefix")+h(F)("walletAddress")},null,8,["modelValue","placeholder"])]),_:1}),v(o,{prop:"remark",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m(()=>[v(s,{modelValue:h(L).remark,"onUpdate:modelValue":a[2]||(a[2]=e=>h(L).remark=e),placeholder:h(F)("placeholderPrefix")+h(F)("remark")},null,8,["modelValue","placeholder"])]),_:1}),v(o,{prop:"group_id",required:"","label-position":"top",size:"large",class:"mb-20px!"},{default:m(()=>[v(t,{modelValue:h(L).group_id,"onUpdate:modelValue":a[3]||(a[3]=e=>h(L).group_id=e),placeholder:h(F)("placeholderPrefix1")+h(F)("addrGroup"),teleported:!1,style:{"--el-fill-color-blank":"var(--border)"}},{default:m(()=>[(u(),d(l,{key:0,value:0,label:e.$t("defaultGroup")},null,8,["label"])),(u(!0),b(V,null,$(h(U),e=>(u(),d(l,{key:e.group_id,label:e.name,value:e.group_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","placeholder"])]),_:1}),v(o,{class:"mb-0px!"},{default:m(()=>[y("div",Ue,[v(r,{class:"flex-1",onClick:f(Z,["stop","prevent"])},{default:m(()=>[N(k(e.$t("cancel")),1)]),_:1}),v(r,{type:"primary",class:"flex-1","native-type":"submit"},{default:m(()=>[N(k(e.$t("confirm")),1)]),_:1})])]),_:1})]),_:1},8,["model","rules"])),[[j,h(O)]])]),_:1},8,["width","virtual-ref","title"])}}}),[["__scopeId","data-v-ad26cc26"]]),We={class:"flex justify-between items-center gap-8px h-54px"},He={class:"text-12px m-table","element-loading-background":"transparent"},Le=["onClick"],Ke=["src"],Oe={class:"text-12px"},qe=["onClick"],Pe={key:2,class:"overflow-hidden whitespace-nowrap max-w-0 group-hover:max-w-[100px] transition-all duration-500 ease-in-out"},Ge={key:1,class:"flex items-center mr-4px cursor-not-allowed"},Ie=z(e({__name:"walletManage",props:{scrollHeight:{type:Number,default:500},isLarge:{type:Boolean,default:!1}},setup(e){const{t:g}=a(),x=A(),w=e,{mode:C,isDark:j,token_logo_url:z}=t(s()),Y=r(()=>[{label:g("allChain"),value:"AllChains",id:"allChains"},...n.map(e=>{const a=i(e);return{label:"solana"===e?"SOL":a.net_name.toUpperCase(),value:a.net_name,id:a.net_name}})]),ee=l(!1),ae=l(),le=l(),{selectGroupId:te,paginationParams:oe,user_chain:se,monitorList1:re}=t(Ne()),{currentAddress:ne,showBatchAddressDetails:ie,updateNum1:de,updateNum2:ue,updateNum3:pe,addressGroups:me}=t(o()),ce=F({group:te.value,activeTab:"7d",isMonitor:!1,user_chain:se.value,sort:"",sort_dir:"",keyword:"",last_tx_time_max:"",last_tx_time_min:"",last_trade_time:""}),_e=B(),he=l(!1),ge=l(!1),fe=r(()=>oe.value.loaded?g("loading"):oe.value.finished?g("noMore"):"");function ve(e,a,l){Q({address:_e.evmAddress,user_chain:e?.user_chain?.id,user_address:e.address,remark:e.remark,group:e.group_id,is_monitored:0}).then(()=>{a?.(),l?.(),le.value?.close?.(),oe.value={...U,pageSize:50},we(),ue.value++}).catch(e=>{})}S(()=>{_e.evmAddress&&(re.value.length>0||we())}),E(()=>de.value+pe.value,()=>{oe.value={...U,pageSize:50},we()});const xe=R(e=>{W({address:ne.value,user_chain:e.chain,user_address:e.user_address}).then(()=>{H.success(g("success")),we(),ue.value++}).catch(e=>{H.error(String(e))})},1e3),ye=R((e,a=0)=>{if(1===e.is_monitored){const{id:l,user_address:t}=e;return void(1===e.is_pause?L:K)({uid:l,address:t}).then(()=>{re.value[a].is_monitored=0===e.is_monitored?1:0,we(),ue.value++,H.success(g("success"))}).catch(e=>{H.error(String(e))})}{const{user_address:l,user_chain:t}=e;O({address:l,chain:t,user_address:_e.evmAddress}).then(()=>{re.value[a].is_monitored=0===e.is_monitored?1:0,we(),H.success(g("success")),ue.value++}).catch(e=>{H.error(String(e))})}},1e3);function ke(e){ge.value=e<=20,e<=20&&!oe.value.loaded&&!oe.value.finished&&we()}E([()=>ce],()=>{oe.value={...U,pageSize:50},we()},{deep:!0});const we=R(function(){if(1===oe.value.pageNO&&(he.value=!0),oe.value.loaded)return;oe.value.loaded=!0;const e=oe.value.pageNO,a=oe.value.pageSize;q({...ce,pageNO:e,pageSize:a}).then(l=>{const t=l?.data||[];Array.isArray(t)&&t?.length>0?(1===e?(re.value=t.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group})),he.value=!1):re.value=[...re.value].concat(t.filter?.(e=>re.value?.every?.(a=>a.index!==`${e.user_address}-${e.user_chain}`))?.map(e=>({...e,index:`${e.user_address}-${e.user_chain}`,group_id:ce.group}))),oe.value.finished=t?.length<a,oe.value.finished||oe.value.pageNO++):(1===e&&(re.value=[]),oe.value.finished=!0)}).finally(()=>{setTimeout(()=>{he.value=!1,oe.value.loaded=!1,ge.value=!1},200)})},500);const be=r(()=>[{title:g("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:g("addrGroup"),dataKey:"group",key:"group",minWidth:90,align:"right"},{title:g("chain"),dataKey:"chain",key:"chain",align:"right",minWidth:55},{title:g("operate"),dataKey:"operate",key:"operate",align:"right",minWidth:40}]);return(e,a)=>{const l=Ce,t=$e,o=I,s=T,r=Z,n=J,j=p,A=Ve,F=Re,B=_;return u(),b("div",null,[y("div",We,[v(t,{modelValue:h(te),"onUpdate:modelValue":a[0]||(a[0]=e=>G(te)?te.value=e:null),style:{"--el-fill-color-blank":"var(--dialog-list-hover)"},mode:h(C),onClick:a[1]||(a[1]=f(()=>{},["stop"])),onChange:a[2]||(a[2]=e=>function(e){ce.group=e}(e))},{default:m(()=>[(u(),d(l,{key:0,value:0,label:e.$t("defaultGroup"),class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b(V,null,$(h(me),e=>(u(),d(l,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"]))),128))]),_:1},8,["modelValue","mode"]),v(s,{ref_key:"addButtonRef",ref:ae,class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","font-size":"12px"}},{default:m(()=>[v(o,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(e.$t("addWallet")),1)]),_:1},512),v(s,{class:"dialog-button",style:{height:"32px",padding:"8px 10px !important","margin-left":"0px","font-size":"12px"},onClick:a[3]||(a[3]=f(e=>ie.value=!0,["stop","prevent"]))},{default:m(()=>[v(o,{name:"mingcute:new-folder-fill",class:"text-12px mr-5px"}),N(" "+k(e.$t("bulkImport")),1)]),_:1})]),c((u(),b("div",He,[v(A,{ref:"aveTableRef",rowKey:"index",fixed:"",data:h(re),showFooter:h(ge),footText:h(fe),columns:h(be),headerHeight:36,rowHeight:40,headerClass:"bg-transparent",style:D({height:w.scrollHeight-50+"px","--el-table-bg-color":"transparent",overflow:"visible",paddingBottom:h(ge)?"20px":"0px"}),"row-class":"cursor-pointer group",rowEventHandlers:{onClick:({rowData:e})=>{return a=e,void x.push({path:`/address/${a.user_address}/${a.user_chain}`});var a}},onEndReached:ke},{"header-wallet":m(()=>[y("span",null,k(e.$t("wallet")),1)]),"cell-wallet":m(({row:e})=>[(u(),d(r,{key:e.user_address+e.user_chain,class:"mr-10px",wallet_logo:e.wallet_logo,address:e.user_address,chain:e.user_chain,iconSize:"24px"},null,8,["wallet_logo","address","chain"])),y("div",null,[(u(),d(n,{key:e.user_address+e.user_chain,remark:e.remark,address:e.user_address,chain:e.user_chain,addressClass:"token-symbol ellipsis",addressStyle:"max-width: 60px;font-size: 14px;color:var(--main-text)",iconEditColor:"var(--third-text)",iconEditSize:"10px",showAddressTitle:""},null,8,["remark","address","chain"]))])]),"header-group":m(()=>[y("span",null,k(e.$t("addrGroup")),1)]),"cell-group":m(({row:o})=>[v(t,{modelValue:o.group_id,"onUpdate:modelValue":e=>o.group_id=e,size:"small","suffix-icon":Te,filterable:"","popper-class":"w-addrGroup",class:"[&&]:[--el-text-color-regular:--main-text] [&&]:[--el-fill-color-blank:--dialog-list-hover]",onClick:a[4]||(a[4]=f(()=>{},["stop"])),onChange:e=>(async(e,a)=>{oe.value={...U,pageSize:50},await X({user_chain:a.user_chain,user_address:a.user_address,group:e}),ue.value++,we()})(e,o)},{default:m(()=>[(u(),d(l,{key:0,value:0,label:e.$t("defaultGroup"),filterable:"",class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label"])),(u(!0),b(V,null,$(h(me),e=>(u(),d(l,{key:e.group_id,label:e.name,value:e.group_id,class:"[&&]:h-20px [&&]:lh-20px [&&]:text-12px"},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"])]),"header-chain":m(()=>[y("span",null,k(e.$t("chain")),1),v(j,{visible:h(ee),"onUpdate:visible":a[5]||(a[5]=e=>G(ee)?ee.value=e:null),"popper-style":"width: 133px;min-width: 133px;",trigger:"click"},{reference:m(()=>[v(o,{id:"custom-filter",name:"custom:filter",style:D({color:"AllChains"!==h(ce).user_chain?"var(--secondary-text)":"var(--third-text)"}),class:"text-10px cursor-pointer ml-2px"},null,8,["style"])]),default:m(()=>[y("ul",null,[(u(!0),b(V,null,$(h(Y),e=>(u(),b("li",{key:e.value,class:"rounded-2px hover:bg-[--dialog-list-hover] h-26px! flex! items-center! font-500! text-14px! lh-20px! clickable px-8px py-5px",onClick:f(a=>{h(ce).user_chain=e.value,se.value=e.value,ee.value=!1},["stop"])},["AllChains"==e.value?(u(),d(o,{key:0,name:"icon-park-outline:link-one",class:"text-15px mr-4px rd-50%"})):(u(),b("img",{key:1,src:`${h(z)}chain/${e?.id}.png`,class:"rd-50% mr-4px",width:"16",lazy:"",alt:""},null,8,Ke)),y("span",null,k(e.label),1)],8,Le))),128))])]),_:1},8,["visible"])]),"cell-chain":m(({row:a})=>[y("span",Oe,k(("getChainInfo"in e?e.getChainInfo:h(i))(a.user_chain).name),1)]),"header-operate":m(()=>[y("span",null,k(e.$t("operate")),1)]),"cell-operate":m(({row:l,rowIndex:t})=>[y("div",{class:"flex justify-end items-center",onClick:a[6]||(a[6]=f(()=>{},["stop"]))},[("SupportMonitorChain"in e?e.SupportMonitorChain:h(M)).includes(l?.user_chain)?(u(),b("div",{key:0,class:"flex items-center mr-4px cursor-pointer color-[--third-text]",onClick:f(e=>h(ye)(l,t),["stop","prevent"])},[1===l?.is_monitored?(u(),d(o,{key:0,name:"custom:monitor2-icon",class:"text-12px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})):(u(),d(o,{key:1,name:"custom:monitor-icon",class:"text-14px mr-2px color-[--third-text] group-hover:color-[--primary-color]"})),w.isLarge?(u(),b("span",Pe,k(1===l?.is_monitored?h(g)("pause"):h(g)("enable")),1)):P("",!0)],8,qe)):(u(),b("div",Ge,[v(o,{name:"custom:monitor-icon",class:"text-14px mr-2px color-[var(--d-666-l-CCC)]"})])),v(o,{name:"bx:bxs-trash-alt",class:"text-13px color-[--third-text]",onClick:f(e=>h(xe)(l),["stop","prevent"])},null,8,["onClick"])])]),_:1},8,["data","showFooter","footText","columns","style","rowEventHandlers"])])),[[B,h(he)]]),h(ae)?(u(),d(F,{key:0,ref_key:"addFavAddressPopRef",ref:le,buttonRef:h(ae),onOnConfirm:ve},null,8,["buttonRef"])):P("",!0)])}}}),[["__scopeId","data-v-620e40de"]]),De=e({__name:"quickBuyInput",props:{modelValue:{type:String,default:"0.01"},size:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=a,o=r({get:()=>l.modelValue,set(e){t("update:modelValue",e)}});function s(e){o.value=e.replace(/-|[^\d.]/g,"")}function n(){const e=new Y(o.value||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,4})?"))?.[0];String(o.value)!==String(e)&&(""===o.value?o.value="":0===Number(e)?o.value="0":o.value=e||"0")}return(a,l)=>{const t=I,r=C;return u(),d(r,{modelValue:h(o),"onUpdate:modelValue":l[0]||(l[0]=e=>G(o)?o.value=e:null),modelModifiers:{trim:!0},size:e.size,clearable:"",placeholder:"0",class:"[&&]:[--el-input-bg-color:--dialog-list-hover] [--el-component-size-small:22px] [&&]:[--el-input-width:88px] [--el-text-color-regular:--secondary-text] [--el-input-icon-color:--secondary-text] [--el-text-color-placeholder:--secondary-text] [--el-border-color:transparent]",onInput:s,onBlur:n},{prefix:m(()=>[v(t,{name:"mynaui:lightning-solid"})]),_:1},8,["modelValue","size"])}}}),Me=e({__name:"checkboxGroup",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]},inline:{type:Boolean,default:!1},all:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const t=e,o=r({get:()=>t.modelValue,set:e=>s("update:modelValue",e)}),s=a,n=l(!1),i=l(!0),p=e=>{o.value=e?t.options.map(e=>e.value):[],i.value=!1},c=e=>{if(!t.all)return;const a=e.length;n.value=a===t.options.length,i.value=a>0&&a<t.options.length};return(e,a)=>{const l=ee,s=ae;return u(),b(V,null,[t.options.length&&t.all?(u(),d(l,{key:0,modelValue:h(n),"onUpdate:modelValue":a[0]||(a[0]=e=>G(n)?n.value=e:null),indeterminate:h(i),disabled:h(n),onChange:p},{default:m(()=>[N(k(e.$t("all")),1)]),_:1},8,["modelValue","indeterminate","disabled"])):P("",!0),v(s,{modelValue:h(o),"onUpdate:modelValue":a[1]||(a[1]=e=>G(o)?o.value=e:null),min:1,class:le([t.inline?"flex flex-row":"flex flex-col"]),onChange:c},{default:m(()=>[(u(!0),b(V,null,$(t.options,e=>(u(),d(l,{key:e.value,label:e.label,value:e.value},{default:m(()=>[N(k(e.label),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","class"])],64)}}}),Ze=e({__name:"filterType",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:a}){const l=e,t=r({get:()=>l.modelValue,set:e=>o("update:modelValue",e)}),o=a;return(e,a)=>{const o=I,s=Me,r=je;return u(),d(r,{trigger:"click","popper-class":"w-filterType"},{dropdown:m(()=>[v(s,{modelValue:h(t),"onUpdate:modelValue":a[0]||(a[0]=e=>G(t)?t.value=e:null),options:l.options},null,8,["modelValue","options"])]),default:m(()=>[v(o,{id:"custom-filter",name:"custom:filter",class:"text-12px cursor-pointer color-[--secondary-text]"})]),_:1})}}}),Je={class:"text-12px mt-10px color-[--third-text]"},Qe={key:0,class:"text-12px m-table","element-loading-background":"transparent"},Xe={key:0},Ye={key:1},ea={class:"color-#FFA622"},aa={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},la={key:1,class:"text-12px m-table","element-loading-background":"transparent"},ta={class:"flex-between w-100%"},oa={class:"flex-start gap-8px"},sa={class:"flex flex-col w-100% gap-8px"},ra={class:"flex-between"},na={class:"flex-between"},ia={class:"flex-start gap-4px"},da={class:"color-[--third-text]"},ua={class:"color-[--main-text]"},pa={key:0,src:"https://www.iconaves.com/signals/pump_king.png",style:{width:"12px",height:"12px"}},ma={class:"color-[--third-text]"},ca={class:"color-[--main-text]"},_a={key:0},ha={key:1},ga={class:"color-#FFA622"},fa={class:"text-12px mt-10px"},va={class:"m-op flex-end gap-8px w-100% h-100%"},xa=z(e({__name:"index",props:{scrollHeight:{type:Number,default:0},isLarge:{type:Boolean,default:!1}},setup(e){const{t:n}=a(),{hasRing:i,monitorList2:p,visible:g,activeName:x,txType:w,isLeftFixed:$,isRightFixed:C}=t(Ne()),{updateNum3:j}=t(o()),{isDark:z,audioSettings:A}=t(s()),F=e,U=l([]),W=l(!1),H=B(),L=te(),K=l(null),O=l(!0),q=l(),M=l(!1),Z=l(),X=oe("quickBuyValue","0.01"),ee=r(()=>[{label:n("buy"),value:0},{label:n("sell"),value:1}]),ae=r(()=>({scrollHeight:F.scrollHeight}));function $e(e){1===e&&Ae()}function Ce(e,a,l){Q({address:H.evmAddress,user_chain:e?.user_chain?.id,user_address:e?.address,remark:e?.remark,group:e?.group_id,is_monitored:0}).then(()=>{a?.(),l?.(),Z.value?.close?.(),j.value++}).catch(e=>{})}S(async()=>{se(()=>{}),Fe()}),ze(()=>{H.bot_subscribe(),g.value&&1===x.value&&Ae()}),E(()=>w.value,e=>{const a=[];e.includes(0)&&a.push("buy"),e.includes(1)&&a.push("sell"),re(a).then(()=>{Be()})}),E(()=>g.value,e=>{e&&1===x.value&&(Ae(),se(()=>{!O.value&&K.value&&K.value.scrollToTop(0),O.value=!1}))});const Te=r(()=>F.isLarge?[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:125},{title:n("type"),dataKey:"type",key:"type",minWidth:110,align:"right"},{title:n("value"),dataKey:"amount",key:"amount",align:"right",minWidth:80},{title:n("token"),dataKey:"symbol",key:"symbol",align:"right",minWidth:150},{title:n("mcap"),dataKey:"mc",key:"mc",align:"right",minWidth:70},{title:n("time"),dataKey:"time",key:"time",align:"right",minWidth:40},{title:"",dataKey:"operate",key:"operate",align:"right",minWidth:100}]:[{title:n("wallet"),dataKey:"wallet",key:"wallet",align:"left",minWidth:240}]);E(()=>L.wsResult[ne.MONITOR],e=>{je(e),g.value&&1===x.value&&Ae()});const je=e=>{if(e?.length>0){const a=p?.value||[],l=[...e?.filter?.(e=>!a.some(a=>a.id===e.id))?.map?.(e=>({...e,...Ue(e)}))||[],...a];l.length>200&&l?.splice?.(100),p.value.splice(0,p.value?.length,...l)}},Ae=R(function(){g.value&&1===x.value&&U.value.splice(0,U.value?.length,...p.value)},500);function Fe(){Be()}function Be(){if(!H.evmAddress)return;W.value=!0;let e="";w.value.length!==ee.value.length&&(e=w.value.join(",")),ie(e?{filtered_type:e}:{}).then(e=>{let a=e||e?.data||[];const l=[],t={};a=Array.isArray(a)?a:[],a?.forEach?.(e=>{const a=JSON.parse(e.msg_content);t[a.id]||(l.push({...a,...Ue(a)}),t[a.id]=!0)}),p.value=l.filter(e=>w.value.includes(e.tx_type)),Ae()}).catch(e=>{}).finally(()=>{W.value=!1})}function Se(e){return void 0!==e.position_type?0===e.position_type||1===e.position_type:0===e.tx_type}function Ee(e){if(void 0!==e.position_type){const a=[n("createPosition"),n("addPosition"),n("reducePosition"),n("closePosition")];return a?.[Number(e?.position_type)]||""}{const a=[n("buy"),n("sell")];return a?.[Number(e.tx_type)]||""}}E(()=>H.evmAddress,e=>{e?Fe():U.value=[]});const Ue=function(e){const a=Se(e),l={...e,_marker:{maker_address:e?.maker_address||e?.wallet_address,maker_alias:e?.maker_alias,maker_logo:e?.maker_logo,maker_tags:e?.maker_tags,isBuy:a},_profit:"--"==e?.pnl_usd?"--":"$"+ue(Math.abs(e?.pnl_usd||0)||0,2),_profit_ratio:"--"==e?.pnl_usd?"--":ue(100*(e?.pnl_ratio||0)||0,2,4,4)+"%",_mc:Number(e?.target_mcap)?"$"+de(e?.target_mcap||0,{decimals:0,limit:3}):"--",_type:Ee(e),_rise:"--"==e?.pnl_usd||e?.pnl_usd>=0};return l._main_Token={amount:ue(e[a?"from_amount":"to_amount"]||0,1),price:"$"+ue(e[a?"from_price_usd":"to_price_usd"]||0),symbol:e[a?"from_symbol":"to_symbol"],total:"$"+ue(new Y(e[a?"from_amount":"to_amount"]||0).times(e[a?"from_price_usd":"to_price_usd"]||0).toFixed(0)||0,2,4,4),address:e[a?"from_address":"to_address"],tags:e[a?"from_tags":"to_tags"],signals:e[a?"from_signals":"to_signals"]},l._target_Token={amount:ue(e[a?"to_amount":"from_amount"]||0,1),price:"$"+ue(e[a?"to_price_usd":"from_price_usd"]||0),total:"",symbol:e[a?"to_symbol":"from_symbol"],address:e[a?"to_address":"from_address"],tags:e[a?"to_tags":"from_tags"],signals:e[a?"to_signals":"from_signals"],logo_url:e[a?"to_logo":"from_logo"]},l};function We(e,a){a&&a.stopPropagation();const l=e?.chain||"eth",t=e?._marker?.maker_address||e?.wallet_address;t&&xe(`/address/${t}/${l}`)}function He({e:e,rowData:a}){e&&e.stopPropagation();const l=a?._target_Token?.address+"-"+a.chain;xe(`/token/${l}`,{replace:!0})}return(a,l)=>{const t=I,o=T,s=ce,r=ye,n=J,i=we,p=fe,j=_e,B=be,S=Ve,E=ke,R=Re,L=pe("tooltip"),O=_;return u(),b("div",{class:le(["w-monitor bg-[--secondary-bg] w-100% h-100% pl-12px pr-6px relative overflow-hidden",{"pr-10px!":h($),"pl-10px!":h(C)}])},[v(t,{name:"custom:drag2",class:"absolute top-3px left-50% ml--6px text-6px bg-[--dialog-list-hover] drag-handle"}),v(E,{modelValue:h(x),"onUpdate:modelValue":l[12]||(l[12]=e=>G(x)?x.value=e:null),style:{},class:"m-tabs",onTabChange:$e},{default:m(()=>[v(r,{label:a.$t("walletManage"),name:0,lazy:""},{default:m(()=>[h(H).evmAddress?(u(),d(Ie,me({key:0},h(ae),{isLarge:F.isLarge}),null,16,["isLarge"])):(u(),d(s,{key:1,style:D({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m(()=>[y("span",Je,k(a.$t("noBotWalletTip")),1),v(o,{type:"primary",class:"mt-10px",onClick:l[0]||(l[0]=e=>h(H).$patch({connectVisible:!0}))},{default:m(()=>[N(k(a.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),v(r,{label:a.$t("monitored"),name:1,lazy:""},{default:m(()=>[h(H).evmAddress?(u(),b(V,{key:0},[F.isLarge?c((u(),b("div",Qe,[v(S,{ref_key:"aveTableRef",ref:K,rowKey:"id",data:h(U),columns:h(Te),fixed:"",style:D({height:F.scrollHeight+"px"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>He(e)}},{"header-wallet":m(()=>[y("span",null,k(a.$t("wallet")),1)]),"cell-wallet":m(({row:e})=>[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>e?.slice(0,4)+"..."+e?.slice(-4),onUpdateRemark:Be,onClick:a=>We(e,a)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"]))]),"header-type":m(()=>[y("span",null,k(a.$t("type")),1)]),"cell-type":m(({row:e})=>[v(i,{type:e._marker.isBuy?"success":"danger"},{default:m(()=>[N(k(Ee(e)),1)]),_:2},1032,["type"])]),"header-amount":m(()=>[y("span",null,k(a.$t("value")),1)]),"cell-amount":m(({row:e})=>[y("span",{class:le(Se(e)?"color-[--up-color]":"color-[--down-color]}")},k(h(M)?e?._main_Token.total:e?._main_Token?.amount+e?._main_Token?.symbol),3)]),"header-mc":m(()=>[y("span",null,k(h(M)?a.$t("price"):a.$t("mcap")),1)]),"cell-mc":m(({row:e})=>[y("span",null,k(h(M)?e?._target_Token?.price:e?._mc),1)]),"header-time":m(()=>[y("span",null,k(a.$t("time")),1)]),"cell-time":m(({row:e})=>[c((u(),b("div",{class:"time",style:D({color:Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))<=600?"#FFA622":"#12B886"})},[e?.created_at||e?.time?Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))>=60?(u(),b("span",Ye,k(("formatCountdown"in a?a.formatCountdown:h(ge))(1e3*Number(e?.created_at)||1e3*Number(e?.time),!1)),1)):(e?.created_at||e?.time)&&Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m(({seconds:l})=>[y("span",ea,[l<60?(u(),b(V,{key:0},[N(k(l)+"s ",1)],64)):(u(),b(V,{key:1},[N(k(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e.created_at)),1)],64))])]),_:2},1032,["timestamp"])):P("",!0):(u(),b("span",Xe,"-"))],4)),[[L,("formatDate"in a?a.formatDate:h(ve))(e?.created_at||e?.time)]])]),"header-symbol":m(()=>[y("span",null,k(a.$t("token")),1)]),"cell-symbol":m(({row:e})=>[v(j,{row:{logo_url:e?._target_Token?.logo_url,chain:e?.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",null,k(e?._target_Token?.symbol),1),"pump"==e?.amm?(u(),b("img",aa)):P("",!0)]),"header-operate":m(()=>[...l[13]||(l[13]=[y("span",null,null,-1)])]),"cell-operate":m(({row:e})=>[v(B,{quickBuyValue:h(X),row:{...e,target_token:e?.target_address,token0_address:e?.from_address,token1_address:e?.to_address,symbol:e?._target_Token?.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),_:1},8,["data","columns","style","rowEventHandlers"])])),[[O,h(W)]]):c((u(),b("div",la,[v(S,{ref_key:"aveTableRef",ref:K,rowKey:"id",fixed:"",data:h(U),columns:h(Te),headerHeight:54,rowHeight:70,headerClass:"bg-transparent",style:D({height:F.scrollHeight+"px","--el-table-border":"1px solid #333"}),"row-class":"cursor-pointer",rowEventHandlers:{onClick:e=>He(e)}},{"header-wallet":m(()=>[y("div",ta,[y("div",oa,[v(Ze,{modelValue:h(w),"onUpdate:modelValue":l[1]||(l[1]=e=>G(w)?w.value=e:null),options:h(ee)},null,8,["modelValue","options"]),v(t,{name:h(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer text-16px color-[--secondary-text]",onClick:l[2]||(l[2]=e=>h(A).active="audio")},null,8,["name"]),v(i,{size:"small",class:"cursor-pointer w-55px",onClick:l[3]||(l[3]=e=>M.value=!h(M))},{default:m(()=>[N(k(h(M)?"C/MC":"U/Pri"),1),v(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})]),v(De,{modelValue:h(X),"onUpdate:modelValue":l[4]||(l[4]=e=>G(X)?X.value=e:null),size:"small"},null,8,["modelValue"])])]),"cell-wallet":m(({row:e})=>[y("div",sa,[y("div",ra,[(u(),d(n,{key:e._marker.maker_address,address:e._marker.maker_address,chain:e.chain,remark:e.maker_alias||"",showIcon:!0,teleported:!0,wallet_logo:e.maker_logo?{logo:e.maker_logo,vip_logo:"https://www.iconaves.com/address_portrait/KOL_V.png"}:{},iconSize:"24px",formatAddress:e=>e?.slice(0,4)+"..."+e?.slice(-4),onUpdateRemark:Be,onClick:a=>We(e,a)},null,8,["address","chain","remark","wallet_logo","formatAddress","onClick"])),v(B,{quickBuyValue:h(X),row:{...e,target_token:e?.target_address,token0_address:e?.from_address,token1_address:e?.to_address,symbol:e?._target_Token?.symbol},classNames:"min-w-70px h-24px!",mainNameVisible:""},null,8,["quickBuyValue","row"])]),y("div",na,[y("div",ia,[y("div",da,k(Ee(e)),1),y("span",{class:le(Se(e)?"color-[--up-color]":"color-[--down-color]")},k(h(M)?e?._main_Token.total:e?._main_Token?.amount+e?._main_Token?.symbol),3),v(j,{row:{logo_url:e?._target_Token?.logo_url,chain:e?.chain},"token-class":"w-16px h-16px [&&]:mr-4px"},null,8,["row"]),y("span",ua,k(e?._target_Token?.symbol),1),"pump"==e?.amm?(u(),b("img",pa)):P("",!0),y("span",ma,k(h(M)?a.$t("price"):a.$t("mcap")),1),y("span",ca,k(h(M)?e?._target_Token?.price:e?._mc),1)]),c((u(),b("div",{class:"time",style:D({color:Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))<=600?"#FFA622":"#12B886"})},[e?.created_at||e?.time?Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))>=60?(u(),b("span",ha,k(("formatCountdown"in a?a.formatCountdown:h(ge))(1e3*Number(e?.created_at)||1e3*Number(e?.time),!1)),1)):(e?.created_at||e?.time)&&Number(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e?.created_at||e?.time,!0))<60?(u(),d(p,{key:`${e.created_at}`,timestamp:e.created_at,"end-time":60},{default:m(({seconds:l})=>[y("span",ga,[l<60?(u(),b(V,{key:0},[N(k(l)+"s ",1)],64)):(u(),b(V,{key:1},[N(k(("formatTimeFromNow"in a?a.formatTimeFromNow:h(he))(e.created_at)),1)],64))])]),_:2},1032,["timestamp"])):P("",!0):(u(),b("span",_a,"-"))],4)),[[L,("formatDate"in a?a.formatDate:h(ve))(e?.created_at||e?.time)]])])])]),_:1},8,["data","columns","style","rowEventHandlers"])])),[[O,h(W)]])],64)):(u(),d(s,{key:1,style:D({height:F.scrollHeight-50+"px"}),class:"overflow-hidden"},{default:m(()=>[y("span",fa,k(a.$t("noBotWalletTip")),1),v(o,{class:"mt-10px",onClick:l[5]||(l[5]=e=>h(H).$patch({connectVisible:!0}))},{default:m(()=>[N(k(a.$t("connectWallet")),1)]),_:1})]),_:1},8,["style"]))]),_:1},8,["label"]),v(r,{disabled:""},{label:m(()=>[...l[14]||(l[14]=[y("div",{class:"cursor-move w-100% h-100% drag-handle"},null,-1)])]),_:1}),v(r,{disabled:""},{label:m(()=>[y("div",va,[1===h(x)&&F.isLarge?(u(),b(V,{key:0},[v(Ze,{modelValue:h(w),"onUpdate:modelValue":l[6]||(l[6]=e=>G(w)?w.value=e:null),options:h(ee)},null,8,["modelValue","options"]),v(t,{name:h(A).audio.monitor?"custom:ad":"custom:admute",class:"cursor-pointer color-[--secondary-text]",onClick:l[7]||(l[7]=e=>h(A).active="audio")},null,8,["name"]),v(i,{size:"small",class:"cursor-pointer w-55px",onClick:l[8]||(l[8]=e=>M.value=!h(M))},{default:m(()=>[N(k(h(M)?"C/MC":"U/Pri"),1),v(t,{name:"lsicon:switch-filled",class:"ml-4px text-12px"})]),_:1})],64)):P("",!0),1===h(x)&&h(H).evmAddress?(u(),d(o,{key:1,ref:e=>q.value=e,size:"small",style:{height:"20px"},class:"dialog-button",dark:h(z)},{default:m(()=>[v(t,{name:"ic:baseline-person-add-alt-1",class:"text-12px mr-5px"}),N(" "+k(a.$t("addWallet")),1)]),_:1},8,["dark"])):P("",!0),1===h(x)&&e.isLarge?(u(),d(De,{key:2,modelValue:h(X),"onUpdate:modelValue":l[9]||(l[9]=e=>G(X)?X.value=e:null),size:"small"},null,8,["modelValue"])):P("",!0),v(t,{class:"text-14px color-[--secondary-text] hover:color-[--main-text] cursor-pointer",name:"custom:pump-setting",onClick:l[10]||(l[10]=f(e=>("navigateTo"in a?a.navigateTo:h(xe))("/follow/addr",{replace:!0}),["stop","prevent"]))}),v(t,{name:"custom:close",class:"text-14px shrink-0 cursor-pointer color-[--main-text]",onClick:l[11]||(l[11]=f(e=>g.value=!1,["self"]))})])]),_:1})]),_:1},8,["modelValue"]),h(q)?(u(),d(R,{key:0,ref_key:"addFavAddressPopRef",ref:Z,buttonRef:h(q),onOnConfirm:Ce},null,8,["buttonRef"])):P("",!0)],2)}}}),[["__scopeId","data-v-18af3998"]]);export{xa as default};
