import{f as e,l as a,ah as t,y as n,z as l,v as s,aB as r,Q as o,I as i,r as c,T as p,c as d,o as x,U as m,b as u,am as f,K as h,w as b,F as v,d as g,t as y,C as w,J as k,a as C,B as $,i as I,dM as _,bN as B,$ as T,aO as R,G as N,s as A,E as j,D,Z as M,aT as U,dL as E,a2 as F,bF as S,a0 as V,_ as W}from"#entry";import{E as q,a as z}from"./CXu7cHRZ.js";import"./Div4Sb7D.js";import"./1bXUUYzG.js";import{c as O}from"./C3cAJUEQ.js";import Q from"./B6g85BPi.js";import"./EyvYgUJ0.js";const G={key:0,class:"table-empty"},J={key:1},K={key:1,class:"flex-start"},L=["src"],Z={key:0,class:"border-solid border-0.5px border-#286dff color-#286dff rounded-4px text-10px px-4px py-1px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px ml-10px line-height-15px"},H=["onMouseenter"],P={key:0,class:"mr-5px"},X={key:1,class:"bg-[--primary-color] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},Y={key:2,class:"bg-[--signal-green] rounded-4px text-10px px-4px py-3px overflow-hidden text-ellipsis whitespace-nowrap max-w-100px line-height-19px height-19px"},ee=["onClick"],ae={class:"font-500 text-12px"},te={key:2},ne={class:"flex-between"},le={class:"text-24px"},se={class:"w-480px flex flex-col items-center justify-center mb-20px"},re={class:"text-14px color-[--secondary-text] mt-26px"},oe={class:"color-[--primary-color] mr-4px text-17px"},ie={class:"mt-26px color-[--main-text] text-14px block"},ce={class:"px-10px py-10px text-14px"},pe={class:"color-[var(--third-text)] text-left text-12px"},de={class:"color-[var(--main-text)] text-left pl-5px"},xe={key:1},me={class:"color-[var(--third-text)] text-left text-12px"},ue={class:"color-[var(--main-text)] text-left pl-5px"},fe={class:"color-[var(--main-text)] text-left pl-5px"},he={class:"color-[var(--main-text)] text-left pl-5px"},be=W(e({__name:"list",props:{tableData:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["refresh","getMultiWalletsAllChain"],setup(e,{emit:W}){const be=a()?.parent,ve=be?.exposed?.getMultiWalletsAllChain,ge=W,{token_logo_url:ye,mode:we}=t(n()),{theme:ke}=t(l()),{t:Ce}=s(),$e=r(),{evmAddress:Ie}=t(o()),_e=i(!1),Be=c(null),Te=i(!1),Re=i(0),Ne=c(null),Ae=c({buttonRefs:{},currentBtnRef:{}});function je(e){U.confirm(Ce("walletRemoveTip2"),Ce("walletRemove"),{type:"warning",icon:E,confirmButtonText:Ce("confirm"),cancelButtonText:Ce("cancel"),customClass:`${we.value} delete_confirm`}).then(()=>{const a=e.balancesInfo?.filter(e=>"bsc"==e.chain)?.[0]?.address||"";O(a).then(()=>{F.success(Ce("success")),ge("refresh")})}).catch(e=>{})}function De(e){Be.value=e,_e.value=!0,setTimeout(()=>{!async function(){const e=document.getElementById("qr-chain-canvas-code");if(!e)return;S.toCanvas({canvas:e,content:Be.value?.address||"",width:200,nodeQrCodeOptions:{margin:2},logo:{src:`${ye.value}chain/${Be.value?.chain||"bsc"}.png`,logoRadius:8}}).catch(e=>{})}()},200)}function Me(e){if(e.isChildren){const a=$e.resolve({path:`/address/${e.address}/${e.chain}`});window.open(a.href,"_blank")}}const Ue=({row:e})=>e.isChildren?"cursor-pointer":"";return(a,t)=>{const n=R,l=w,s=q,r=z,o=j,i=M,c=p("copy"),F=f;return x(),d("div",null,[m((x(),h(r,{data:e.tableData,style:{width:"100%"},"row-key":"id","tree-props":{children:"balancesInfo",hasChildren:"hasChildren"},"default-expand-all":"",class:"table-list hidden-scrollbar bot-manage-table","header-row-class-name":"text-12px sticky top-0 z-10 font-500","row-class-name":Ue,onRowClick:Me},{empty:b(()=>[e.loading||0!=e.tableData?.length?(x(),d("span",J)):(x(),d("div",G,[u(n)]))]),default:b(()=>[u(s,{prop:"name",label:"钱包","min-width":200},{default:b(({row:e})=>[e.isChildren?(x(),d(v,{key:0},[g(y(e.name?.replace?.(new RegExp("(.{6})(.+)(.{4})"),"$1...$3"))+" ",1),m(u(l,{name:"bxs:copy",class:"ml-5px mb--1px clickable color-[--third-text]",onClick:t[0]||(t[0]=k(()=>{},["stop"]))},null,512),[[c,e.address]])],64)):(x(),d("div",K,[C("img",{class:"mr-8px",style:{"border-radius":"50%"},height:"24",src:("generateAvatarIcon"in a?a.generateAvatarIcon:I(_))(e?.name||""),alt:""},null,8,L),g(" "+y(e.name)+" ",1),u(Q,{remark:e.remark,address:e.evmAddress,chain:"bsc",showAddress:!0,onRefresh:t[1]||(t[1]=e=>ge("refresh"))},null,8,["remark","address"]),I(Ie)==e.evmAddress?(x(),d("span",Z,y(a.$t("currentWallet")),1)):$("",!0)]))]),_:1}),u(s,{prop:"chain",label:a.$t("chain"),align:"right"},{default:b(({row:e})=>[g(y(("getChainInfo"in a?a.getChainInfo:I(B))(e?.chain)?.name),1)]),_:1},8,["label"]),u(s,{prop:"balance",label:a.$t("balance1"),align:"right"},{default:b(({row:e,$index:n})=>[C("div",{ref:e=>I(Ae).currentBtnRef[n]=e,onMouseenter:a=>function(e,a){Te.value=!0,Re.value=a,Ne.value={...e},Ne.value?.balancesInfo&&(Ne.value.balancesInfo=Ne.value?.balancesInfo?.reduce((e,a)=>{if(["eth","base"].includes(a.chain)){const t=e.find(e=>"eth"===e.chain);t?t.mainTokenBalance=new V(t.mainTokenBalance).plus(a.mainTokenBalance).toFixed():e.push({...a,chain:"eth"})}else e.push(a);return e},[]))}(e,n),onMouseleave:t[2]||(t[2]=e=>Te.value=!1)}," $"+y(("formatNumber"in a?a.formatNumber:I(T))(e?.balance||0,2)),41,H)]),_:1},8,["label"]),u(s,{prop:"source",label:a.$t("origin"),align:"right"},{default:b(({row:e})=>[e?.isChildren?$("",!0):(x(),d(v,{key:0},[e.source?(x(),d("span",P,y(e.source),1)):$("",!0),1==e.genSource?(x(),d("span",X,y(a.$t("import")),1)):(x(),d("span",Y,y(a.$t("create")),1))],64))]),_:1},8,["label"]),u(s,{label:a.$t("operate"),align:"right"},{default:b(({row:e})=>["delete"==e.operate&&I(Ie)!==e.evmAddress?(x(),h(l,{key:0,class:"text-14px text-[--third-text] cursor-pointer hover:color-[--main-text]",name:"ic:baseline-delete",onClick:k(a=>async function(e){ve&&(await ve(),Number(e?.balance)>0?U.confirm(Ce("walletRemoveTip1"),Ce("walletRemove"),{type:"warning",icon:E,confirmButtonText:Ce("confirm"),cancelButtonText:Ce("cancel"),customClass:`${we.value} delete_confirm`}).then(()=>{je(e)}):je(e))}(e),["stop","prevent"])},null,8,["onClick"])):e?.isChildren?(x(),d("div",{key:1,class:"bg-[--main-input-button-bg] rounded-4px inline-flex items-center gap-4px py-2px px-4px cursor-pointer",onClick:k(a=>De(e),["stop","prevent"])},[u(l,{name:"custom:download",class:"text-10px"}),C("span",ae,y(I(Ce)("deposit2")),1)],8,ee)):(x(),d("span",te))]),_:1},8,["label"])]),_:1},8,["data"])),[[F,e.loading]]),u(o,{modelValue:I(_e),"onUpdate:modelValue":t[4]||(t[4]=e=>A(_e)?_e.value=e:null),width:"500",class:N([I(ke)]),"append-to-body":"","close-on-click-modal":!1,"popper-style":{padding:"20px","border-radius":"8px"},"show-close":!1},{header:b(()=>[C("div",ne,[C("span",le,y(a.$t("deposit2")),1),u(l,{name:"material-symbols-light:close",class:"text-30px cursor-pointer",onClick:t[3]||(t[3]=k(e=>_e.value=!1,["stop","prevent"]))})])]),default:b(()=>[C("div",se,[t[6]||(t[6]=C("canvas",{id:"qr-chain-canvas-code"},null,-1)),C("div",re,[C("span",oe,y(("getChainInfo"in a?a.getChainInfo:I(B))(I(Be)?.chain||"")?.name),1),g(y(a.$t("walletAddress")),1)]),C("span",ie,y(I(Be)?.address),1)])]),_:1},8,["modelValue","class"]),u(i,{visible:I(Te),"onUpdate:visible":t[5]||(t[5]=e=>A(Te)?Te.value=e:null),"virtual-ref":I(Ae).currentBtnRef[I(Re)],"virtual-triggering":"",trigger:"contextmenu",placement:"right","popper-class":"text-center","popper-style":{padding:0,"border-radius":"8px"}},{default:b(()=>[C("table",ce,[C("tbody",null,[I(Ne)?.balancesInfo?(x(!0),d(v,{key:0},D(I(Ne)?.balancesInfo,(e,t)=>(x(),d("tr",{key:t},[C("td",pe,y(("getChainInfo"in a?a.getChainInfo:I(B))(e?.chain||"")?.main_name),1),C("td",de,y(("formatNumber"in a?a.formatNumber:I(T))(e?.mainTokenBalance||0,2)),1)]))),128)):(x(),d("tr",xe,[C("td",me,y(("getChainInfo"in a?a.getChainInfo:I(B))(I(Ne)?.chain||"")?.main_name||a.$t("mainToken")),1),C("td",ue,y(("formatNumber"in a?a.formatNumber:I(T))(I(Ne)?.mainTokenBalance||0,2)),1)])),C("tr",null,[t[7]||(t[7]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDT",-1)),C("td",fe,y(("formatNumber"in a?a.formatNumber:I(T))(I(Ne)?.usdtTokenBalance||0,2)),1)]),C("tr",null,[t[8]||(t[8]=C("td",{class:"color-[var(--third-text)] text-left text-12px"},"USDC",-1)),C("td",he,y(("formatNumber"in a?a.formatNumber:I(T))(I(Ne)?.usdcTokenBalance||0,2)),1)])])])]),_:1},8,["visible","virtual-ref"])])}}}),[["__scopeId","data-v-309391d8"]]);export{be as default};
