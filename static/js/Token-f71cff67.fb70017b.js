(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Token-f71cff67"],{"0035":function(e,t,i){},"0563":function(e,t,i){"use strict";var o=i("7a23");const s={key:0,class:"count"},r={class:"block"},a={class:"block"},n={class:"block"},l={class:"block"},c={key:1,class:"risk"};function d(e,t,i,d,u,_){const h=Object(o["resolveComponent"])("count-down"),m=Object(o["resolveComponent"])("Warning"),b=Object(o["resolveComponent"])("el-icon");return this.$store.state.tokenPrice||this.tokenInfo.priceUSD?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[u.showTime&&_.time>0?(Object(o["openBlock"])(),Object(o["createBlock"])(h,{key:0,class:"count-down mt-8",time:_.time,format:"DD:HH:mm:ss",onFinish:_.finishTime},{default:Object(o["withCtx"])(i=>[Object(o["createElementVNode"])("span",r,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.days<10?"0"+i.days:i.days)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("DD")),1)]),t[0]||(t[0]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",a,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.hours<10?"0"+i.hours:i.hours)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("HH")),1)]),t[1]||(t[1]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",n,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.minutes<10?"0"+i.minutes:i.minutes)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("MM")),1)]),t[2]||(t[2]=Object(o["createElementVNode"])("span",{class:"colon"},":",-1)),Object(o["createElementVNode"])("span",l,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(i.seconds<10?"0"+i.seconds:i.seconds)+" ",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("SS")),1)])]),_:1},8,["time","onFinish"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(b,{class:"no-inherit",style:{color:"rgb(248, 190, 70)"}},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1}),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("unknownRisk")),1)]))]))}var u=i("cdc2"),_={data(){return{visible1:!1,activeGroup:0,showTime:!0}},emits:["init"],components:{CountDown:u["a"]},computed:{tokenInfo(){return this.$store.state.tokenInfo},time(){return this.$store.state.tokenInfo.countDown}},methods:{finishTime(){this.showTime=!1,this.$store.dispatch("getToken"),this.$emit("init")}}},h=(i("1e23"),i("6b0d")),m=i.n(h);const b=m()(_,[["render",d],["__scopeId","data-v-29d28493"]]);t["a"]=b},"09aa":function(e,t,i){"use strict";i("aa0a")},"0aab":function(e,t,i){},"0d8f":function(e,t,i){"use strict";i("9dea")},"18d4":function(e,t,i){e.exports=i.p+"static/img/pause.2a269b04.svg"},"191a":function(e,t,i){},"1b05":function(e,t,i){},"1e23":function(e,t,i){"use strict";i("c000")},2499:function(e,t,i){"use strict";var o=i("7a23");const s={class:"table"},r={class:"table-list"},a={class:"table-item table-header"},n={class:"table-item-d"},l={class:"table-item-d"},c={class:"table-item-d"},d=["onClick"],u={class:"table-item-d"},_={class:"table-item-d_row"},h={class:"table-item-d_row"},m={class:"table-item-d"},b={class:"table-item-d"},p={class:"table-item-d_row"},g={class:"unit"},v={class:"table-item-d_row"},f={class:"unit"},k={class:"table-item-d"},O={class:"table-item-d_row white"},j={class:"table-item-d_row"};function y(e,t,i,y,w,$){const E=Object(o["resolveComponent"])("loading"),D=Object(o["resolveComponent"])("el-empty");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createVNode"])(E,{active:$.isLoading,"onUpdate:active":t[0]||(t[0]=e=>$.isLoading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createElementVNode"])("ul",r,[Object(o["createElementVNode"])("li",a,[Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$t("type")),1),Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("amount"))+"/"+Object(o["toDisplayString"])(e.$t("token")),1),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(e.$t("provider")),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tableList,(t,i)=>{var s;return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"table-item",key:i,onClick:Object(o["withModifiers"])(e=>$.goLink(t),["stop"])},[Object(o["createElementVNode"])("div",u,[Object(o["createElementVNode"])("div",_,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(1==t.type?e.$t("add"):e.$t("remove")),3)]),Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("span",m,Object(o["toDisplayString"])(e.$f.formatDate(t.timestamp,"HH:mm:ss")),1)])]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount0||0,2,4,1e4)),3),Object(o["createElementVNode"])("span",g,Object(o["toDisplayString"])(t.token0Symbol),1)]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])({add:1===t.type,remove:0===t.type})},Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount1||0,2,4,1e4)),3),Object(o["createElementVNode"])("span",f,Object(o["toDisplayString"])(t.token1Symbol),1)])]),Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",O," $"+Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount0*t.token0_price_usd+t.amount1*t.token1_price_usd||0,2,4,1e4)),1),Object(o["createElementVNode"])("div",j,"*"+Object(o["toDisplayString"])(null===(s=t.wallet_address)||void 0===s?void 0:s.slice(-6)),1)])],8,d)}),128)),Object(o["withDirectives"])(Object(o["createVNode"])(D,{"image-size":100,image:"light"===e.$store.state.mode?w.imageEmptyWhite:w.imageEmptyBlack},null,8,["image"]),[[o["vShow"],i.tableList&&0===i.tableList.length&&!$.isLoading]])])])}var w=i("fa7d"),$=i("b28f"),E=i.n($),D=i("fab6"),C=i.n(D),N={name:"LiquidityHistory",props:{tableList:Array,loading:{type:Boolean,default:!1}},data(){return{imageEmptyWhite:E.a,imageEmptyBlack:C.a}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(w["j"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},isLoading(){return this.loading}},methods:{goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))}}},M=(i("0d8f"),i("6b0d")),S=i.n(M);const P=S()(N,[["render",y],["__scopeId","data-v-56ed3e16"]]);t["a"]=P},2895:function(e,t,i){"use strict";i.d(t,"c",(function(){return n})),i.d(t,"b",(function(){return u})),i.d(t,"a",(function(){return _}));var o=i("901e"),s=i.n(o);function r(e,t=3,i=1e9,o){let s=Number(e)||0,r="";s<0&&(r="-",s=-s);const a=o||localStorage.getItem("language");if("zh-cn"===a){if(s>=10**28)return Number(s).toPrecision(t+1);if(s>=10**24&&s>=i)return s/=10**24,r+c(l(s,t))+"亿亿亿";if(s>=10**20&&s>=i)return s/=10**20,r+c(l(s,t))+"万亿亿";if(s>=10**16&&s>=i)return s/=10**16,r+c(l(s,t))+"亿亿";if(s>=10**12&&s>=i)return s/=10**12,r+c(l(s,t))+"万亿";if(s>=10**8&&s>=i)return s/=10**8,r+c(l(s,t))+"亿";if(s>=1e4&&s>=i)return s/=1e4,r+c(l(s,t))+"万"}else if("zh-tw"===a){if(s>=10**28)return s;if(s>=10**24&&s>=i)return s/=10**24,r+c(l(s,t))+"億億億";if(s>=10**20&&s>=i)return s/=10**20,r+c(l(s,t))+"萬億億";if(s>=10**16&&s>=i)return s/=10**16,r+c(l(s,t))+"億億";if(s>=10**12&&s>=i)return s/=10**12,r+c(l(s,t))+"萬億";if(s>=10**8&&s>=i)return s/=10**8,r+c(l(s,t))+"億";if(s>=1e4&&s>=i)return s/=1e4,r+c(l(s,t))+"萬"}else{if(s>=10**28)return s;if(s>=10**24&&s>=i)return s/=10**24,r+c(l(s,t))+"Y";if(s>=10**21&&s>=i)return s/=10**21,r+c(l(s,t))+"Z";if(s>=10**18&&s>=i)return s/=10**18,r+c(l(s,t))+"E";if(s>=10**15&&s>=i)return s/=10**15,r+c(l(s,t))+"P";if(s>=10**12&&s>=i)return s/=10**12,r+c(l(s,t))+"T";if(s>=10**9&&s>=i)return s/=10**9,r+c(l(s,t))+"B";if(s>=10**6&&s>=i)return s/=10**6,r+c(l(s,t))+"M";if(s>=1e3&&s>=i)return s/=1e3,r+c(l(s,t))+"K"}return r+c(l(s,t))}function a(e,t=4){let i="";if(Number(e)<0&&(i="-",e=String(e).replace("-","")),Number(e)&&Number(e)<new s.a(.1).pow(t).toNumber()){const t=Math.ceil(Math.log10(.1/Number(e)));return i+"0.0"+`{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return i+e}function n(e,t){if(!e||!e.includes("-"))return 1===t?["",""]:{address:"",chain:""};const i=e.replace(/-[^-]+$/,""),o=e.slice(i.length+1);return 1===t?[i,o]:{address:i,chain:o}}function l(e,t=3){let i=Number(e)||0,o=0;i<0&&(i=-i);while(i<.1&&0!==i)i*=10,o++;const s=new RegExp("(\\.\\d*?[^0]?)(0+$)");return(Number(e)||0).toFixed(t+o).replace(s,"$1").replace(new RegExp("\\.$"),"")}function c(e,t=1/0,i=","){if(isNaN(Number(e)))return e;const o={prefix:"",decimalSeparator:".",groupSeparator:i,groupSize:3,secondaryGroupSize:0},r=new s.a(e);return t===1/0?r.toFormat(o):r.toFormat(t,o)}function d(e,t=4,i=4,o=0,s){const n=Number(e);return!isNaN(n)&&n<1e-96&&n>0?"0":a(r(e,t,o,s),i)}function u(e,t={}){var i,o,s,r,a;let n=t;n="number"===typeof t?{decimals:t}:t;const l=null!==(i=null===(o=n)||void 0===o?void 0:o.decimals)&&void 0!==i?i:4,c=(null===(s=n)||void 0===s?void 0:s.l)||4,u=null===(r=n)||void 0===r?void 0:r.limit,_=u?10**u:1e4;return d(e,l,c,_,null===(a=n)||void 0===a?void 0:a.locale)}function _(e,t="YYYY-MM-DD HH:mm:ss"){let i,o=null,s=0;return"object"===typeof e&&e instanceof Date?o=e:(s=String(e).length<=10?Number(1e3*Number(e)):Number(e),s||(s=e),o=new Date(s)),i=t.replace("YYYY",String(o.getFullYear())),i=i.replace("MM",(o.getMonth()+1<10?"0":"")+(o.getMonth()+1)),i=i.replace("DD",(o.getDate()<10?"0":"")+o.getDate()),i=i.replace("HH",(o.getHours()<10?"0":"")+o.getHours()),i=i.replace("mm",(o.getMinutes()<10?"0":"")+o.getMinutes()),i=i.replace("ss",(o.getSeconds()<10?"0":"")+o.getSeconds()),i}},"34ad":function(e,t,i){e.exports=i.p+"static/img/ratio.1301e067.svg"},"3c0e":function(e,t,i){},"42f3":function(e,t,i){"use strict";var o=i("7a23");const s={class:"date-filter-container"},r={class:"time-string"};function a(e,t,i,a,n,l){const c=Object(o["resolveComponent"])("van-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("span",r,Object(o["toDisplayString"])(l.timeString),1),Object(o["createElementVNode"])("span",{class:"reset-btn",onClick:t[0]||(t[0]=(...e)=>l.reset&&l.reset(...e))},Object(o["toDisplayString"])(l.resetText),1),Object(o["createVNode"])(c,{name:"down",class:"arrow-btn prev-btn",onClick:t[1]||(t[1]=e=>l.setTimeStamp(-1))}),Object(o["createVNode"])(c,{name:"down",class:"arrow-btn next-btn",onClick:t[2]||(t[2]=e=>l.setTimeStamp(1))})])}i("fa7d");var n=i("5a0c"),l=i.n(n),c=i("9a1c"),d={name:"DateFilterCard",components:{"van-icon":c["a"]},props:{timestamp:{type:Array,default:()=>[]}},emits:["update:timestamp"],computed:{klineDateFilter(){return this.$store.state.klineDateFilter},timeString(){const[e,t]=this.timestamp||[];if(!e||!t)return"--";const[i,o]=this.formatTime(e),[s,r]=this.formatTime(t);return i===s?`${i} ${o} - ${r}`:`${i} ${o} - ${s} ${r}`},resetText(){return this.$t?this.$t("reset"):"Reset"}},methods:{formatTime(e){let t=Number(e);t&&t<1e10&&(t*=1e3);const i=l()(t);return[i.format("MM/DD"),i.format("HH:mm:ss")]},reset(){this.timestamp&&this.$store.commit("setKlineDateFilter",[void 0,void 0])},setTimeStamp(e){const[t,i]=this.timestamp||[];if(!t||!i)return;const o={"1S":{val:1,unit:"s"},"5S":{val:5,unit:"s"},"15S":{val:15,unit:"s"},"30S":{val:30,unit:"s"},1:{val:1,unit:"m"},5:{val:5,unit:"m"},15:{val:15,unit:"m"},30:{val:30,unit:"m"},60:{val:1,unit:"h"},120:{val:2,unit:"h"},240:{val:4,unit:"h"},"1D":{val:1,unit:"d"},"1W":{val:1,unit:"w"}},s=localStorage.getItem("resolution")||"15";if(s){const r=o[s]||{val:parseInt(s),unit:"m"},a=l()(1e3*Number(t)).add(e*r.val,r.unit).unix(),n=l()(1e3*Number(i)).add(e*r.val,r.unit).unix();this.$store.commit("setKlineDateFilter",[a,n])}}}},u=(i("cf8b"),i("6b0d")),_=i.n(u);const h=_()(d,[["render",a],["__scopeId","data-v-245382ad"]]);t["a"]=h},"4b1c":function(e,t,i){"use strict";var o=i("7a23");const s=["src"];function r(e,t,i,r,a,n){var l;return(null===(l=n.newTags)||void 0===l?void 0:l.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:"flex pointer",onMouseover:t[0]||(t[0]=Object(o["withModifiers"])((...e)=>n.onEnter&&n.onEnter(...e),["stop"])),onMouseleave:t[1]||(t[1]=Object(o["withModifiers"])((...e)=>n.onLeave&&n.onLeave(...e),["stop"]))},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.newTags,(t,r)=>{var a,n;return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:r},[null!==(a=t.type)&&void 0!==a&&a.includes("TOP")&&(null===(n=t.type)||void 0===n?void 0:n.slice(3))<25||Number(t.type)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,style:{"pointer-events":"none"},class:Object(o["normalizeClass"])(i.tagClass),src:e.$f.formatNewTags(t.icon),alt:"",height:"15"},null,10,s)):Object(o["createCommentVNode"])("",!0)],64)}),128))],32)):Object(o["createCommentVNode"])("",!0)}i("0643"),i("9a9a");const a={key:1,class:"color-f2ad41 mt-5"},n={class:"block mt-5 color"},l={class:"block mt-5"},c={class:"block mt-5"};function d(e,t,i,s,r,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tags,(t,i)=>{var s;return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[Number(t.type)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"mr-3 font-12",style:Object(o["normalizeStyle"])({color:t.color})}," ["+Object(o["toDisplayString"])(null===t||void 0===t?void 0:t[d.filterLanguage(e.$store.getters.language)])+"] ",5)):Object(o["createCommentVNode"])("",!0),(null===(s=t.extra_info)||void 0===s?void 0:s.length)>0&&"9"==t.type?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===t||void 0===t?void 0:t.extra_info,(t,i)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$t("lockAmount"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount,2,4,1e6)),1),Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("lockDate"))+": "+Object(o["toDisplayString"])(e.$f.formatDate(t.lockDate,"YYYY-MM-DD")),1),Object(o["createElementVNode"])("span",c,Object(o["toDisplayString"])(e.$t("unlockDate"))+": "+Object(o["toDisplayString"])(e.$f.formatDate(t.unlockDate,"YYYY-MM-DD")),1)],64))),128))])):Object(o["createCommentVNode"])("",!0)],64)}),128))])}var u=i("7f08"),_={name:"tagsContent",props:{tags:{type:Array,default:()=>[]}},methods:{filterLanguage:u["filterLanguage"]}},h=i("6b0d"),m=i.n(h);const b=m()(_,[["render",d]]);var p=b,g=i("8e2e");let{getPublicPortrait:v}=Object(g["i"])();var f={name:"signalTags",props:{tags:{type:Array,default:()=>[]},tagClass:{type:String,default:"ml-3"},wallet_address:{type:String,default:""},chain:{type:String,default:""}},computed:{newTags(){var e;if(!this.wallet_address||!this.chain)return this.tags;let t=(null===(e=v(this.wallet_address,this.chain))||void 0===e?void 0:e.new_tags)||[],i=(null===t||void 0===t?void 0:t.length)>0?t:this.tags;return i||[]}},methods:{onEnter(e){this.newTags.some(e=>Number(e.type))&&this.$tooltip.show({content:{is:p,props:{tags:this.newTags}},target:e.target,props:{effect:"customized",placement:"top","popper-class":this.$store.state.mode}})},onLeave(){this.$tooltip.hide()}}};const k=m()(f,[["render",r]]);t["a"]=k},"4b226":function(e,t,i){"use strict";var o=i("7a23");const s={class:"tabs"},r={class:"connect-popup-title tab-container"},a={class:"tab-button"},n=["onClick"],l={style:{width:"100%",padding:"0 5px"}},c={class:"token-info"},d={class:"icon-token-container"},u=["src"],_=["src"],h={class:"token-symbol"},m=["onClick"],b={key:0,class:"loading-container"},p={style:{width:"100%",padding:"0 5px","margin-top":"10px"}},g=["onClick"],v=["onClick"],f={class:"mt-20"},k=["icon"];function O(e,t,i,O,j,y){const w=Object(o["resolveComponent"])("van-tab"),$=Object(o["resolveComponent"])("van-tabs"),E=Object(o["resolveComponent"])("el-table-column"),D=Object(o["resolveComponent"])("el-option"),C=Object(o["resolveComponent"])("el-select"),N=Object(o["resolveComponent"])("el-button"),M=Object(o["resolveComponent"])("el-table"),S=Object(o["resolveComponent"])("Loading"),P=Object(o["resolveComponent"])("el-icon"),A=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(A,{class:Object(o["normalizeClass"])(["dialog",e.$store.state.mode]),modelValue:y.show,"onUpdate:modelValue":t[2]||(t[2]=e=>y.show=e),width:"800px","append-to-body":""},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",a,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(y.tabs,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{href:"",class:Object(o["normalizeClass"])(["tab-item",{active:e.id==j.active}]),key:t,onClick:Object(o["withModifiers"])(t=>y.switchTab(e),["stop","prevent"])},Object(o["toDisplayString"])(e.name),11,n))),128))])])])]),default:Object(o["withCtx"])(()=>[Object(o["withDirectives"])(Object(o["createElementVNode"])("div",null,[Object(o["createVNode"])($,{class:"fav-tabs",active:j.activeGroup,"onUpdate:active":t[0]||(t[0]=e=>j.activeGroup=e),"line-height":"0","title-active-color":"light"===e.$store.state.mode?"#333333":"#fff","title-inactive-color":"#80838B",color:"#558BED",ellipsis:!1,shrink:"",background:"transparent"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(w,{title:e.$t("defaultGroup"),name:0},null,8,["title"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(y.groups,(e,t)=>(Object(o["openBlock"])(),Object(o["createBlock"])(w,{key:t,title:e.name,name:e.group_id},null,8,["title","name"]))),128))]),_:1},8,["active","title-active-color"]),Object(o["createElementVNode"])("div",l,[Object(o["createVNode"])(M,{class:"tableManger",data:j.favoritesList,height:"350px",style:{width:"100%"},ref:"table_ref","highlight-current-row":"",id:"table_fav"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{label:e.$t("token")},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("img",{class:"token-icon",src:e.$f.formatIcon(t,t.symbol),alt:"",height:"25",onerror:"this.src='/icon-default.png'"},null,8,u),t.network?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,class:"icon-svg icon-symbol",src:`${e.$store.state.s3BaseUrl}chain/${t.network}.png`,alt:"",srcset:""},null,8,_)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",h,Object(o["toDisplayString"])(t.symbol),1)])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("changeGroup"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createVNode"])(C,{class:"select3",modelValue:t.activeGroup,"onUpdate:modelValue":e=>t.activeGroup=e,placeholder:e.$t("pleaseSelectGroup"),onChange:e=>y.confirmSwitchGroup(t,e)},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(D,{label:e.$t("defaultGroup"),value:0,disabled:0===j.activeGroup},null,8,["label","disabled"]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(y.groups,e=>(Object(o["openBlock"])(),Object(o["createBlock"])(D,{key:e.group_id,label:e.name,value:e.group_id,disabled:j.activeGroup===t.group_id},null,8,["label","value","disabled"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","placeholder","onChange"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])(({row:t,$index:i})=>[Object(o["createVNode"])(N,{link:"",size:"small",disabled:0===i,onClick:Object(o["withModifiers"])(e=>y.tokenSetTop(t,i),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:0===i,onClick:Object(o["withModifiers"])(e=>y.changeFavoritesIndex(t,i,-1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:i+1===j.favoritesList.length,onClick:Object(o["withModifiers"])(e=>y.changeFavoritesIndex(t,i,1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("remark"),"show-overflow-tooltip":"",align:"center"},{default:Object(o["withCtx"])(({row:e})=>[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.remark||"-"),1)]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("operate"),align:"left"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>y.handleEditRemark(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,m)]),_:1},8,["label"])]),_:1},8,["data"]),j.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,[Object(o["createVNode"])(P,{class:"is-loading"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(S)]),_:1}),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("loading")),1)])):Object(o["createCommentVNode"])("",!0)])],512),[[o["vShow"],"1"===j.active]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(M,{data:y.groups,style:{width:"100%"},height:"350px",class:"tableManger"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(E,{label:e.$t("groupName"),prop:"name"},null,8,["label"]),Object(o["createVNode"])(E,{label:e.$t("rename"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>y.rename(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("edit")),9,g)]),_:1},8,["label"]),Object(o["createVNode"])(E,{prop:"name",label:e.$t("sort"),align:"center"},{default:Object(o["withCtx"])(({row:t,$index:i})=>[Object(o["createVNode"])(N,{size:"large",link:"",disabled:0===i,onClick:Object(o["withModifiers"])(e=>y.setTopFavoriteGroup(t,i),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("top")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:0===i,onClick:Object(o["withModifiers"])(e=>y.changeIndexFavoriteGroup(t,i,-1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("up")),1)]),_:2},1032,["disabled","onClick"]),Object(o["createVNode"])(N,{link:"",size:"large",disabled:i+1===y.groups.length,onClick:Object(o["withModifiers"])(e=>y.changeIndexFavoriteGroup(t,i,1),["stop"])},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["label"]),Object(o["createVNode"])(E,{label:e.$t("operate"),align:"center"},{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("a",{href:"",onClick:Object(o["withModifiers"])(e=>y.removeFavoriteGroup(t),["stop","prevent"])},Object(o["toDisplayString"])(e.$t("delete")),9,v)]),_:1},8,["label"])]),_:1},8,["data"]),Object(o["createElementVNode"])("div",f,["2"===j.active?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"manage",href:"",icon:e.Plus,onClick:t[1]||(t[1]=Object(o["withModifiers"])(t=>e.confirmChangeName("add"),["stop","prevent"]))},Object(o["toDisplayString"])(e.$t("newGroup")),9,k)):Object(o["createCommentVNode"])("",!0)])],512),[[o["vShow"],"2"===j.active]])]),_:1},8,["modelValue","class"])}i("a573");var j=i("3e47"),y=i("aad9"),w=i("365c"),$=i("d1e6"),E={name:"FavoriteManage",props:{visible:Boolean,isScroll:Boolean},components:{"van-tab":j["a"],"van-tabs":y["a"],Loading:$["a"]},data(){return{active:"1",activeTab:"1",activeGroup:0,visible1:!1,visible2:!1,visible3:!1,visible4:!1,selectedToken:{},favoritesList:[],curGroup:{},actions:[{name:"Token",value:"1"},{name:"NFT",value:"2"}],curRemark:"",curToken:{},selectGroup:0,loading:!1,noMoreData:!1,page:1,pageSize:20,scrollContainer:null}},computed:{tabs(){return[{name:this.$t("favoriteManage"),id:"1"},{name:this.$t("groupManage"),id:"2"}]},show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},groups(){return this.$store.state.userFavoriteGroups},currentAccount(){var e;return this.$store.state.currentAccount||(null===(e=this.$store.state.bot)||void 0===e||null===(e=e.userInfo)||void 0===e?void 0:e.evmAddress)||""},collected(){return this.$store.state.favorites.includes(this.$store.state.id)}},watch:{"$route.params.type"(e){"1"===e&&(this.resetPagination(),this.getUserFavorites())},activeGroup(e){this.resetPagination(),this.getUserFavorites(),this.selectGroup=e},groups:{handler(){this.activeGroup=0},deep:!0},currentAccount(e){e&&(this.resetPagination(),this.getUserFavorites())},show(e){e&&(this.resetPagination(),this.getUserFavorites(),this.$nextTick(()=>{setTimeout(()=>{this.getScrollContainer()},500)}))}},created(){this.getUserFavorites()},beforeUnmount(){},methods:{resetPagination(){this.page=1,this.favoritesList=[],this.noMoreData=!1},switchTab(e){this.active=e.id},init(){this.resetPagination(),this.getUserFavorites()},async getUserFavorites(){if(!this.loading){this.loading=!0;try{const e=await Object(w["Zb"])(this.activeGroup,this.page),t=e.map(e=>({...e,id:e.token+"-"+e.chain,address:e.token,network:e.chain,priceChange24h:null!==e&&void 0!==e&&e.price_change?(null===e||void 0===e?void 0:e.price_change)/100:0,priceUSD:(null===e||void 0===e?void 0:e.current_price_usd)||0,activeGroup:this.activeGroup}));1===this.page?this.favoritesList=t:this.favoritesList=[...this.favoritesList,...t],0===e.length&&(this.noMoreData=!0)}catch(e){}finally{this.loading=!1}}},async loadMoreFavorites(){this.loading=!0,this.page++,this.getUserFavorites()},switchGroup(e){this.selectedToken=e,this.visible1=!0},tokenSetTop(e,t){if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["gb"])(e.token+"-"+e.chain,this.activeGroup).then(()=>{this.init(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeFavoritesIndex(e,t,i){if(!this.$f.verifyLogin())return;let o=e.token+"-"+e.chain,s=t+i;if(s<0||s+1>this.favoritesList.length)return;let r=this.favoritesList[s],a=r.token+"-"+r.chain,n=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["eb"])(o,a,this.activeGroup).then(()=>{this.init(),this.$store.state.collectChange++,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{n.close()})},confirmSwitchGroup(e,t){if(this.$f.verifyLogin())if(this.activeGroup!==t){let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["se"])(e.token+"-"+e.chain,t).then(()=>{this.getUserFavorites(),this.$store.state.collectChange++,this.selectGroup=this.activeGroup,e.token+"-"+e.chain==this.$store.state.id&&(this.$store.state.groupId=e.activeGroup),this.$store.dispatch("getUserFavorites"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})}else this.visible1=!1},addFavoriteGroup(e){if(!this.$f.verifyLogin())return;let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["g"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})},removeFavoriteGroup(e){this.$f.verifyLogin()&&this.$confirm(this.$t("removeFavGroupTips"),this.$t("tips"),{confirmButtonText:this.$t("confirm"),cancelButtonText:this.$t("cancel"),dangerouslyUseHTMLString:!0,customClass:this.$store.state.mode}).then(()=>{let t=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["Je"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.getUserFavorites(),this.$store.state.collectChange++,this.$message.success(this.$t("success")),this.visible2=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{t.close()})}).catch(()=>{})},setTopFavoriteGroup(e,t){if(!this.$f.verifyLogin())return;if(0===t)return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["Te"])(e.group_id).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(()=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},changeIndexFavoriteGroup(e,t,i){if(!this.$f.verifyLogin())return;let o=e.group_id,s=t+i;if(s<0||s+1>this.groups.length)return;let r=this.groups[s],a=r.group_id,n=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["ib"])(o,a).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.visible3=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{n.close()})},rename(e){this.$prompt("",this.$t("enterGroupName"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>20)||this.$t("maximum10characters")}).then(({value:t})=>{this.changeFavoriteGroupName(t,e.group_id)}).catch(()=>{})},changeFavoriteGroupName(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["cb"])(e,t).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},select(e){this.$router.replace({name:"FavoriteManage",params:{type:e.value,id:this.$route.params.id||"1"}})},handleEditRemark(e){let t=e.token+"-"+e.chain;this.$prompt("",this.$t("enterRemark"),{confirmButtonText:this.$t("confirm1"),cancelButtonText:this.$t("cancel"),inputValidator:e=>!((null===e||void 0===e?void 0:e.length)>50)||this.$t("maximum10characters")}).then(({value:e})=>{this.confirmEditRemark(e,t)}).catch(()=>{})},confirmEditRemark(e,t){if(!this.$f.verifyLogin())return;let i=this.$loading({fullscreen:!0,background:"rgba(0, 0, 0, 0.8)"});Object(w["sb"])(t,e).then(()=>{this.getUserFavorites(),this.$store.dispatch("getUserFavorites"),this.$store.state.collectChange++,this.visible4=!1,this.$message.success(this.$t("success"))}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{i.close()})},handleScroll(){if(!this.scrollContainer)return;const{scrollTop:e,scrollHeight:t,clientHeight:i}=this.scrollContainer,o=t-e-i;o<100&&!this.loading&&!this.noMoreData&&(this.page++,this.getUserFavorites())},getScrollContainer(){this.scrollContainer=document.querySelector("#table_fav .el-scrollbar__wrap"),this.scrollContainer&&(this.scrollContainer.removeEventListener("scroll",this.handleScroll),this.scrollContainer.addEventListener("scroll",this.handleScroll))}}},D=(i("6866"),i("aa87"),i("6b0d")),C=i.n(D);const N=C()(E,[["render",O],["__scopeId","data-v-415fe002"]]);t["a"]=N},"4c62":function(e,t,i){"use strict";i("cbbf")},5139:function(e,t,i){},5206:function(e,t,i){"use strict";i.d(t,"b",(function(){return b})),i.d(t,"c",(function(){return p})),i.d(t,"a",(function(){return g}));i("d9e2");var o=i("f325"),s=i("4128"),r=i.n(s),a=i("8b19"),n=i("c963"),l=i("3bd4"),c=i("64b9"),d=i("365c"),u=i("847c"),_=i("901e"),h=i.n(_),m=i("9bae");async function b(e){var t,i,s,r,a,l,c,_,h,m;let{token0:b,token1:p}=e,g=await Object(d["sc"])(b,p,"solana");if(null===g||void 0===g||!g[0])throw new Error("cannot find pool");let v=g[0],f=v.pair;const k=await Object(n["a"])(f);if(!k)throw new Error("cannot find the target pool");const O=Object(o["w"])(k),j=await o["g"].fetchInfo({connection:u["e"],poolKeys:O});let y={pair:k.lpMint,factory_address:"",router_address:"",token0:b,token1:p,reserve0:b===k.baseMint?null===j||void 0===j||null===(t=j.baseReserve)||void 0===t||null===(i=t.toString)||void 0===i?void 0:i.call(t):null===j||void 0===j||null===(s=j.quoteReserve)||void 0===s||null===(r=s.toString)||void 0===r?void 0:r.call(s),reserve1:p===k.baseMint?null===j||void 0===j||null===(a=j.baseReserve)||void 0===a||null===(l=a.toString)||void 0===l?void 0:l.call(a):null===j||void 0===j||null===(c=j.quoteReserve)||void 0===c||null===(_=c.toString)||void 0===_?void 0:_.call(c),totalSupply:null===j||void 0===j||null===(h=j.lpSupply)||void 0===h||null===(m=h.toString)||void 0===m?void 0:m.call(h),decimals:k.lpDecimals};return{poolKeys:O,targetPoolInfo:k,extraPoolInfo:j,poolInfo:v,reserves:y}}async function p(e){var t,i,s,a,l,_,m,b,p,g,v,f,k,O,j;let{token0:y,token1:w,amount0:$,amount1:E,slippage:D,targetPoolInfo:C,extraPoolInfo:N,poolInfo:M}=e,S=[y,w].includes(null===(t=M)||void 0===t?void 0:t.token0_address)&&[y,w].includes(null===(i=M)||void 0===i?void 0:i.token1_address);if(null===(s=M)||void 0===s||!s.pair||!S){let e=await Object(d["sc"])(y,w,"solana");if(null===e||void 0===e||!e[0])throw new Error("cannot find pool");M=e[0]}let P=M.pair,A=new o["p"](o["o"],new c["e"](y),y===M.token0_address?M.token0_decimal:M.token1_decimal,y===M.token0_address?M.token0_symbol:M.token1_symbol,y===M.token0_address?M.token0_symbol:M.token1_symbol),B=new o["p"](o["o"],new c["e"](w),w===M.token0_address?M.token0_decimal:M.token1_decimal,w===M.token0_address?M.token0_symbol:M.token1_symbol,w===M.token0_address?M.token0_symbol:M.token1_symbol),x=new h.a($||E||0),T={},I={};E&&!$?(T=B,I=A):(T=A,I=B),D=new o["k"](100*Number(D||1),1e4);let V=new o["q"](T,x.times(10**T.decimals).toFixed(0)),L={baseToken:T,quoteToken:I,targetPool:P,inputTokenAmount:V,slippage:D};if(C&&(null===(a=C)||void 0===a?void 0:a.id)===L.targetPool||(C=await Object(n["a"])(L.targetPool)),!C)throw new Error("cannot find the target pool");const U=Object(o["w"])(C);N&&(null===(l=C)||void 0===l?void 0:l.id)===L.targetPool||(N=await o["g"].fetchInfo({connection:u["e"],poolKeys:U}));const{maxAnotherAmount:R,anotherAmount:K,liquidity:W}=o["g"].computeAnotherAmount({poolKeys:U,poolInfo:{...C,...N},amount:L.inputTokenAmount,anotherCurrency:L.quoteToken,slippage:L.slippage});let F={pair:C.lpMint,factory_address:"",router_address:"",token0:y,token1:w,reserve0:y===C.baseMint?null===(_=N)||void 0===_||null===(_=_.baseReserve)||void 0===_||null===(m=_.toFixed)||void 0===m?void 0:m.call(_):null===(b=N)||void 0===b||null===(b=b.quoteReserve)||void 0===b||null===(p=b.toFixed)||void 0===p?void 0:p.call(b),reserve1:w===C.baseMint?null===(g=N)||void 0===g||null===(g=g.baseReserve)||void 0===g||null===(v=g.toFixed)||void 0===v?void 0:v.call(g):null===(f=N)||void 0===f||null===(f=f.quoteReserve)||void 0===f||null===(k=f.toFixed)||void 0===k?void 0:k.call(f),totalSupply:null===(O=N)||void 0===O||null===(O=O.lpSupply)||void 0===O||null===(j=O.toFixed)||void 0===j?void 0:j.call(O),decimals:C.lpDecimals};return{poolKeys:U,liquidity:W.toString(),liquidityD:new r.a(W.toString()).div(10**N.lpDecimals).toString(),maxAnotherAmount:R,anotherAmount:K,inputTokenAmount:L.inputTokenAmount,targetPoolInfo:C,extraPoolInfo:N,poolInfo:M,reserves:F}}async function g(e){let{poolKeys:t,maxAnotherAmount:i,inputTokenAmount:s}=e,r=Object(m["b"])(),n=r.publicKey.value,c=await Object(l["b"])(u["e"],n);const{innerTransactions:d}=await o["g"].makeAddLiquidityInstructionSimple({connection:u["e"],poolKeys:t,userKeys:{owner:n,payer:n,tokenAccounts:c},amountInA:s,amountInB:i,fixedSide:"a",makeTxVersion:a["e"]});let _=await Object(l["a"])(d),h=null===_||void 0===_?void 0:_[0];return Object(u["b"])(h).then(async e=>({hash:e,wait:()=>Object(u["c"])(e)}))}},"5d5b":function(e,t,i){"use strict";i("5139")},6115:function(e,t,i){},"671d":function(e,t,i){"use strict";i.d(t,"a",(function(){return d}));var o=i("f325"),s=i("8b19"),r=i("c963"),a=i("3bd4"),n=i("64b9"),l=i("847c"),c=i("9bae");async function d(e){let t=Object(c["b"])(),i=t.publicKey.value,d=await Object(a["b"])(l["e"],i);const u=await Object(r["a"])(e.targetPool);let _=new o["p"](o["o"],new n["e"](u.lpMint),u.lpDecimals,"",""),h=new o["q"](_,e.removeLpTokenAmount);const m=Object(o["w"])(u),{innerTransactions:b}=await o["g"].makeRemoveLiquidityInstructionSimple({connection:l["e"],poolKeys:m,userKeys:{owner:i,payer:i,tokenAccounts:d},amountIn:h,makeTxVersion:s["e"]});let p=await Object(a["a"])(b),g=null===p||void 0===p?void 0:p[0];return Object(l["b"])(g).then(async e=>({hash:e,wait:()=>Object(l["c"])(e)}))}},6866:function(e,t,i){"use strict";i("191a")},7344:function(e,t,i){"use strict";var o=i("7a23");const s=["onClick"],r={class:"icon-token-container",style:{"margin-right":"10px"}},a=["src"],n={class:"flex-start"},l={class:"token-symbol ellipsis"},c={key:0,class:"iconfont icon-danger font-14 ml-2"},d={class:"token-address"},u={class:"iconfont icon-copy"};function _(e,t,i,_,h,m){const b=Object(o["resolveComponent"])("el-image"),p=Object(o["resolveComponent"])("el-table-column"),g=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createBlock"])(p,Object(o["normalizeProps"])(Object(o["guardReactiveProps"])(i.columnProps)),{default:Object(o["withCtx"])(({row:t})=>[Object(o["createElementVNode"])("div",{class:"token-info table-item_d",style:{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"},onClick:Object(o["withModifiers"])(e=>m.tableRowClick(t),["stop","prevent"])},[Object(o["createElementVNode"])("div",r,[Object(o["createVNode"])(b,{src:e.$f.formatIcon(t,t.symbol),class:"token-icon"},{error:Object(o["withCtx"])(()=>{var i,s;return[Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])([{background:e.$f.getChainDefaultIconColor(null===t||void 0===t?void 0:t.chain)},{"line-height":"32px","text-align":"center","font-size":"16px",color:"#fff"}]),class:"token-icon"},Object(o["toDisplayString"])((null===(i=t.symbol)||void 0===i||null===(i=i.slice(0,1))||void 0===i||null===(s=i.toUpperCase)||void 0===s?void 0:s.call(i))||""),5)]}),placeholder:Object(o["withCtx"])(()=>{var i,s;return[Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])([{background:e.$f.getChainDefaultIconColor(null===t||void 0===t?void 0:t.chain)},{"line-height":"32px","text-align":"center","font-size":"16px",color:"#fff"}]),class:"token-icon"},Object(o["toDisplayString"])((null===(i=t.symbol)||void 0===i||null===(i=i.slice(0,1))||void 0===i||null===(s=i.toUpperCase)||void 0===s?void 0:s.call(i))||""),5)]}),_:2},1032,["src"]),null!==t&&void 0!==t&&t.network||null!==t&&void 0!==t&&t.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",{key:0,src:`${e.$store.state.s3BaseUrl}chain/${t.chain}.png`,alt:"",class:"icon-svg icon-symbol",onerror:"this.src='/icon-default.png'",srcset:""},null,8,a)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",n,[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(t.symbol),1),t.risk_score>55||t.risk_level<0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",c)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",{class:"font-1flex-start",style:{"min-width":"110%"},onClick:Object(o["withModifiers"])(()=>{},["stop"])},[Object(o["createElementVNode"])("span",d,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(t.token.slice(0,4)+"..."+t.token.slice(-6))+" ",1),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",u,null,512),[[g,t.token]])])])]),Object(o["renderSlot"])(e.$slots,"default",{row:t},void 0,!0)],8,s)]),_:3},16)}i("14d9");var h={name:"TokenColumn",props:{columnProps:{props:Object,default:()=>({})}},methods:{tableRowClick(e){this.$router.push({name:"Token",params:{id:e.token+"-"+e.chain},query:{from:this.$route.name}})}}},m=(i("b40b"),i("6b0d")),b=i.n(m);const p=b()(h,[["render",_],["__scopeId","data-v-5cd01820"]]);t["a"]=p},7487:function(e,t,i){e.exports=i.p+"static/img/newAccount.52ae9f6d.svg"},"7b6d":function(e,t,i){e.exports=i.p+"static/img/amount.11d61a32.svg"},"7ff9":function(e,t,i){"use strict";var o=i("7a23");function s(e,t,i,s,r,a){var n,l;const c=Object(o["resolveComponent"])("TradingView");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"common k-line-chart-container",id:"k-line-chart-container",style:Object(o["normalizeStyle"])({height:a.height})},[null!==(n=e.$store.state.pair)&&void 0!==n&&n.value&&"-"!==(null===(l=e.$store.state.pair)||void 0===l?void 0:l.value)&&r.show?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,ref:"tradingView",pair:e.$store.state.pair},null,8,["pair"])):Object(o["createCommentVNode"])("",!0)],4)}function r(e,t,i,s,r,a){const n=Object(o["resolveComponent"])("loading"),l=Object(o["resolveComponent"])("unknown-risk"),c=Object(o["resolveComponent"])("dialog-remind");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createVNode"])(n,{style:{"z-index":"1"},active:r.loading,"onUpdate:active":t[0]||(t[0]=e=>r.loading=e),"can-cancel":!1,loader:"dots",opacity:1,backgroundColor:"light"===e.$store.state.mode?"#fff":r.bgColor,color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),t[2]||(t[2]=Object(o["createElementVNode"])("div",{id:"tv_chart_container",style:{height:"100%",width:"100%"}},null,-1)),Object(o["createVNode"])(l,{onInit:a.getKlineHistory},null,8,["onInit"]),Object(o["createVNode"])(c,{ref:"remind",modelValue:r.dialogVisible_remind,"onUpdate:modelValue":t[1]||(t[1]=e=>r.dialogVisible_remind=e)},null,8,["modelValue"])],64)}var a=i("fa6f"),n=i("6b0d"),l=i.n(n);const c=l()(a["a"],[["render",r]]);var d=c,u={name:"KLineChart",props:{kHeight:{type:Number,default:500}},data(){return{show:!0}},computed:{height(){return this.kHeight+"px"}},mounted(){},components:{TradingView:d},watch:{"$store.getters.language"(e){this.show=!1,this.$nextTick(()=>{this.show=!0})}},methods:{routeLeave(){this.$refs.tradingView.saveStudy()}}};i("89e4");const _=l()(u,[["render",s],["__scopeId","data-v-6dc5d720"]]);t["a"]=_},"81f9":function(e,t,i){"use strict";i("1b05")},"89e4":function(e,t,i){"use strict";i("0aab")},"8af5":function(e,t,i){"use strict";i("3c0e")},9317:function(e,t,i){"use strict";var o=i("7a23"),s={__name:"tokenImg",props:{width:{type:Number,default:36},height:{type:Number,default:36},chainWidth:{type:Number,default:14},chainHeight:{type:Number,default:14},chain:{type:String,default:"solana"},logo_url:{type:String,default:""},symbol:{type:String,default:""}},setup(e){return(t,i)=>{const s=Object(o["resolveComponent"])("el-image");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"relative",style:Object(o["normalizeStyle"])({width:e.width+"px",height:e.height+"px"})},[Object(o["createVNode"])(s,{class:"avatar",style:Object(o["normalizeStyle"])({width:e.width+"px",height:e.height+"px"}),src:t.$f.formatIcon({logo_url:e.logo_url,chain:e.chain},e.symbol)},{error:Object(o["withCtx"])(()=>i[0]||(i[0]=[])),_:1},8,["style","src"]),Object(o["createVNode"])(s,{class:"chain",style:Object(o["normalizeStyle"])({width:e.chainWidth+"px",height:e.chainHeight+"px"}),src:`${t.$store.state.s3BaseUrl}chain/${e.chain}.png`},null,8,["style","src"])],4)}}},r=(i("e2fe"),i("6b0d")),a=i.n(r);const n=a()(s,[["__scopeId","data-v-326dc316"]]);t["a"]=n},9621:function(e,t,i){e.exports=i.p+"static/img/clearedAccount.a07ffab8.svg"},"9dea":function(e,t,i){},aa0a:function(e,t,i){},aa87:function(e,t,i){"use strict";i("0035")},b40b:function(e,t,i){"use strict";i("6115")},bdd2:function(e,t,i){"use strict";var o=i("7a23");const s={class:"profit"},r={class:"profit-container"},a={class:"right"},n={class:"label"},l={class:"value"},c={class:"profit-container"},d={class:"right"},u={class:"label"},_={key:0},h={class:"value"},m={class:"profit-container"},b={class:"right"},p={class:"label"},g={class:"value"},v={class:"profit-container"},f={class:"right"},k={class:"label"},O={class:""},j={class:"bottom"},y={class:"item up"},w={class:"label"},$={class:"value"},E={class:"label"},D={class:"value"},C={class:"item down"},N={class:"label"},M={class:"value"},S={class:"label"},P={class:"value"};function A(e,t,i,A,B,x){var T;const I=Object(o["resolveComponent"])("van-notice-bar");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[i.userAddress==e.$store.state.currentAccount?(Object(o["openBlock"])(),Object(o["createBlock"])(I,{key:0,class:"myTxs-notice","left-icon":"info-o",background:"light"===e.$store.state.mode?"#ffa94d0d":"rgba(117, 65, 29, 0.23)",color:"#ED6A0C"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("myTxsNotice")),1)]),_:1},8,["background"])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",s,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("span",n,Object(o["toDisplayString"])(e.$t("currentPosition")),1),Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$f.formatNumber2(B.balance)),1)])]),Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",u,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("tokenValue"))+" ",1),(null===(T=e.$store.state.tokenInfo)||void 0===T?void 0:T.sell_tax)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",_," (-"+Object(o["toDisplayString"])(e.$t("sellTax1"))+" "+Object(o["toDisplayString"])(e.$f.formatNumber2(e.$store.state.tokenInfo.sell_tax||0,2))+"%) ",1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",h,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.tokenValue)),1)])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("span",p,Object(o["toDisplayString"])(e.$t("positionCostPrice")),1),Object(o["createElementVNode"])("span",g,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.avgBuyPrice)),1)])]),Object(o["createElementVNode"])("div",v,[Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("span",k,Object(o["toDisplayString"])(e.$t("profit")),1),Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("span",{class:"value",style:Object(o["normalizeStyle"])({color:x.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})}," $"+Object(o["toDisplayString"])(e.$f.formatNumber2(x.profit)),5),t[0]||(t[0]=Object(o["createTextVNode"])("    ")),Object(o["createElementVNode"])("span",{class:"value",style:Object(o["normalizeStyle"])({color:x.profit>=0?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]})},Object(o["toDisplayString"])(e.$f.formatPercent(x.profitChange)),5)])])])]),Object(o["createElementVNode"])("div",{class:"holder-container",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3],"--upBgColor":e.$store.getters.upColor[3]+"33","--downBgColor":e.$store.getters.downColor[3]+"33"})},[Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",w,Object(o["toDisplayString"])(e.$t("buyFrequency")),1),Object(o["createElementVNode"])("span",$,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalBuyFrequency)),1)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",E,Object(o["toDisplayString"])(e.$t("buyAmount"))+"($)",1),Object(o["createElementVNode"])("span",D,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalBuy)),1)])]),Object(o["createElementVNode"])("div",C,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",N,Object(o["toDisplayString"])(e.$t("sellFrequency")),1),Object(o["createElementVNode"])("span",M,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalSellFrequency)),1)]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])(e.$t("sellAmount"))+"($)",1),Object(o["createElementVNode"])("span",P,Object(o["toDisplayString"])(e.$f.formatNumber2(x.totalSell)),1)])])])],4)],64)}i("13d5"),i("0643"),i("2382"),i("9d4a");var B=i("c9d9"),x=i("365c"),T=i("ca0f"),I={name:"TableMyTxs",emits:["changeLoadingHead"],props:{tableList:Array,userAddress:{type:String,default:""}},data(){return{Timer:null,balance:0}},computed:{tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(B["f"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},addressSplit(){return this.tokenInfo.address.replace(new RegExp("(.{4})(.+)(.{4})"),"$1...$3")},totalBuy(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmountUSD(t):e,0)},totalBuyAmount(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e+this.getAmount(t):e,0)},avgBuyPrice(){return this.totalBuyAmount>0?this.totalBuy/this.totalBuyAmount:0},totalSell(){return this.tableList.reduce((e,t)=>this.isBuy(t)?e:e+this.getAmountUSD(t),0)},totalBuyFrequency(){return this.tableList.filter(e=>this.isBuy(e)).length||0},totalSellFrequency(){return this.tableList.filter(e=>!this.isBuy(e)).length||0},avgPrice(){return this.balance>0?(this.totalBuy-this.totalSell)/this.balance:0},tokenValue(){let e=(this.$store.state.tokenInfo.sell_tax||0)/100;return e=e>1?1:e,(this.$store.state.tokenPrice||0)*(this.balance||0)*(1-e)},profit(){return this.totalSell+this.tokenValue-this.totalBuy},profitChange(){return this.totalBuy>0?this.profit/this.totalBuy:0}},components:{"van-notice-bar":T["a"]},watch:{tableList:{handler:function(e){this.balance=0,(null===e||void 0===e?void 0:e.length)>0&&this.getTokenBalance()},deep:!0},userAddress:{handler:function(e){e&&(this.balance=0,this.getTokenBalance())},deep:!0}},created(){this.getTokenBalance()},methods:{isBuy(e){if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getAmount(e){if(e.from_address&&e.from_address===this.tokenAddress)return e.from_amount;if(e.to_address&&e.to_address===this.tokenAddress)return e.to_amount;let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,t},getPrice(e){if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmountUSD(e){return e.from_address&&e.from_address===this.tokenAddress?Number(e.from_amount)*Number(e.from_price_usd):e.to_address&&e.to_address===this.tokenAddress?Number(e.to_amount)*Number(e.to_price_usd):e.amountUSD},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},isShowRow(e){return(!this.$store.state.filterContent.minCondition||Number(this.getAmountUSD(e))>Number(this.$store.state.filterContent.min))&&(this.$store.state.filterContent.buy&&this.isBuy(e)||this.$store.state.filterContent.sell&&!this.isBuy(e))},highlight(e){return this.$store.state.filterContent.maxCondition&&Number(this.getAmountUSD(e))>=Number(this.$store.state.filterContent.max)},getTokenBalance(){var e,t;this.Timer&&clearTimeout(this.Timer),this.$emit("changeLoadingHead",!0),Object(x["yd"])(null===(e=this.tokenInfo)||void 0===e?void 0:e.address,null===(t=this.tokenInfo)||void 0===t?void 0:t.chain,this.userAddress,"whale").then(e=>{this.balance=e}).finally(()=>{this.$emit("changeLoadingHead",!1),this.userAddress==this.$store.state.currentAccount&&(this.Timer=setTimeout(()=>{this.getTokenBalance()},12e4))})}}},V=(i("8af5"),i("6b0d")),L=i.n(V);const U=L()(I,[["render",A],["__scopeId","data-v-2ebd2fea"]]);t["a"]=U},c000:function(e,t,i){},c3ff:function(e,t,i){"use strict";var o=i("7a23");const s={class:"dialog_title"},r={class:"group"},a={key:1,class:"icon unchecked"},n=["onClick"],l={href:"",class:"flex-between"},c={key:1,class:"icon unchecked"},d={style:{width:"100%"}};function u(e,t,i,u,_,h){const m=Object(o["resolveComponent"])("CircleCheckFilled"),b=Object(o["resolveComponent"])("el-icon"),p=Object(o["resolveComponent"])("el-button"),g=Object(o["resolveComponent"])("el-form-item"),v=Object(o["resolveComponent"])("el-input"),f=Object(o["resolveComponent"])("el-form"),k=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(k,{class:Object(o["normalizeClass"])(["dialog-zixuan fav",e.$store.state.mode]),modelValue:h.show,"onUpdate:modelValue":t[3]||(t[3]=e=>h.show=e),width:"400px","append-to-body":""},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(i.title),1)]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(f,{ref:"formRef",rules:_.rules,model:_.form,"label-width":"auto",onSubmit:Object(o["withModifiers"])(h.select,["prevent"])},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(g,{label:""},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("ul",r,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("a",{href:"",class:"flex-between",onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>_.checked=0,["stop","prevent"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("defaultGroup")),1),0==_.checked?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"icon checked"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",a))])]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.groups,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:t,onClick:Object(o["withModifiers"])(t=>_.checked=e.group_id,["stop","prevent"])},[Object(o["createElementVNode"])("a",l,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.name),1),_.checked==e.group_id?(Object(o["openBlock"])(),Object(o["createBlock"])(b,{key:0,class:"icon checked"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(m)]),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",c))])],8,n))),128))]),Object(o["createVNode"])(p,{class:"icon-add-btn",onClick:t[1]||(t[1]=Object(o["withModifiers"])(t=>e.confirmChangeName("add"),["stop"]))},{default:Object(o["withCtx"])(()=>[t[4]||(t[4]=Object(o["createElementVNode"])("i",{class:"iconfont icon-plus"},null,-1)),Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.$t("newGroup")),1)]),_:1})]),_:1}),i.isRemark?(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:0,label:"",prop:"remark"},{default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(v,{modelValue:_.form.remark,"onUpdate:modelValue":t[2]||(t[2]=e=>_.form.remark=e),modelModifiers:{trim:!0},placeholder:e.$t("enterRemark"),clearable:""},null,8,["modelValue","placeholder"])]),_:1})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(g,null,{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",d,[Object(o["createVNode"])(p,{style:{},class:"btn",type:"primary",loading:_.loading,"native-type":"submit"},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]),_:1},8,["loading"])])]),_:1})]),_:1},8,["rules","model","onSubmit"])]),_:1},8,["modelValue","class"])}i("0643"),i("fffc");var _=i("365c"),h={name:"ChangeGroup",props:{visible:Boolean,title:{type:String,default:""},type:{type:String,default:"1"},isRemark:{type:Boolean,default:!1},selected:{type:[String,Number],default:0},groups:{type:Array,default(){return[]}}},components:{},emits:["update:visible","update:selected","select"],data(){return{checked:this.initSelected,visible1:!1,loading:!1,form:{remark:""},rules:{remark:[{max:50,message:this.$t("maximum10characters"),trigger:"blur"}]},createNewGroupName:""}},computed:{show:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},initSelected:{get(){return this.selected},set(e){this.$emit("update:selected",e)}}},watch:{show(e){e&&(this.checked=this.initSelected)},"$store.state.userFavoriteGroups"(e){if(e&&this.createNewGroupName){let t=null===e||void 0===e?void 0:e.find(e=>e.name==this.createNewGroupName);t&&(this.checked=t.group_id)}}},methods:{select(){this.isRemark?this.$refs.formRef.validate(e=>{e&&this.$emit("select",this.checked,this.form.remark)}):this.$emit("select",this.checked)},addFavoriteGroup(e){"1"===this.type?this.addTokenFavoriteGroup(e):"2"===this.type&&this.addNftFavoriteGroup(e)},addTokenFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(_["g"])(e).then(()=>{this.$store.dispatch("getUserTokenFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1,this.createNewGroupName=e}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))},addNftFavoriteGroup(e){this.$f.verifyLogin()&&(this.loading=!0,Object(_["k"])(e).then(()=>{this.$store.dispatch("getUserNftFavoriteGroups"),this.$message.success(this.$t("success")),this.visible1=!1}).catch(e=>{this.$message.error(this.$t("fail"))}).finally(()=>{this.loading=!1}))}}},m=(i("81f9"),i("4c62"),i("6b0d")),b=i.n(m);const p=b()(h,[["render",u],["__scopeId","data-v-43b18417"]]);t["a"]=p},c3ff8:function(e,t,i){e.exports=i.p+"static/img/top1.17aec824.svg"},c963:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));i("d9e2");var o=i("f325"),s=i("64b9"),r=i("847c");async function a(e){const t=await r["e"].getAccountInfo(new s["e"](e));if(null===t)throw Error(" get id info error ");const i=o["e"].decode(t.data),a=i.marketId,n=await r["e"].getAccountInfo(a);if(null===n)throw Error(" get market info error");const l=o["i"].decode(n.data),c=i.lpMint,d=await r["e"].getAccountInfo(c);if(null===d)throw Error(" get lp mint info error");const u=o["n"].decode(d.data);return{id:e,baseMint:i.baseMint.toString(),quoteMint:i.quoteMint.toString(),lpMint:i.lpMint.toString(),baseDecimals:i.baseDecimal.toNumber(),quoteDecimals:i.quoteDecimal.toNumber(),lpDecimals:u.decimals,version:4,programId:t.owner.toString(),authority:o["g"].getAssociatedAuthority({programId:t.owner}).publicKey.toString(),openOrders:i.openOrders.toString(),targetOrders:i.targetOrders.toString(),baseVault:i.baseVault.toString(),quoteVault:i.quoteVault.toString(),withdrawQueue:i.withdrawQueue.toString(),lpVault:i.lpVault.toString(),marketVersion:3,marketProgramId:i.marketProgramId.toString(),marketId:i.marketId.toString(),marketAuthority:o["j"].getAssociatedAuthority({programId:i.marketProgramId,marketId:i.marketId}).publicKey.toString(),marketBaseVault:l.baseVault.toString(),marketQuoteVault:l.quoteVault.toString(),marketBids:l.bids.toString(),marketAsks:l.asks.toString(),marketEventQueue:l.eventQueue.toString(),lookupTableAccount:s["e"].default.toString()}}},cb46:function(e,t,i){e.exports=i.p+"static/img/big.0a7445bb.svg"},cbbf:function(e,t,i){},cbcf:function(e,t,i){},cf8b:function(e,t,i){"use strict";i("cbcf")},dce0:function(e,t,i){e.exports=i.p+"static/img/aveai-logo.88c5aab8.svg"},de6d:function(e,t,i){e.exports=i.p+"static/img/top3.8c270ffc.svg"},e17f:function(e,t,i){"use strict";var o=i("7a23");const s={class:"dialog_title"},r={class:"flex-between address"},a=["href"],n={class:"iconfont icon-copy ml_10"};function l(e,t,i,l,c,d){const u=Object(o["resolveComponent"])("UserTxs"),_=Object(o["resolveComponent"])("el-dialog"),h=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createBlock"])(_,{modelValue:d.dialogPofitLoss,"onUpdate:modelValue":t[2]||(t[2]=e=>d.dialogPofitLoss=e),width:"800px",class:"dialog"},{header:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",s,Object(o["toDisplayString"])(e.$t("transactionsDetails")),1)]),default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("span",null,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(d.chain,c.userAddress,"address"),target:"_blank"},Object(o["toDisplayString"])(c.userAddress.slice(0,6)+"..."+c.userAddress.slice(-6)),9,a),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",n,null,512),[[h,c.userAddress]])]),1==c.fav?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:0,class:"attention iconfont icon-attention active",onClick:t[0]||(t[0]=Object(o["withModifiers"])(e=>d.deleteAttention(c.userAddress,d.chain),["stop"]))})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:"attention iconfont icon-attention",onClick:t[1]||(t[1]=Object(o["withModifiers"])(e=>d.addAttention(c.userAddress,d.chain),["stop"]))}))]),Object(o["createVNode"])(u,{tableList:d.myTxHistoryList,userAddress:c.userAddress,loadingMyTx:c.loadingMyTx},null,8,["tableList","userAddress","loadingMyTx"])]),_:1},8,["modelValue"])}i("a573");const c={class:"histrory"},d={class:"top"},u={key:0,class:"content"},_=["onClick"],h={key:0},m={key:1},b=["innerHTML"],p={key:0,style:{color:"#558bed"}};function g(e,t,i,s,r,a){const n=Object(o["resolveComponent"])("loading"),l=Object(o["resolveComponent"])("user-txs-head"),g=Object(o["resolveComponent"])("el-empty"),v=Object(o["resolveComponent"])("el-scrollbar");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",c,[Object(o["createVNode"])(n,{active:a.loading,"onUpdate:active":t[0]||(t[0]=e=>a.loading=e),"can-cancel":!1,loader:"dots",opacity:.2,backgroundColor:"light"===e.$store.state.mode?"#F5F5F5":"#131722",color:"#3F80F7","is-full-page":!1},null,8,["active","backgroundColor"]),Object(o["createVNode"])(l,{tableList:i.tableList,userAddress:i.userAddress,onChangeLoadingHead:a.changeLoadingHead},null,8,["tableList","userAddress","onChangeLoadingHead"]),Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("time")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("type")),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("price"))+"($)",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("amountB"))+"("+Object(o["toDisplayString"])(a.tokenInfo.symbol)+")",1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("amountU"))+"($)",1),t[1]||(t[1]=Object(o["createElementVNode"])("span",null,"Tx",-1))]),Object(o["createVNode"])(v,{height:i.scrollHeight,ref:"elscrollbar"},{default:Object(o["withCtx"])(()=>{var t;return[i.tableList.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.tableList,(t,i)=>{var s,r;return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"flex",key:i,onClick:Object(o["withModifiers"])(e=>a.goLink(t),["stop"])},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatDate(t.timestamp)),1),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:a.isBuy(t),red:!a.isBuy(t)})},[a.isBuy(t)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",h,Object(o["toDisplayString"])(e.$t("buy")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",m,Object(o["toDisplayString"])(e.$t("sell")),1))],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:a.isBuy(t),red:!a.isBuy(t)}),innerHTML:e.$f.formatNumber3(a.getPrice(t)||0)},null,10,b),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])({green:a.isBuy(t),red:!a.isBuy(t)})},Object(o["toDisplayString"])(e.$f.formatNumber2(a.getAmount(t))),3),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(a.getAmountUSD(t))),1),Object(o["createElementVNode"])("span",null,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(null===(s=t.transactionAddress)||void 0===s?void 0:s.slice(0,2))+"..."+Object(o["toDisplayString"])(null===(r=t.transactionAddress)||void 0===r?void 0:r.slice(-4))+" ",1),t.count&&t.count>1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",p,"("+Object(o["toDisplayString"])(t.count)+")",1)):Object(o["createCommentVNode"])("",!0)])],8,_)}),128))])):Object(o["createCommentVNode"])("",!0),i.tableList&&0!==(null===(t=i.tableList)||void 0===t?void 0:t.length)?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(g,{key:1,"image-size":100,image:"light"===e.$store.state.mode?r.imageEmptyWhite:r.imageEmptyBlack},null,8,["image"]))]}),_:1},8,["height"])])}var v=i("c9d9"),f=i("fa7d"),k=i("fab6"),O=i.n(k),j=i("b28f"),y=i.n(j),w=i("bdd2"),$={name:"UserTxs",props:{tableList:Array,userAddress:{type:String,default:""},scrollHeight:{type:String,default:"350px"},loadingMyTx:Boolean},data(){return{imageEmptyBlack:O.a,imageEmptyWhite:y.a,count:0,Timer:null,from_num:0,loadingHead:""!=this.userAddress}},computed:{tokenInfo(){return this.$store.state.tokenInfo||Object(f["j"])()},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(v["f"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},loading(){return this.loadingHead||this.loadingMyTx}},components:{UserTxsHead:w["a"]},methods:{isBuy(e){var t,i,o,s,r,a,n,l;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return!1;if(e.to_address&&(null===(r=this.tokenAddress)||void 0===r||null===(a=r.toLowerCase)||void 0===a?void 0:a.call(r))===(null===(n=(l=e.to_address).toLowerCase)||void 0===n?void 0:n.call(l)))return!0;let c=e.amount0In>0?e.token0Address:e.token1Address;return c!==this.tokenAddress},getAmount(e){var t,i,o,s,r,a,n,l;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return this.$f.formatNumber(e.from_amount);if(e.to_address&&(null===(r=this.tokenAddress)||void 0===r||null===(a=r.toLowerCase)||void 0===a?void 0:a.call(r))===(null===(n=(l=e.to_address).toLowerCase)||void 0===n?void 0:n.call(l)))return this.$f.formatNumber(e.to_amount);let c=0;return c=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(c)},getPrice(e){var t,i,o,s,r,a,n,l;if(e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o)))return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&(null===(r=this.tokenAddress)||void 0===r||null===(a=r.toLowerCase)||void 0===a?void 0:a.call(r))===(null===(n=(l=e.to_address).toLowerCase)||void 0===n?void 0:n.call(l)))return this.$f.formatNumber(e.to_price_usd);let c=0;return c=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(c)},getAmountUSD(e){var t,i,o,s,r,a,n,l;return e.from_address&&(null===(t=this.tokenAddress)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=e.from_address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o))?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&(null===(r=this.tokenAddress)||void 0===r||null===(a=r.toLowerCase)||void 0===a?void 0:a.call(r))===(null===(n=(l=e.to_address).toLowerCase)||void 0===n?void 0:n.call(l))?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},goLink(e){window.open(this.$f.formatExplorerUrl(e.network,e.transactionAddress,"tx"))},formatDecimal(e){if(Number(e)&&Number(e)<1e-4){let t=Math.ceil(Math.log10(.1/Number(e)));return`0.0{${t}}`+String(e).replace(new RegExp(`^0\\.0{${t}}`),"")}return e},changeLoadingHead(e){this.loadingHead=e}}},E=(i("09aa"),i("6b0d")),D=i.n(E);const C=D()($,[["render",g],["__scopeId","data-v-5eb12a58"]]);var N=C,M=i("365c"),S={name:"",props:{visible:{type:Boolean,default:!1}},emits:["addAttention","deleteAttention"],data(){return{myTxs:[],loadingMyTx:!1,userAddress:"",fav:0}},computed:{dialogPofitLoss:{get(){return this.visible},set(e){this.$emit("update:visible",e)}},myTxHistoryList(){return this.myTxs},tokenInfo(){return this.$store.state.tokenInfo},chain(){var e;return null===(e=this.tokenInfo)||void 0===e?void 0:e.chain}},components:{UserTxs:N},methods:{getUserTxs(e,t){this.myTxs=[],this.userAddress=e,this.fav=t,this.loadingMyTx=!0,Object(M["ee"])(this.$store.state.id,e).then(e=>{this.myTxs=e.map(e=>({...e,timestamp:Number(e.time)||0,network:e.chain||"bsc",transactionAddress:e.transaction,walletAddress:e.wallet_address}))}).finally(()=>{this.loadingMyTx=!1})},addAttention(e,t){this.$emit("addAttention",e,t),this.fav=!0},deleteAttention(e,t){this.$emit("deleteAttention",e,t),this.fav=!1}}};i("5d5b");const P=D()(S,[["render",l],["__scopeId","data-v-a4b2356a"]]);t["a"]=P},e2fe:function(e,t,i){"use strict";i("f298")},e524:function(e,t,i){e.exports=i.p+"static/img/arrow-right.484eb652.svg"},f298:function(e,t,i){},f6d9:function(e,t,i){e.exports=i.p+"static/img/aveai-logg-w.4cb6a04d.svg"},f99f:function(e,t,i){e.exports=i.p+"static/img/top2.a8d8fb55.svg"},fa6f:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("71b4"),core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_find_last_index_js__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("14d9"),core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_push_js__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("13d5"),core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_reduce_js__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("0541"),core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_object_has_own_js__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("0643"),core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_esnext_iterator_constructor_js__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("76d6"),core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_esnext_iterator_every_js__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("2382"),core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_esnext_iterator_filter_js__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("fffc"),core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_esnext_iterator_find_js__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4e3e"),core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_esnext_iterator_for_each_js__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("a573"),core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_esnext_iterator_map_js__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("9d4a"),core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_esnext_iterator_reduce_js__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("9a9a"),core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_esnext_iterator_some_js__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("88e6"),core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_esnext_set_difference_v2_js__WEBPACK_IMPORTED_MODULE_12__),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("70cc"),core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(core_js_modules_esnext_set_intersection_v2_js__WEBPACK_IMPORTED_MODULE_13__),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("eb03"),core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(core_js_modules_esnext_set_is_disjoint_from_v2_js__WEBPACK_IMPORTED_MODULE_14__),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("22e5"),core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(core_js_modules_esnext_set_is_subset_of_v2_js__WEBPACK_IMPORTED_MODULE_15__),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("c01e"),core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(core_js_modules_esnext_set_is_superset_of_v2_js__WEBPACK_IMPORTED_MODULE_16__),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__("fa76"),core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(core_js_modules_esnext_set_symmetric_difference_v2_js__WEBPACK_IMPORTED_MODULE_17__),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__("8306"),core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(core_js_modules_esnext_set_union_v2_js__WEBPACK_IMPORTED_MODULE_18__),_utils_constants_js__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__("c9d9"),_store__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__("4360"),_api_index_js__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__("365c"),good_storage__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__("335a"),_components_unknownRisk__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__("0563"),_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__("75a0"),bignumber_js__WEBPACK_IMPORTED_MODULE_25__=__webpack_require__("901e"),bignumber_js__WEBPACK_IMPORTED_MODULE_25___default=__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_25__),lodash__WEBPACK_IMPORTED_MODULE_26__=__webpack_require__("2ef0"),lodash__WEBPACK_IMPORTED_MODULE_26___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_26__);function sleep(e){return new Promise(t=>setTimeout(t,e))}let time=0;async function getWidget(){var e,t;return null!==(e=window)&&void 0!==e&&null!==(e=e.TradingView)&&void 0!==e&&e.widget?null===(t=window)||void 0===t||null===(t=t.TradingView)||void 0===t?void 0:t.widget:time>10?null:(await sleep(1e3),time++,getWidget())}function formatProfilingToMarks(e,t,i,o,s,r){const a=[];let n="https://www.iconaves.com/";try{const e=localStorage.getItem("ave_globalConfig");var l;if(e)n=(null===(l=JSON.parse(e))||void 0===l?void 0:l.token_logo_url)||n}catch(d){}const c=Number(t);for(const u of e){const e=Math.floor(u.time/c)*c;for(const t of u.holders){const{wallet_address:l,wallet_logo:c}=t;t.buy&&a.push(formatTxsObj({el:{...t.buy,wallet_address:l,wallet_logo:c,tx_time:u.time},side:"buy",type:i,name:o,bucketTime:e,urlPrefix:n,t:s,f:r})),t.sell&&a.push(formatTxsObj({el:{...t.sell,wallet_address:l,wallet_logo:c,tx_time:u.time},side:"sell",type:i,name:o,bucketTime:e,urlPrefix:n,t:s,f:r}))}}return a}function formatTxsObj({el:e,side:t,type:i,urlPrefix:o,name:s,bucketTime:r,t:a,f:n}){var l;const c="buy"===t,d="31"===i;let u="";u=null!==(l=e.wallet_logo)&&void 0!==l&&l.logo&&e.wallet_logo.logo.includes(".webp")?e.wallet_logo.logo:c?`${o}signals/marks/mark-buy-${i}.png`:`${o}signals/marks/mark-sell-${i}.png`;let _="transparent",h=0;d&&(h=2,_=c?"#12B886":"#F6465D");const m=null===s||void 0===s?void 0:s.replace(/\(.*\)$/,""),b=a(c?"bought":"sold");let p="";if(30===Number(i)){const t=a(c?"netInflow":"netOutflow"),i=a(c?"inflow":"outflow"),o=a(c?"campaignBuyAvg":"campaignSellAvg");p=`${m} ${t}\n        ${i}: ${n.formatNumber2(e.volume,2)}(${n.formatNumber2(e.txns,0)})\n        ${o}: $${n.formatNumber2(Number(e.volume)/(Number(e.amount)||1),4)}\n        ${t}: ${n.formatNumber2(e.volume,2)}\n        ${n.formatDate(r,"YYYY-MM-DD HH:mm")}\n      `}else{var g;p=`${(null===(g=e.wallet_logo)||void 0===g?void 0:g.name)||m} ${b}\n        ${a("amountB")}: ${n.formatNumber2(e.amount,2)}\n        ${a("amountU")}: $${n.formatNumber2(e.volume,2)}\n        ${a("price")}: $${n.formatNumber2(Number(e.volume)/(Number(e.amount)||1),4)}\n        ${a("Txs")}: ${n.formatNumber2(e.txns)}\n        ${n.formatDate(r,"YYYY-MM-DD HH:mm")}\n      `}return{id:`${e.tx_time}-${t}-${i}-${e.wallet_address}`,time:r,color:{background:"transparent",border:_},imageUrl:u,label:c?"B":"S",labelFontColor:"#fff",minSize:28,hoveredBorderWidth:h,borderWidth:h,text:p,showLabelWhenImageLoaded:!1,user_address:e.wallet_address,tx_time:e.tx_time}}function switchResolution(e){"string"!==typeof e&&(e=String(e));const t={"1D":"1440","1W":"10080"};let i=t[e]||e;if(i.endsWith("S"))return i.slice(0,-1);const o=["1","5","15","30","60","120","240","1440","10080"];return o.includes(i)?String(60*Number(i)):String(i)}const supportSecChains=["bsc","base","mixmax","xlayer"],resolutionMap={"1D":"1440","1W":"10080","1S":"s1","5S":"s5","15S":"s15","30S":"s30"};__webpack_exports__["a"]={name:"TradingView",components:{UnknownRisk:_components_unknownRisk__WEBPACK_IMPORTED_MODULE_23__["a"],DialogRemind:_components_dialog_dialogRemind__WEBPACK_IMPORTED_MODULE_24__["a"]},data(){return{dialogVisible_remind:!1,widget:null,symbolInfo:null,datafeed:{onReady:this.onReady,resolveSymbol:this.resolveSymbol,getBars:this.getBars,subscribeBars:this.subscribeBars,unsubscribeBars:this.unsubscribeBars,getMarks:this.getMarks},onRealtimeCallback:null,onResetCacheNeededCallback:null,resolution:localStorage.getItem("resolution")||"15",oldResolution:localStorage.getItem("resolution")||"15",chartData:[],initLoading:!1,loading:!0,loadingChange:!1,noData:!1,firstBarTime:0,setMarks:null,showSwapKline:eval(localStorage.getItem("showSwapKline")||!0),showSwapKlineButton:null,showMarket:eval(localStorage.getItem("showMarket")||!1),bgColor:"#0A0B0D",kline_dot_show_obj:good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].get("kline_dot_show_obj")||{trade:!0,16:!1,19:!1,25:!0,30:!1,31:!0},statisticsNumList:[],initChartData:[],kline_marks:good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].get("kline_marks")||{},profilingMarksCache:new Map,markLoadingCache:new Map,hlineId:"",isReady:!1,dataTime:0,lastKline:null,onHistoryCallback:null,isResetKline:!1,resetKlineTimestamp:0,migrated:{},migratedHLineId:""}},computed:{arr_dot(){var e;let t=[{id:"trade",name:this.$t("mine")}],i=[];var o,s;(null===(e=this.statisticsNumList)||void 0===e?void 0:e.length)>0&&(null===(o=this.statisticsNumList)||void 0===o||o.forEach(e=>{var t;((null===e||void 0===e?void 0:e.total_address)||0)>0&&null!==(t=["16","19","25","30","31"])&&void 0!==t&&t.includes(e.type)&&i.push({id:e.type,name:null===e||void 0===e?void 0:e[this.$f.filterLanguage(this.$store.getters.language)]})}),t=null===(s=t)||void 0===s?void 0:s.concat(i));return t},klineParams(){return this.$store.state.wsKlineParams},myTxHistoryList(){return this.$store.state.myTxHistoryList},tokenAddress(){var e;return this.$store.state.id?null===(e=this.$f.getAddressAndChainFromId(_utils_constants_js__WEBPACK_IMPORTED_MODULE_19__["f"][this.$store.state.id]||this.$store.state.id))||void 0===e?void 0:e.address:""},tokenInfo(){return this.$store.state.tokenInfo},circulation(){var e,t,i,o;let s=new bignumber_js__WEBPACK_IMPORTED_MODULE_25___default.a(null===(e=this.tokenInfo)||void 0===e?void 0:e.total).minus(null===(t=this.tokenInfo)||void 0===t?void 0:t.lock_amount_dec).minus(null===(i=this.tokenInfo)||void 0===i?void 0:i.other_amount_dec).minus(null===(o=this.tokenInfo)||void 0===o?void 0:o.burn_amount_dec);return s.lt(0)?0:s},currentPrice(){return this.$store.state.tokenPrice||this.tokenInfo.priceUSD},circulationValue(){return this.circulation*Number(this.currentPrice||0)||0},marketCap(){var e,t,i;return(null===(e=this.tokenInfo)||void 0===e?void 0:e.lock_amount_dec)+(null===(t=this.tokenInfo)||void 0===t?void 0:t.other_amount_dec)+(null===(i=this.tokenInfo)||void 0===i?void 0:i.burn_amount_dec)>0?this.$f.formatNumber2(this.circulationValue||0,2,4,1e4):this.$f.formatNumber2(this.$store.state.marketCap||this.circulationValue||this.$store.getters.initMarketCap||0,2,4,1e4)},currentAccount(){return this.$store.state.currentAccount||this.$store.getters.botWallet||""}},watch:{"$store.state.id"(e){e&&this.getTotalholders()},"$store.state.ws.isConnected"(e){e&&this.subscribeKline()},"pair.value"(e,t){if(e&&"-"!==e&&e!==t&&!this.loading){var i,o,s,r;this.loadingChange=!0;let t=null===(i=this.$store.state)||void 0===i||null===(i=i.pair)||void 0===i?void 0:i.chain,a=t&&supportSecChains.includes(t);a||"15S"!==this.resolution&&"30S"!==this.resolution||(this.resolution="15",localStorage.setItem("resolution","15")),null===(o=this.onResetCacheNeededCallback)||void 0===o||o.call(this),null===(s=this.widget)||void 0===s||null===(r=s.setSymbol)||void 0===r||r.call(s,this.pair.symbol+"---"+e,this.resolution,()=>{this.loadingChange=!1,this.hlineId="",this.createPositionPriceLine(),this.createMigratePriceLine()}),this.saveStudy()}},"$store.state.documentVisible"(e){e&&this.onResetCacheNeededCallback&&this.onResetCacheNeededCallback()},"$store.state.ws.klineData"(e){var t,i,o;if(e.key!==(resolutionMap[this.resolution]||this.resolution)||this.loadingChange||this.$store.state.pair.address!==e.pairAddress||1===(null===(t=this.$store.state.pair)||void 0===t?void 0:t.is_reverse))return;let s=e.value;s.change&&this.$store.commit("setTokenInfoPriceChange",s.change);const r={};s.volume_24h&&(r.volume_24=s.volume_24h),s.amount_24h&&(r.amount_24=s.amount_24h),s.count_24h&&(r.exchangeTime_24=s.count_24h),Object.keys(r).length>0&&this.$store.commit("setTokenInfo",{...this.$store.state.tokenInfo,...r}),s.high_24h&&this.$store.commit("setState",{name:"highestPrice24",value:s.high_24h}),s.low_24h&&this.$store.commit("setState",{name:"lowestPrice24",value:s.low_24h});const a=this.showMarket,n=this.circulation?this.circulation.toNumber?this.circulation.toNumber():Number(this.circulation):0;let l={time:Number(1e3*s.time),open:Number(s.open),high:Number(s.high),low:Number(s.low),close:Number(s.close),volume:Number(s.volume)};a&&(l.open=l.open*n/1e3,l.high=l.high*n/1e3,l.low=l.low*n/1e3,l.close=l.close*n/1e3);const c=this.chartData.length-1,d=this.chartData[c]||{};l=this.$f.formatKlineLast(l,d);const u=l;if(this.$store.state.documentVisible&&u.time>=((null===d||void 0===d?void 0:d.time)||0)&&(this.lastKline=u,this.onRealtimeCallback&&u.time&&this.onRealtimeCallback(u)),u.time>((null===d||void 0===d?void 0:d.time)||0))this.chartData.push(u);else if((null===d||void 0===d?void 0:d.time)===u.time)this.chartData[c]=u;else{const e=this.chartData.findLastIndex(e=>e.time===u.time);-1!==e&&this.chartData[e].volume<=u.volume&&(this.chartData[e]=u)}let _=(null===(i=this.chartData)||void 0===i||null===(i=i[this.chartData.length-1])||void 0===i?void 0:i.close)||0;_>0&&s.close>0&&this.$store.state.pair.address===e.pairAddress&&(this.$store.commit("setTokenInfoPrice",s.close),s.close>this.$store.state.highestPrice24&&this.$store.commit("setState",{name:"highestPrice24",value:s.close}),s.close<this.$store.state.lowestPrice24&&this.$store.commit("setState",{name:"lowestPrice24",value:s.close})),(null===(o=this.chartData)||void 0===o?void 0:o.length)>900&&this.chartData.splice(0,this.chartData.length-900)},currentAccount:{handler:async function(e){if(e){if(this.kline_dot_show_obj["trade"]=!0,this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"));this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}else{var t,i,o,s,r;if(this.kline_dot_show_obj["trade"]=!1,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),this.kline_marks["trade"]&&delete this.kline_marks["trade"],good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),null!==(t=this.widget)&&void 0!==t&&t.activeChart)null===(i=this.widget)||void 0===i||null===(o=i.activeChart)||void 0===o||null===(s=(r=o.call(i)).clearMarks)||void 0===s||s.call(r);this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}},deep:!0},"$store.state.mode"(){"Token"!=this.$route.name&&"Brc"!=this.$route.name||(this.loading=!0,this.createWidget())},"$store.state.ws.tx":{handler:async function(e){var t,i,o;let s=null===(t=this.$store.state)||void 0===t||null===(t=t.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||null===(t=t.addresses)||void 0===t||null===(i=t.find)||void 0===i||null===(i=i.call(t,t=>(null===t||void 0===t?void 0:t.chain)===(null===e||void 0===e?void 0:e.chain)))||void 0===i?void 0:i.address,r=this.$store.state.currentAccount||s,a=this.$store.state.tokenInfo.address,n=a===(null===e||void 0===e?void 0:e.from_address)||a===(null===e||void 0===e?void 0:e.to_address);if(e&&n&&(null===(o=e.wallet_address)||void 0===o?void 0:o.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())){let t=this.isBuy(e)?"buy":"sell",i={time:e.time};if(i[t]={volume:this.getAmountUSD(e),amount:this.getAmount(e),txns:1},this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"),i);this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}},deep:!0},"$store.state.ws.simple_tx":{handler:async function(e){var t,i,o;let s=null===(t=this.$store.state)||void 0===t||null===(t=t.bot)||void 0===t||null===(t=t.userInfo)||void 0===t||null===(t=t.addresses)||void 0===t||null===(i=t.find)||void 0===i||null===(i=i.call(t,t=>(null===t||void 0===t?void 0:t.chain)===(null===e||void 0===e?void 0:e.chain)))||void 0===i?void 0:i.address,r=this.$store.state.currentAccount||s,a=this.$store.state.tokenInfo.address,n=a===(null===e||void 0===e?void 0:e.target);if(e&&n&&(null===(o=e.maker)||void 0===o?void 0:o.toLowerCase())===(null===r||void 0===r?void 0:r.toLowerCase())){let t=this.isBuy(e)?"buy":"sell",i={time:e.time};if(i[t]={volume:this.getAmountUSD(e),amount:this.getAmount(e),txns:1},this.kline_dot_show_obj["trade"]){let e=await this.dealOtherMarkData(this.resolution,"trade",this.$t("mine"),i);this.kline_marks["trade"]=e,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}}},deep:!0},"$store.state.bot.allChainsBalances"(e){var t;(null===e||void 0===e?void 0:e.length)>0&&this.isReady&&this.widget&&null!==(t=this.widget)&&void 0!==t&&t.activeChart&&this.createPositionPriceLine()}},props:{pair:{type:Object}},created(){this.init()},methods:{init(){this.loading=!0,this.createWidget(),this.kline_marks={},localStorage.removeItem("kline_marks"),localStorage.removeItem("kline_marks_my"),this.getTotalholders()},addKlineClickHandler(){let e=0;this.widget.subscribe("mouse_down",()=>{e=performance.now()}),this.widget.subscribe("mouse_up",t=>{var i;if(performance.now()-e>=200)return;const o=null===(i=this.widget)||void 0===i?void 0:i.activeChart().getTimeScale().coordinateToTime(t.clientX-56);if(o&&this.resolution){const e={"1S":{val:1,unit:"s"},"5S":{val:5,unit:"s"},"15S":{val:15,unit:"s"},"30S":{val:30,unit:"s"},1:{val:1,unit:"m"},5:{val:5,unit:"m"},15:{val:15,unit:"m"},30:{val:30,unit:"m"},60:{val:1,unit:"h"},120:{val:2,unit:"h"},240:{val:4,unit:"h"},"1D":{val:1,unit:"d"},"1W":{val:1,unit:"w"}},t=e[this.resolution]||{val:parseInt(this.resolution),unit:"m"},i=this.$dayjs(1e3*o).add(t.val,t.unit).unix();this.$store.state.isClickKlineFilter&&this.$store.commit("setKlineDateFilter",[String(o),String(i)])}})},addMarkClickHandler(){this.widget&&"function"===typeof this.widget.subscribe&&this.widget.subscribe("onMarkClick",e=>{let t=null,i=this.currentAccount;try{for(const[o,s]of this.profilingMarksCache.entries())if(s&&Array.isArray(s)){const o=s.find(t=>String(t.id)===String(e));if(o){t=o,i=o.user_address||this.currentAccount;break}}if(!t&&this.kline_marks["trade"]){const i=this.kline_marks["trade"].find(t=>String(t.id)===String(e)||String(t.id).includes(String(e)));i&&(t=i)}}catch(s){}var o;t&&(this.$store.state.showPopTokenDetails=!this.$store.state.showPopTokenDetails,this.$store.state.token_user_address=i,this.$store.state.token_user={id:this.$store.state.id||"",symbol:this.tokenInfo.symbol||"",logo_url:this.tokenInfo.logo_url||"",chain:(null===(o=this.$store.state.pair)||void 0===o?void 0:o.chain)||"",address:this.tokenInfo.address||"",remark:""})})},async loadInitialMarks(){var e;const t=this.arr_dot.filter(e=>!0===this.kline_dot_show_obj[e.id]).map(async e=>{try{const t=await this.dealOtherMarkData(this.resolution,e.id,e.name);this.kline_marks[e.id]=t}catch(t){}});await Promise.all(t),good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),null!==(e=this.widget)&&void 0!==e&&e.activeChart&&this.widget.activeChart().refreshMarks()},resetKline(){var e,t,i,o;const s=Date.now();this.isResetKline=!0,this.resetKlineTimestamp=s,this.noData=!1,this.firstBarTime=0,null===(e=this.onResetCacheNeededCallback)||void 0===e||e.call(this),null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||null===(i=i.call(t))||void 0===i||null===(o=i.resetData)||void 0===o||o.call(i),setTimeout(()=>{this.resetKlineTimestamp=0},1e3)},renderKline:Object(lodash__WEBPACK_IMPORTED_MODULE_26__["throttle"])((function(){if(this.onRealtimeCallback&&!this.loadingChange){const e=this.chartData[this.chartData.length-1];e&&(!this.lastKline||e.time>this.lastKline.time)&&this.onRealtimeCallback(e)}}),500,{leading:!1,trailing:!0}),getTotalholders(){var e;let{chain:t}=this.$f.getAddressAndChainFromId(this.$route.params.id),i=null===(e=this.$store.state.ave_globalConfig)||void 0===e?void 0:e.chains_support_data_analysis_insider_sniper_V3,o=(null===i||void 0===i?void 0:i[t])||{};void 0!==o&&Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["Nd"])({token_id:this.$store.state.id}).then(e=>{this.statisticsNumList=Array.isArray(e)?null===e||void 0===e?void 0:e.filter(e=>{var t;return null===(t=["16","19","25","30","31"])||void 0===t?void 0:t.includes(e.type)}):[],this.$store.state.statisticsNumList=Array.isArray(e)?e:[]}).catch(e=>{this.statisticsNumList=[],this.$store.state.statisticsNumList=[]}).finally(()=>{})},isBuy(e){if("direction"in e&&"target"in e)return"buy"===e.direction;if(e.from_address&&e.from_address===this.tokenAddress)return!1;if(e.to_address&&e.to_address===this.tokenAddress)return!0;let t=e.amount0In>0?e.token0Address:e.token1Address;return t!==this.tokenAddress},getPrice(e){if("direction"in e&&"target"in e)return e.price_u;if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_price_usd);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_price_usd);let t=0;return t=this.tokenAddress===e.token0Address?e.token0PriceUSD||0:e.token1PriceUSD||0,this.$f.formatNumber(t)},getAmount(e){if("direction"in e&&"target"in e)return Number(e.target_amt||0);if(e.from_address&&e.from_address===this.tokenAddress)return this.$f.formatNumber(e.from_amount);if(e.to_address&&e.to_address===this.tokenAddress)return this.$f.formatNumber(e.to_amount);let t=0;return t=e.amount0In>0?this.tokenAddress===e.token0Address?e.amount0In:e.amount1Out:this.tokenAddress===e.token1Address?e.amount1In:e.amount0Out,this.$f.formatNumber(t)},getAmountUSD(e){return"direction"in e&&"target"in e?Number(e.target_amt||0)*e.price_u:e.from_address&&e.from_address===this.tokenAddress?this.$f.formatNumber(Number(e.from_amount)*Number(e.from_price_usd)):e.to_address&&e.to_address===this.tokenAddress?this.$f.formatNumber(Number(e.to_amount)*Number(e.to_price_usd)):this.$f.formatNumber(e.amountUSD)},async createWidget(){var e,t,i;const o="100%",s="100%",r="tv_chart_container",a=await getWidget();let n=null===(e=this.$store.state)||void 0===e||null===(e=e.pair)||void 0===e?void 0:e.chain,l=n&&supportSecChains.includes(n);const c=["1S","5S","1","5","15","60","240","1D","1W"],d=["1S","5S","15S","30S","1","5","15","60","240","1D","1W"];let u=[];if(localStorage["tradingview.IntervalWidget.quicks"]&&localStorage.tradingViewIntervalSet){let e=JSON.parse(localStorage["tradingview.IntervalWidget.quicks"]);e.includes(this.resolution)||(this.resolution="15",localStorage.setItem("resolution","15"))}else u=l?d:c,localStorage["tradingview.IntervalWidget.quicks"]=JSON.stringify(u),localStorage.tradingViewIntervalSet="true";if(this.widget=new a({symbol:(null===(t=this.pair)||void 0===t||null===(t=t.symbol)||void 0===t?void 0:t.replace("<","＜"))||" ",width:o,height:s,interval:this.resolution,theme:"light"===this.$store.state.mode?"Light":"Dark",container:r,datafeed:this.datafeed,library_path:this.$store.state.s3BaseUrl+"charting_library/",custom_css_url:"night-3.css",locale:this.formatLang(this.$store.getters.language),seconds_resolution:["1S","5S","15S","30S"],disabled_features:["header_symbol_search","header_fullscreen_button","header_screenshot","header_compare","volume_force_overlay","header_undo_redo","header_settings","header_saveload","timeframes_toolbar"],enabled_features:["seconds_resolution","request_only_visible_range_on_reset"],charts_storage_url:location.host,charts_storage_api_version:"2.0",timezone:this.$f.getTimezone(),time_frames:[],overrides:{volumePaneSize:"small","paneProperties.topMargin":"10","paneProperties.backgroundType":"solid","paneProperties.background":"light"===this.$store.state.mode?"#fff":this.bgColor,"paneProperties.vertGridProperties.style":2,"paneProperties.legendProperties.showLegend":!1,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.linewidth":2,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),localStorage["tradingview.chartproperties"]){let e=JSON.parse(localStorage["tradingview.chartproperties"]);e.paneProperties.background="light"===this.$store.state.mode?"#fff":this.bgColor,e.paneProperties.backgroundType="solid",localStorage["tradingview.chartproperties"]=JSON.stringify(e)}this.widget.onChartReady(()=>{var e,t;document.getElementById(r).childNodes[0].setAttribute("style",`visibility:visible;;width:${o};height:${s};`),this.saveStudy(),"light"===this.$store.state.mode&&this.widget.applyOverrides({"scalesProperties.textColor":"#333"}),this.loading=!1,null===(e=this.widget)||void 0===e||null===(t=e.activeChart)||void 0===t||null===(t=t.call(e))||void 0===t||t.onIntervalChanged().subscribe(null,e=>{var t;this.resolution!==e&&(this.oldResolution=this.resolution,this.resolution=e,localStorage.setItem("resolution",e),null===(t=this.onResetCacheNeededCallback)||void 0===t||t.call(this))}),this.hlineId="",this.migratedHLineId="",this.createStudy(),this.addKlineClickHandler(),this.addMarkClickHandler(),this.loadInitialMarks()}),null===(i=this.widget)||void 0===i||i.headerReady().then(()=>{var e,t,i,o,s;let r=null===(e=this.widget)||void 0===e?void 0:e.createButton();r&&(r.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',r.onclick=()=>{this.showMarket=!this.showMarket,localStorage.setItem("showMarket",this.showMarket),r.innerHTML=this.showMarket?'<span style="font-size: 12px;cursor: pointer;">Price / <span style="color:#286DFF">MCap</span></span>':'<span style="font-size: 12px;cursor: pointer;"><span style="color:#286DFF">Price</span> / MCap</span>',this.createWidget()});let a=null===(t=this.widget)||void 0===t?void 0:t.createButton(),n=null===(i=this.widget)||void 0===i?void 0:i.createButton();this.arr_dot.forEach(e=>{"trade"==e.id?(a&&(a.innerHTML=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`),a.onclick=async()=>{let t=e.id,i=e.name;if(1==this.kline_dot_show_obj[t])this.kline_dot_show_obj[t]=!1,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),a.innerHTML=`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center;">${e.name}</span>`;else{if(this.kline_dot_show_obj[t]=!0,!this.kline_marks[t]||0===this.kline_marks[t].length){let e=await this.dealOtherMarkData(this.resolution,t,i);this.kline_marks[t]=e,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks)}good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),a.innerHTML=`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center;" >${e.name}</span>`}this.setMarks&&this.setMarksData(this.resolution,this.setMarks)}):n&&(n.innerHTML+=this.kline_dot_show_obj[e.id]?`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px;color:#286DFF; cursor: pointer;display: flex;align-items: center; margin-right: 10px" >${e.name}</span>`:`<span id="dot-${e.id}" class="${e.id}" style="font-size: 12px; cursor: pointer;display: flex;align-items: center; margin-right: 10px">${e.name}</span>`)}),n.onclick=async e=>{var t;let i=null===(t=e.target.classList)||void 0===t?void 0:t.value,o=e.target.innerHTML;if(1==this.kline_dot_show_obj[i])this.kline_dot_show_obj[i]=!1,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),e.target.style.color="#d1d4dc";else{if(this.kline_dot_show_obj[i]=!0,!this.kline_marks[i]||0===this.kline_marks[i].length){let e=await this.dealOtherMarkData(this.resolution,i,o);this.kline_marks[i]=e,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks)}good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_dot_show_obj",this.kline_dot_show_obj),e.target.style.color="#286DFF"}this.setMarks&&this.setMarksData(this.resolution,this.setMarks)};let l=null===(o=this.widget)||void 0===o?void 0:o.createButton({align:"right"});l.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;" onMouseOver="this.style.background=\'none\'"  onMouseLeave="this.style.background=\'none\'"><img width="18" height="18" src="https://ave.s3.ap-east-1.amazonaws.com/im/alert.png" /></div>',l.onclick=()=>{this.dialogVisible_remind=!0,this.$refs.remind.init()};let c=null===(s=this.widget)||void 0===s?void 0:s.createButton({align:"right"});c.innerHTML='<div style="display: flex;align-items: center;cursor:pointer;padding: 7px 5px 7px 0;border-radius: 6px;"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">\n          <path d="M15.2182 3.04349C13.7649 1.95145 11.9578 1.30436 10 1.30436C5.19744 1.30436 1.30437 5.197 1.30437 9.99998C1.30437 11.3595 1.61643 12.646 2.17263 13.7925L1.09227 14.549C0.394018 13.1844 0 11.6381 0 9.99998C0 4.47692 4.47711 0 9.99999 0C12.2907 0 14.4009 0.770215 16.0869 2.0652V0.650475C16.0869 0.29128 16.3765 0 16.7391 0C17.0996 0 17.3913 0.292122 17.3913 0.650475V3.69649C17.3913 3.87652 17.3191 4.03871 17.2015 4.15676C17.0822 4.27482 16.9195 4.34783 16.7404 4.34783H13.6944C13.3352 4.34783 13.0435 4.05826 13.0435 3.69567C13.0435 3.33563 13.3356 3.04351 13.6944 3.04351H15.2182V3.04349ZM4.78177 16.9565C6.23513 18.0486 8.04198 18.6957 9.99999 18.6957C14.8026 18.6957 18.6956 14.8021 18.6956 10C18.6956 8.89779 18.4906 7.84394 18.1169 6.87417L19.2136 6.1065C19.7202 7.30301 20 8.61839 20 10C20 15.5222 15.5227 20 10 20C7.70955 20 5.59912 19.2298 3.91308 17.9348V19.3487C3.91308 19.7087 3.62348 20 3.26089 20C2.90065 20 2.60873 19.7079 2.60873 19.3487V16.3026C2.60873 16.1235 2.68093 15.9605 2.79832 15.8432C2.91783 15.7252 3.08045 15.6521 3.25964 15.6521H6.30566C6.66508 15.6521 6.95657 15.9417 6.95657 16.3043C6.95657 16.6644 6.66444 16.9565 6.30566 16.9565H4.78177V16.9565Z" fill="#9CA1A8"/>\n          </svg>\n        </div>',c.onclick=()=>{this.resetKline()}})},onReady(e){var t;let i=null===(t=this.$store.state)||void 0===t||null===(t=t.pair)||void 0===t?void 0:t.chain,o=i&&supportSecChains.includes(i),s={supported_resolutions:o?["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"]:["1S","5S","1","5","15","30","60","120","240","1D","1W"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0};setTimeout(()=>e(s))},resolveSymbol(e,t,i){try{var o,s,r,a,n,l,c;let i=null===(o=this.$store.state)||void 0===o||null===(o=o.pair)||void 0===o?void 0:o.chain,d=i&&supportSecChains.includes(i),u={name:null===e||void 0===e||null===(s=e.toLocaleUpperCase)||void 0===s?void 0:s.call(e),ticker:null===e||void 0===e||null===(r=e.toLocaleUpperCase)||void 0===r?void 0:r.call(e),description:(null===e||void 0===e||null===(a=e.toLocaleUpperCase)||void 0===a||null===(a=a.call(e))||void 0===a||null===(n=a.split)||void 0===n||null===(n=n.call(a,"---"))||void 0===n?void 0:n[0])||"",exchange:"Ave.ai",timezone:this.$f.getTimezone(),format:10,minmov:1,minmove2:0,pricescale:(null===(l=this.pair)||void 0===l?void 0:l.price)>0?10**this.$f.formatDecimals(null===(c=this.pair)||void 0===c?void 0:c.price).precision:1e7,volume_precision:10,fractional:!1,session:"24x7",has_intraday:!0,intraday_multipliers:["1","5","15","30","60","120","240"],has_seconds:!0,seconds_multipliers:["1","5","15","30"],has_daily:!0,has_weekly_and_monthly:!0,supported_resolutions:d?["1S","5S","15S","30S","1","5","15","30","60","120","240","1D","1W"]:["1S","5S","1","5","15","30","60","120","240","1D","1W"],data_status:"streaming",visible_plots_set:"ohlcv"};d||(u.supported_resolutions=["1S","5S","1","5","15","30","60","120","240","1D","1W"],u.seconds_multipliers=["1","5"]),setTimeout(()=>t(u),0)}catch(d){i(d)}},getMarks(e,t,i,o,s){this.setMarksData(s,o),this.setMarks=o;const r=`${Math.floor(t/3600)}-${Math.floor(i/3600)}`;if(this._lastGetMarksRange===r)return;this._lastGetMarksRange=r;const a=t,n=i,l=this.arr_dot.filter(e=>!0===this.kline_dot_show_obj[e.id]);if(l.length>0){const e=l.map(async e=>{try{const t=await this.dealOtherMarkData(s,e.id,e.name,null,a,n);if(t&&t.length>0){const i=this.kline_marks[e.id]||[],o=new Set(i.map(e=>String(e.id))),s=t.filter(e=>!o.has(String(e.id)));if(s.length>0)return this.kline_marks[e.id]=[...s,...i].sort((e,t)=>e.time-t.time),!0}}catch(t){}return!1});Promise.all(e).then(e=>{var t;e.some(e=>!0===e)&&null!==(t=this.widget)&&void 0!==t&&t.activeChart&&this.widget.activeChart().refreshMarks()})}},async setMarksData(e,t){var i,o,s;let r=[];for(let c in this.kline_marks)Object.hasOwn(this.kline_marks,c)&&this.kline_dot_show_obj[c]&&(r=r.concat(this.kline_marks[c]));if(r.sort((e,t)=>e.time-t.time),null!==(i=this.migrated)&&void 0!==i&&i.time){var a;let e=localStorage.getItem("ave_globalConfig"),t="https://www.iconaves.com/";try{var n;if(e)t=null===(n=JSON.parse(e))||void 0===n?void 0:n.token_logo_url}catch(l){}let i=null===(a=this.migrated)||void 0===a||null===(a=a.tag)||void 0===a?void 0:a.split("_"),o=[{id:this.migrated.time,time:this.migrated.time/1e3,type:"migrated",color:{background:"transparent",padding:"10",border:"transparent"},imageUrl:t+"signals/marks/mark-m.png",labelFontColor:"#fff",minSize:25,hoveredBorderWidth:0,borderWidth:0,text:`${this.$t("migrated")}\n           ${this.$t("migratedTo")}: ${null===i||void 0===i?void 0:i[2]}\n           ${this.$t("migratedPrice")}: ${null!==i&&void 0!==i&&i[4]?"$"+this.$f.formatNumber2((null===i||void 0===i?void 0:i[4])||0):"--"}\n           ${this.$f.formatDate(null===i||void 0===i?void 0:i[3],"YYYY-MM-DD HH:mm:ss")}\n           `}];r=r.concat(o)}null!==(o=this.widget)&&void 0!==o&&o.activeChart&&this.widget.activeChart().clearMarks(),t&&t(r),null!==(s=this.widget)&&void 0!==s&&s.activeChart&&this.$nextTick(()=>{this.widget.activeChart().refreshMarks()})},dealMarkData(e,t,i,o){let s=switchResolution(t),r=e.map(e=>({...e})),a={},n=[];r.forEach(e=>{let t=parseInt(e.time/Number(s));void 0===a[t]&&(a[t]=n.length,n[a[t]]=[]),n[a[t]].push(e)});let l=[];n.forEach(e=>{let t=e.filter(e=>this.isBuy(e)),i=e.filter(e=>!this.isBuy(e));t.length>0&&l.push(t),i.length>0&&l.push(i)});let c=l.map(e=>{let t=e.length,r=e[0],a=e.reduce((e,t)=>Number(this.getAmountUSD(e))+Number(this.getAmountUSD(t)),0),n=1===t?this.$f.formatDate(r.time,"MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"MM-DD HH:mm")+" ~ "+this.$f.formatDate(r.time,"MM-DD HH:mm"),l=r.time-r.time%Number(s);return{id:r.time+"trade",time:l,type:"trade",color:this.isBuy(r)?{background:i}:{background:o},label:this.isBuy(r)?"B":"S",labelFontColor:"#fff",minSize:14,hoveredBorderWidth:0,position:this.isBuy(r)?"below":"above",borderWidth:0,text:`${this.isBuy(r)?this.$t("buy"):this.$t("sell")}  $${this.$f.formatNumber2(a)}  ${n}`}});return c},getKlineProfilingTagsV2(e,t,i,o,s=null,r=null){var a;if(0===this.chartData.length)return Promise.resolve([]);let n=null!==s?s:parseInt(((null===(a=this.initChartData[0])||void 0===a?void 0:a.time)||0)/1e3),l=null!==r?r:parseInt(Date.now()/1e3);return new Promise((s,r)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["oc"])(e,n,l,t,i).then(r=>{if(Array.isArray(r)){const a=formatProfilingToMarks(r||[],e,t,o,this.$t.bind(this),this.$f),c=`${i}-${t}-${n}-${l}`;this.profilingMarksCache.set(c,a),s(a)}else s([])}).catch(e=>{r([])})})},getKlineTxTags(e,t=null,i=null){var o;if(0===this.chartData.length||!this.$store.state.currentAccount&&!this.$store.getters.botWallet)return Promise.resolve([]);let s=null!==t?t:parseInt(((null===(o=this.initChartData[0])||void 0===o?void 0:o.time)||0)/1e3),r=null!==i?i:parseInt(Date.now()/1e3);return new Promise((t,i)=>{Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["pc"])(e,s,r).then(e=>{let i=Array.isArray(e)?e:[];t(i)}).catch(e=>{i([])})})},async dealOtherMarkData(e,t,i,o,s=null,r=null){let a=switchResolution(e||this.resolution);if("trade"===t&&!o){const e=`${t}-${a}-${s}-${r}`;if(this.markLoadingCache.has(e))return this.markLoadingCache.get(e);const o=(async()=>{try{const t=await this.getKlineTxTags(a,s,r);null===s&&null===r&&good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks_my",t);const o=this.formatTradeMarks(t,a,i);return o}finally{setTimeout(()=>{this.markLoadingCache.delete(e)},1e3)}})();return this.markLoadingCache.set(e,o),o}if("trade"===t&&o){let e=good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].get("kline_marks_my")||[];return e.push(o),good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks_my",e),this.formatTradeMarks(e,a,i)}if("trade"!==t){const e=await this.getKlineProfilingTagsV2(a,t,this.pair.value,i,s,r);return e}return[]},formatTradeMarks(e,t,i){let o=e.map(e=>({...e})),s={},r=[];o.forEach(e=>{let i=parseInt(e.time/Number(t));void 0===s[i]&&(s[i]=r.length,r[s[i]]=[]),r[s[i]].push(e)});let a=[];null===r||void 0===r||r.forEach(e=>{let t=e.map(e=>({time:e.time,...e["buy"],add:e["add"],type:"buy"}));t=t.filter(e=>void 0!==e.volume);let i=e.map(e=>({time:e.time,...e["sell"],remove:e["remove"],type:"sell"}));i=i.filter(e=>void 0!==e.volume),t.length>0&&a.push(t),i.length>0&&a.push(i)});let n=a.map((e,o)=>{var s;let r=e.length,a=e[0],n=e.reduce((e,t)=>e+Number(t.amount),0),l=e.reduce((e,t)=>e+Number(t.volume),0),c=e.reduce((e,t)=>Number(e)+Number(t.txns),0),d=1===r?this.$f.formatDate(a.time,"YYYY-MM-DD HH:mm"):this.$f.formatDate(e[e.length-1].time,"YYYY-MM-DD HH:mm")+" ~ "+this.$f.formatDate(a.time,"YYYY-MM-DD HH:mm"),u=a.time-a.time%Number(t),_="buy"==a.type?this.$t("bought"):this.$t("sold");i=null===(s=i)||void 0===s||null===(s=s.split("("))||void 0===s?void 0:s[0];let h=`${i} ${_}\n${this.$t("amountB")}: ${this.$f.formatNumber2(n)}\n${this.$t("amountU")}: $${this.$f.formatNumber2(l)}\n${this.$t("price")}: $${this.$f.formatNumber2(l/(n||1))}\n${this.$t("Txs")}: ${this.$f.formatNumber2(c)}\n${d}`,m=localStorage.getItem("ave_globalConfig"),b="https://www.iconaves.com/";try{var p;if(m)b=null===(p=JSON.parse(m))||void 0===p?void 0:p.token_logo_url}catch(g){}return{id:`trade-${a.time}-${a.type}-${o}`,time:u,type:a.type,color:{background:"transparent",padding:"10",border:"transparent"},imageUrl:"buy"==a.type?b+"signals/marks/mark-buy-trade.png":b+"signals/marks/mark-sell-trade.png",labelFontColor:"#fff",minSize:20,hoveredBorderWidth:0,borderWidth:0,text:h}});return n},async getBars(e,t,i,o,s){const{from:r,to:a,firstDataRequest:n}=i;try{if(n){var l;this.noData=!1,this.firstBarTime=0,this.loadingChange=!0;let e=null===(l=this.$store.state)||void 0===l||null===(l=l.pair)||void 0===l?void 0:l.chain;const i=switchResolution(t),s=this.$route.params.id,a=this.$store.state.pair.value;if(!s||!a||!e)return o([],{noData:!0}),void(this.loadingChange=!1);let n=["kline",this.$store.state.pair.address,t,e],c=this.$store.state.wsKlineParams,d=null===n||void 0===n?void 0:n.every((e,t)=>e===c[t]);d||this.unsubscribeKline();const u={interval:i,pair_id:""+a,from:r,to:0,category:"u",limit_count:300},_=await Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["kc"])(u),h=(null===_||void 0===_?void 0:_.kline_data)||[],m=this.circulation?this.circulation.toNumber?this.circulation.toNumber():Number(this.circulation):0,b=this.showMarket,p=[];for(let t=0;t<h.length;t++){const e=h[t],i=e.t||e.time||(Array.isArray(e)?e[0]:0),o=Number(e.o||e.open||(Array.isArray(e)?e[1]:0)),s=Number(e.h||e.high||(Array.isArray(e)?e[2]:0)),r=Number(e.l||e.low||(Array.isArray(e)?e[3]:0)),a=Number(e.c||e.close||(Array.isArray(e)?e[4]:0)),n=Number(e.vol||e.v||e.volume||(Array.isArray(e)?e[5]:0)),l={time:1e3*Number(i),open:o,high:s,low:r,close:a,volume:n,tag:e.tag||""};b&&m>0&&(l.open=l.open*m/1e3,l.high=l.high*m/1e3,l.low=l.low*m/1e3,l.close=l.close*m/1e3),p.push(l)}this.initChartData=p,this.chartData=p,this.migrated=(null===h||void 0===h?void 0:h.find(e=>{var t;return""!==e.tag&&(null===(t=e.tag)||void 0===t?void 0:t.startsWith("migrated"))}))||{},this.noData=0===h.length,p.length>0&&(this.firstBarTime=Math.floor(p[0].time/1e3)),o(p,{noData:this.noData}),this.loadingChange=!1,good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("kline_marks",this.kline_marks),this.$nextTick(()=>{setTimeout(()=>{this.loadInitialMarks()},200),d||this.subscribeKline(),setTimeout(()=>{this.isResetKline=!1},500)})}else{if(this.noData)return void o([],{noData:!0});const e=Date.now()-this.resetKlineTimestamp;if(this.isResetKline||this.resetKlineTimestamp>0&&e<1e3)return void o([],{noData:!1});this.loadingChange=!0;const i=switchResolution(t),s=this.$store.state.pair.value,n=this.$store.state.pair.chain,l=this.$route.params.id;if(!s||!l||!n)return void o([],{noData:!0});const c={interval:i,from:r,to:this.firstBarTime||a,category:"u",limit_count:300};s&&(c.pair_id=""+s);const d=await Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["kc"])(c),u=(null===d||void 0===d?void 0:d.kline_data)||[],_=this.showMarket,h=this.circulation?this.circulation.toNumber?this.circulation.toNumber():Number(this.circulation):0,m=u.map(e=>{const t=e.t||e.time||(Array.isArray(e)?e[0]:0),i=Number(e.o||e.open||(Array.isArray(e)?e[1]:0)),o=Number(e.h||e.high||(Array.isArray(e)?e[2]:0)),s=Number(e.l||e.low||(Array.isArray(e)?e[3]:0)),r=Number(e.c||e.close||(Array.isArray(e)?e[4]:0)),a=Number(e.vol||e.v||e.volume||(Array.isArray(e)?e[5]:0)),n={time:1e3*Number(t),open:i,high:o,low:s,close:r,volume:a};return _&&h>0&&(n.open=n.open*h/1e3,n.high=n.high*h/1e3,n.low=n.low*h/1e3,n.close=n.close*h/1e3),n});if(m.length>0){this.firstBarTime;this.firstBarTime=Math.floor(m[0].time/1e3)}this.noData;this.noData=0===u.length,this.loadingChange=!1,o(m,{noData:this.noData}),this.loadHistoricalMarks(r,a,t)}}catch(c){this.loadingChange=!1,s(c)}},subscribeBars(e,t,i,o,s){this.setData(),t===this.resolution&&(this.onRealtimeCallback=i,this.onResetCacheNeededCallback=s)},unsubscribeBars(e){},getKlineHistory(e=this.resolution,t=null){var i;let o=null===(i=this.$store.state)||void 0===i||null===(i=i.pair)||void 0===i?void 0:i.chain,s=o&&supportSecChains.includes(o);s||"15S"!==e&&"30S"!==e||(e="15");let r=switchResolution(e);return new Promise(i=>{if(this.$route.params.id&&this.$store.state.pair.value==this.pair.value){let o=["kline",this.$store.state.pair.address,e,this.$store.state.pair.chain],s=this.$store.state.wsKlineParams,a=null===o||void 0===o?void 0:o.every((e,t)=>e===s[t]);a||this.unsubscribeKline();const n={interval:r,pair_id:""+this.pair.value,from:0,to:Math.floor(Date.now()/1e3),category:"u",limit_count:300};Object(_api_index_js__WEBPACK_IMPORTED_MODULE_21__["kc"])(n).then(async e=>{let o=(null===e||void 0===e?void 0:e.kline_data)||[];const s=this.circulation?this.circulation.toNumber?this.circulation.toNumber():Number(this.circulation):0,r=this.showMarket;this.initChartData=o.map(e=>{const t=e.t||e.time||(Array.isArray(e)?e[0]:0),i=Number(e.o||e.open||(Array.isArray(e)?e[1]:0)),o=Number(e.h||e.high||(Array.isArray(e)?e[2]:0)),a=Number(e.l||e.low||(Array.isArray(e)?e[3]:0)),n=Number(e.c||e.close||(Array.isArray(e)?e[4]:0)),l=Number(e.vol||e.v||e.volume||(Array.isArray(e)?e[5]:0)),c={time:1e3*Number(t),open:i,high:o,low:a,close:n,volume:l,tag:e.tag||""};return r&&s>0&&(c.open=c.open*s/1e3,c.high=c.high*s/1e3,c.low=c.low*s/1e3,c.close=c.close*s/1e3),c}),this.chartData=this.initChartData,this.migrated=(null===o||void 0===o?void 0:o.find(e=>{var t;return""!==e.tag&&(null===(t=e.tag)||void 0===t?void 0:t.startsWith("migrated"))}))||{},setTimeout(()=>{this.loadInitialMarks()},300),t&&t(),i(o),a||this.subscribeKline()}).catch(e=>{i([])}).finally(()=>{})}else i([])})},setData(e=this.chartData){Array.isArray(e)},subscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.resolution&&this.$store.state.pair.address){var e,t;const s={"1D":"1440","1W":"10080"};let r=s[this.resolution]||this.resolution;var i,o;if(null!==(e=r)&&void 0!==e&&null!==(t=e.endsWith)&&void 0!==t&&t.call(e,"S"))r="s"+(null===(i=r)||void 0===i||null===(o=i.slice)||void 0===o?void 0:o.call(i,0,-1));else r="k"+r;let a={jsonrpc:"2.0",method:"subscribe",params:["kline",this.$store.state.pair.address,r,this.$store.state.pair.chain],id:1};this.$store.commit("setState",{name:"wsKlineParams",value:a.params}),this.$store.commit("wsSend",a)}},unsubscribeKline(){if(this.$store.state.ws.socket&&this.$store.state.ws.isConnected&&this.klineParams&&Array.isArray(this.klineParams)&&4===this.klineParams.length&&this.klineParams[1]){let e={jsonrpc:"2.0",method:"unsubscribe",params:this.klineParams,id:1};this.$store.commit("wsSend",e)}},formatLang(e){let t={en:"en","zh-cn":"zh","zh-tw":"zh_TW"};return t[e]||"en"},saveStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){var t,i;let e=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t).getAllStudies();good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].set("tradingViewStudies",e.filter(e=>"Volume"!==e.name))}},createStudy(){var e;if(null!==(e=this.widget)&&void 0!==e&&e.activeChart){let e=good_storage__WEBPACK_IMPORTED_MODULE_22__["a"].get("tradingViewStudies");if(e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e.name,!1,!1)}),localStorage["tradingview.chart.favoriteLibraryIndicators"]){let e=JSON.parse(localStorage["tradingview.chart.favoriteLibraryIndicators"]);e.forEach(e=>{var t,i;null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i||i.call(t).createStudy(e,!1,!1)})}this.createPositionPriceLine(),this.createMigratePriceLine()}},createPositionPriceLine(){var e,t,i,o,s,r,a;if(this.isReady=!0,!this.widget||null===(e=this.widget)||void 0===e||!e.activeChart)return;let n=this.$store.state.bot.allChainsBalances||[];const l=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t);let c=null===n||void 0===n||null===(o=n.find)||void 0===o?void 0:o.call(n,e=>{var t,i,o,s;return(null===e||void 0===e||null===(t=e.token)||void 0===t||null===(i=t.toLowerCase)||void 0===i?void 0:i.call(t))===(null===(o=this.$store.state.tokenInfo)||void 0===o||null===(o=o.address)||void 0===o||null===(s=o.toLowerCase)||void 0===s?void 0:s.call(o))}),d=this.hlineId;if(!l||!c&&!d)return;let u=Number(null===c||void 0===c?void 0:c.avgPrice)||0;var _;this.showMarket&&(u=(null===(_=new bignumber_js__WEBPACK_IMPORTED_MODULE_25___default.a(u).times(this.circulation))||void 0===_?void 0:_.toString())/1e3);if(d){var h;let e=null===l||void 0===l||null===(h=l.getShapeById)||void 0===h?void 0:h.call(l,d);var m;if(!c&&e)return null===l||void 0===l||null===(m=l.removeEntity)||void 0===m||m.call(l,d),void(this.hlineId="");if(e)return void e.setPoints([{price:u}])}d=null===l||void 0===l||null===(s=l.createShape)||void 0===s?void 0:s.call(l,{price:u},{shape:"horizontal_line",lock:!0,disableSelection:!0,disableSave:!0,text:this.$t("averagePositionPrice"),overrides:{linecolor:"#999999",linewidth:1,linestyle:2}}),this.hlineId=d,null===l||void 0===l||null===(r=l.getShapeById)||void 0===r||null===(r=r.call(l,d))||void 0===r||null===(a=r.setProperties)||void 0===a||a.call(r,{textcolor:"#999999",showLabel:!0,horzLabelsAlign:"right",vertLabelsAlign:"middle",bold:!0,fontSize:14})},createMigratePriceLine(){var e,t,i,o,s,r,a,n;if(this.isReady=!0,!this.widget||null===(e=this.widget)||void 0===e||!e.activeChart)return;const l=null===(t=this.widget)||void 0===t||null===(i=t.activeChart)||void 0===i?void 0:i.call(t);let c=this.migratedHLineId,d=Number((null===(o=this.migrated)||void 0===o||null===(o=o.tag)||void 0===o||null===(s=o.split)||void 0===s||null===(s=s.call(o,"_"))||void 0===s?void 0:s[4])||0);if(d){var u;if(this.showMarket)d=(null===(u=new bignumber_js__WEBPACK_IMPORTED_MODULE_25___default.a(d).times(this.circulation))||void 0===u?void 0:u.toString())/1e3;if(c){var _;let e=null===l||void 0===l||null===(_=l.getShapeById)||void 0===_?void 0:_.call(l,c);if(e)return void e.setPoints([{price:d}])}c=null===l||void 0===l||null===(r=l.createShape)||void 0===r?void 0:r.call(l,{price:d},{shape:"horizontal_line",lock:!0,disableSelection:!0,disableSave:!0,text:this.showMarket?this.$t("migratedMCap"):this.$t("migratedPrice"),overrides:{linecolor:"#722ED1",linewidth:1,linestyle:2}}),this.migratedHLineId=c,null===l||void 0===l||null===(a=l.getShapeById)||void 0===a||null===(a=a.call(l,c))||void 0===a||null===(n=a.setProperties)||void 0===n||n.call(a,{textcolor:"#722ED1",showLabel:!0,horzLabelsAlign:"right",vertLabelsAlign:"middle",bold:!0,fontSize:14})}else if(c){var h;let e=null===l||void 0===l||null===(h=l.getShapeById)||void 0===h?void 0:h.call(l,c);var m;if(e)null===l||void 0===l||null===(m=l.removeEntity)||void 0===m||m.call(l,c),this.migratedHLineId=""}},async loadHistoricalMarks(e,t,i){if(e>=t)return;const o=this.arr_dot.filter(e=>!0===this.kline_dot_show_obj[e.id]);if(0===o.length)return;const s=o.map(async o=>{try{const s=await this.dealOtherMarkData(i,o.id,o.name,null,e,t);if(s&&s.length>0){const e=this.kline_marks[o.id]||[],t=new Set(e.map(e=>String(e.id))),i=s.filter(e=>!t.has(String(e.id)));if(i.length>0)return this.kline_marks[o.id]=[...i,...e].sort((e,t)=>e.time-t.time),!0}}catch(s){}return!1}),r=await Promise.all(s);r.some(e=>!0===e)&&this.$nextTick(()=>{var e;null!==(e=this.widget)&&void 0!==e&&e.activeChart&&this.widget.activeChart().refreshMarks()})}}}},fa85:function(e,t,i){e.exports=i.p+"static/img/unlock.636d2374.png"}}]);